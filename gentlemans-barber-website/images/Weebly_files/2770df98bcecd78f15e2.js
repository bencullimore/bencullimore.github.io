editorWBJP([0],{254:function(e,t,r){var n,o;!(n=[r(1),r(2),r(100),r(76),r(176),r(416),r(250)],o=function(e,t,r,n,o,i){var a=r.extend(e.extend({},n.Mixin,{className:"takeover",innerOverlayClassName:"takeover__overlay",contentViewTriggerPrefix:"takeover",topbar:null,title:"Takeover",isTopbarDark:true,backLink:{action:"close",text:"Close",isClose:true},loadingText:"Loading content...",_initialize:function(){var e=this;r.prototype._initialize.call(this);this.watchContentSize=this.watchContentSize.bind(this);this.topbar=new o({title:this.queryOption("title"),isDark:this.queryOption("isTopbarDark"),hasContainer:true}).on("back",function(){e.back()}).on("forward",function(){e.forward()})},processContentView:function(e){this.extendOptions(t.result(e,"takeoverOptions",{}));e.takeover=this;if(this.topbar){this.topbar.setTitle(this.queryOption("title"));this.topbar.setBackLink(this.getBackLink());this.topbar.setForwardLink(this.getForwardLink())}},destroy:function(){i.remove(this.watchContentSize);this.topbar.destroy();r.prototype.destroy.call(this)},renderSkeleton:function(){var e=this.topbar;e.setBackLink(this.getBackLink());e.setForwardLink(this.getForwardLink());e.render().$el.addClass("takeover__topbar").appendTo(this.$el);this.$el.append('<div class="takeover__scroll">'+'<div class="takeover__content"></div>'+'<div class="takeover-loading">'+'<div class="takeover-loading__container">'+'<div class="takeover-spinner">'+'<div class="takeover-spinner__bg"></div>'+"</div>"+'<span class="takeover-loading__text">'+this.queryOption("loadingText")+"</span>"+"</div>"+"</div>"+"</div>")},getBackLink:function(){return this.queryOption("backLink")},getForwardLink:function(){return this.queryOption("forwardLink")},queryHeaderOuterEl:function(){return this.topbar.$el},queryContentOuterEl:function(){return this.$el.find(".takeover__scroll")},queryContentInnerEl:function(){return this.$el.find(".takeover__content")},queryScrollEl:function(){return this.queryContentOuterEl()},applyScrollbar:function(){var e=this.queryScrollEl();e.nanoScroller({alwaysVisible:true,preventPageScrolling:true,contentClass:"takeover__content",paneClass:"takeover__scrollbar",sliderClass:"takeover__scrollbar-slider"});i.add(this.watchContentSize)},watchContentSize:function(){var e=this.queryContentInnerEl().children();var t=e.height();if(this._contentHeight!==t){this.applyScrollbar()}this._contentHeight=t},back:function(){var t=this;var r=this.queryOption("backLink");var n=(r||{}).action;if(this.topbar.isBackEnabled){return this._trigger("before:back").then(function(){if(n){t[n].call(t)}t._trigger("back")})}else{return e.Deferred().reject().promise()}},forward:function(){var t=this;var r=this.queryOption("forwardLink");var n=(r||{}).action;if(this.topbar.isForwardEnabled){return this._trigger("before:forward").then(function(){if(n){t[n].call(this)}t._trigger("forward")})}else{return e.Deferred().reject().promise()}},setIsLoading:function(e){e=!!e;this.$el.find(".takeover-loading").toggleClass("is-visible",e);this.$el.find(".takeover__content").toggle()},updatePosition:function(){},_onBeforeOpen:function(){if(!a.visibleCnt++){e("body").css("overflow","hidden")}},_onClose:function(){if(!--a.visibleCnt){this.$el.css("overflow","hidden");this.$("> *").each(function(){var t=e(this);t.width(t.width())});e("body").css("overflow","")}}}));a.visibleCnt=0;e.each(["setTitle","setBackLink","setForwardLink","setBackEnabled","setForwardEnabled"],function(e,t){a.prototype[t]=function(){this.topbar[t].apply(this.topbar,arguments)}});a.takeover=function(e){var t=new a(e);t.open()};r.prototype.takeover=function(e){var t=new a(e);this.openOverlay(t)};return a}.apply(t,n),o!==undefined&&(e.exports=o))},337:function(e,t,r){var n,o;!(n=[r(1),r(2),r(3),r(254),r(648)],o=function(e,t,r,n,o){return n.extend({wrapClassName:"ui-framework orbit-legacy billing-takeover-container",hasContentLegacyStyles:false,renderContent:function(e){var t=this;var n=r.render(o,{url:t.options.url});e.html(n)},ui:{iframe:"#billing-frame"},topbar:null,initialize:function(){var t=this;e(window).on("message",null,{view:t},t.onWindowMessage)},onShow:function(){this.setIsLoading(true);this.topbar.destroy()},onWindowMessage:function(e){var r=e.data.view;var n=e.originalEvent.data;var o="";if(t.isObject(n)){o=n.message;r.lastTransaction=n.last_transaction}else{o=n}switch(o){case"billingFrameClose":r.close();break;case"billingFrameCloseRedirectToHome":window.location.href="/home";r.close();break;case"billingFrameReady":r.setIsLoading(false);break;default:break;case"billingCheckoutPlanPageView":delete n.message;if(window.appboy&&window.userID){window.appboy.changeUser(window.userID);window.appboy.logCustomEvent("plan_checkout_page_view",n)}break}},setIsLoading:function(e){this.$el.find(".dialog-loading").toggleClass("is-visible",e)}})}.apply(t,n),o!==undefined&&(e.exports=o))},416:function(e,t,r){var n;!(n=function(){"use strict";var e;var t=[];function r(){t.forEach(function(e){e()})}return{add:function(n){if(t.indexOf(n)!==-1){return}t.push(n);if(!e){e=setInterval(r,250)}return this},remove:function(r){var n=t.indexOf(r);if(n>-1){t.splice(n,1);if(t.length===0){clearInterval(e);e=null}}return this}}}.call(t,r,t,e),n!==undefined&&(e.exports=n))},648:function(e,t){e.exports='<iframe id="billing-frame" src={{{url}}} frameborder="0"></iframe>\n\n<div class="dialog-loading">\n\t<div class="dialog-loading__container">\n\t\t<div class="dialog-spinner">\n\t\t\t<div class="dialog-spinner__bg"></div>\n\t\t</div>\n\t\t<span class="dialog-loading__text">{{#tl}}templates.billing.billing-takeover.takeover_1{{/tl}}</span>\n\t</div>\n</div>'},844:function(e,t,r){(function r(n,o){if(true)e.exports=o();else if(typeof define==="function"&&define.amd)define([],o);else if(typeof t==="object")t["PhotoEditorSDK"]=o();else n["PhotoEditorSDK"]=o()})(this,function(){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:false,exports:{}};e[n].call(o.exports,o,o.exports,r);o.l=true;return o.exports}r.m=e;r.c=t;r.p="";return r(r.s=109)}([function(e,t){"use strict";t.__esModule=true;t.default=function(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}},function(e,t,r){"use strict";t.__esModule=true;var n=r(184);var o=l(n);var i=r(183);var a=l(i);var s=r(21);var u=l(s);function l(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+(typeof t==="undefined"?"undefined":(0,u.default)(t)))}e.prototype=(0,a.default)(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)o.default?(0,o.default)(e,t):e.__proto__=t}},function(e,t,r){"use strict";t.__esModule=true;var n=r(21);var o=i(n);function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&((typeof t==="undefined"?"undefined":(0,o.default)(t))==="object"||typeof t==="function")?t:e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.Licensing=t.Base64=t.GLUtils=t.Promise=t.Log=t.Constants=t.Color=t.Configurable=t.Utils=t.EventEmitter=t.Engine=t.cancelAnimationFrame=t.requestAnimationFrame=undefined;var n=r(182);Object.defineProperty(t,"requestAnimationFrame",{enumerable:true,get:function e(){return n.requestAnimationFrame}});Object.defineProperty(t,"cancelAnimationFrame",{enumerable:true,get:function e(){return n.cancelAnimationFrame}});var o=r(64);Object.keys(o).forEach(function(e){if(e==="default"||e==="__esModule")return;Object.defineProperty(t,e,{enumerable:true,get:function t(){return o[e]}})});var i=r(12);var a=M(i);var s=r(9);var u=R(s);var l=r(25);var c=M(l);var d=r(26);var f=M(d);var p=r(19);var h=M(p);var v=r(14);var m=M(v);var _=r(11);var g=M(_);var y=r(27);var b=M(y);var x=r(7);var E=M(x);var C=r(74);var w=M(C);var S=r(112);var T=M(S);function R(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function M(e){return e&&e.__esModule?e:{default:e}}t.Engine=a.default;t.EventEmitter=f.default;t.Utils=h.default;t.Configurable=m.default;t.Color=g.default;t.Constants=u;t.Log=b.default;t.Promise=E.default;t.GLUtils=w.default;t.Base64=c.default;t.Licensing=T.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=h(n);var i=r(2);var a=h(i);var s=r(1);var u=h(s);var l=r(3);var c=r(146);var d=h(c);var f=r(14);var p=h(f);function h(e){return e&&e.__esModule?e:{default:e}}var v=l.Constants.OptionType;var m=function(e){(0,u.default)(t,e);function t(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};(0,o.default)(this,t);var n=(0,a.default)(this,e.call(this,r,{intensity:{type:v.NUMBER,default:1,setter:function e(t){this._stack&&this._stack.setIntensity(t);return t}},dirty:{type:v.BOOLEAN,default:true}}));n._stack=new d.default(n._options.intensity);return n}t.prototype.render=function e(t,r,n){var o=this;return this._stack.render(t,r,n).then(function(e){o.setDirty(false);return e})};t.prototype.setDirtyForRenderer=function e(t,r){this._stack.setDirtyForRenderer(t,r)};t.prototype.disposeRenderTextures=function e(){this._stack.disposeRenderTextures()};t.prototype.dispose=function e(){this._stack.dispose()};return t}(p.default);m.identifier=null;m.isIdentity=false;m.displayName=null;m.PrimitivesStack=d.default;t.default=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(147);Object.defineProperty(t,"Brightness",{enumerable:true,get:function e(){return _(n).default}});var o=r(149);Object.defineProperty(t,"Contrast",{enumerable:true,get:function e(){return _(o).default}});var i=r(148);Object.defineProperty(t,"ColorMatrixPrimitive",{enumerable:true,get:function e(){return _(i).default}});var a=r(150);Object.defineProperty(t,"Desaturation",{enumerable:true,get:function e(){return _(a).default}});var s=r(151);Object.defineProperty(t,"Gamma",{enumerable:true,get:function e(){return _(s).default}});var u=r(152);Object.defineProperty(t,"Glow",{enumerable:true,get:function e(){return _(u).default}});var l=r(153);Object.defineProperty(t,"Gobblin",{enumerable:true,get:function e(){return _(l).default}});var c=r(154);Object.defineProperty(t,"Grayscale",{enumerable:true,get:function e(){return _(c).default}});var d=r(80);Object.defineProperty(t,"LookupTable",{enumerable:true,get:function e(){return _(d).default}});var f=r(155);Object.defineProperty(t,"LookupTableImage",{enumerable:true,get:function e(){return _(f).default}});var p=r(156);Object.defineProperty(t,"Saturation",{enumerable:true,get:function e(){return _(p).default}});var h=r(157);Object.defineProperty(t,"SoftColorOverlay",{enumerable:true,get:function e(){return _(h).default}});var v=r(158);Object.defineProperty(t,"ToneCurve",{enumerable:true,get:function e(){return _(v).default}});var m=r(159);Object.defineProperty(t,"X400",{enumerable:true,get:function e(){return _(m).default}});function _(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";var n=r(27);var o=E(n);var i=r(11);var a=E(i);var s=r(75);var u=E(s);var l=r(76);var c=E(l);var d=r(20);var f=E(d);var p=r(26);var h=E(p);var v=r(19);var m=E(v);var _=r(74);var g=E(_);var y=r(9);var b=x(y);function x(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function E(e){return e&&e.__esModule?e:{default:e}}t.BATCH_SIZE=2e3;t.VERTEX_SIZE=5;t.VERTEX_BYTE_SIZE=t.VERTEX_SIZE*4;t.Color=a.default;t.Matrix=u.default;t.Vector2=f.default;t.Rectangle=c.default;t.EventEmitter=h.default;t.Log=o.default;t.Utils=m.default;t.Constants=b;t.GLUtils=g.default},function(e,t,r){(function(n,o){var i;"use strict";var a=r(21);var s=u(a);function u(e){return e&&e.__esModule?e:{default:e}}(function n(o,a,s){a[o]=a[o]||s();if(typeof e!="undefined"&&e.exports){e.exports=a[o]}else if(true){!(i=function e(){return a[o]}.call(t,r,t,e),i!==undefined&&(e.exports=i))}})("Promise",typeof n!="undefined"?n:undefined,function e(){"use strict";var t,r,n,i=Object.prototype.toString,a=typeof o!="undefined"?function e(t){return o(t)}:setTimeout;try{Object.defineProperty({},"x",{});t=function e(t,r,n,o){return Object.defineProperty(t,r,{value:n,writable:true,configurable:o!==false})}}catch(e){t=function e(t,r,n){t[r]=n;return t}}n=function e(){var t,n,o;function i(e,t){this.fn=e;this.self=t;this.next=void 0}return{add:function e(r,a){o=new i(r,a);if(n){n.next=o}else{t=o}n=o;o=void 0},drain:function e(){var o=t;t=n=r=void 0;while(o){o.fn.call(o.self);o=o.next}}}}();function u(e,t){n.add(e,t);if(!r){r=a(n.drain)}}function l(e){var t,r=typeof e==="undefined"?"undefined":(0,s.default)(e);if(e!=null&&(r=="object"||r=="function")){t=e.then}return typeof t=="function"?t:false}function c(){for(var e=0;e<this.chain.length;e++){d(this,this.state===1?this.chain[e].success:this.chain[e].failure,this.chain[e])}this.chain.length=0}function d(e,t,r){var n,o;try{if(t===false){r.reject(e.msg)}else{if(t===true){n=e.msg}else{n=t.call(void 0,e.msg)}if(n===r.promise){r.reject(TypeError("Promise-chain cycle"))}else if(o=l(n)){o.call(n,r.resolve,r.reject)}else{r.resolve(n)}}}catch(e){r.reject(e)}}function f(e){var t,r=this;if(r.triggered){return}r.triggered=true;if(r.def){r=r.def}try{if(t=l(e)){u(function(){var n=new v(r);try{t.call(e,function e(){f.apply(n,arguments)},function e(){p.apply(n,arguments)})}catch(e){p.call(n,e)}})}else{r.msg=e;r.state=1;if(r.chain.length>0){u(c,r)}}}catch(e){p.call(new v(r),e)}}function p(e){var t=this;if(t.triggered){return}t.triggered=true;if(t.def){t=t.def}t.msg=e;t.state=2;if(t.chain.length>0){u(c,t)}}function h(e,t,r,n){for(var o=0;o<t.length;o++){(function o(i){e.resolve(t[i]).then(function e(t){r(i,t)},n)})(o)}}function v(e){this.def=e;this.triggered=false}function m(e){this.promise=e;this.state=0;this.triggered=false;this.chain=[];this.msg=void 0}function _(e){if(typeof e!="function"){throw TypeError("Not a function")}if(this.__NPO__!==0){throw TypeError("Not a promise")}this.__NPO__=1;var t=new m(this);this["then"]=function e(r,n){var o={success:typeof r=="function"?r:true,failure:typeof n=="function"?n:false};o.promise=new this.constructor(function e(t,r){if(typeof t!="function"||typeof r!="function"){throw TypeError("Not a function")}o.resolve=t;o.reject=r});t.chain.push(o);if(t.state!==0){u(c,t)}return o.promise};this["catch"]=function e(t){return this.then(void 0,t)};try{e.call(void 0,function e(r){f.call(t,r)},function e(r){p.call(t,r)})}catch(e){p.call(t,e)}}var g=t({},"constructor",_,false);_.prototype=g;t(g,"__NPO__",0,false);t(_,"resolve",function e(t){var r=this;if(t&&(typeof t==="undefined"?"undefined":(0,s.default)(t))=="object"&&t.__NPO__===1){return t}return new r(function e(r,n){if(typeof r!="function"||typeof n!="function"){throw TypeError("Not a function")}r(t)})});t(_,"reject",function e(t){return new this(function e(r,n){if(typeof r!="function"||typeof n!="function"){throw TypeError("Not a function")}n(t)})});t(_,"all",function e(t){var r=this;if(i.call(t)!="[object Array]"){return r.reject(TypeError("Not an array"))}if(t.length===0){return r.resolve([])}return new r(function e(n,o){if(typeof n!="function"||typeof o!="function"){throw TypeError("Not a function")}var i=t.length,a=Array(i),s=0;h(r,t,function e(t,r){a[t]=r;if(++s===i){n(a)}},o)})});t(_,"race",function e(t){var r=this;if(i.call(t)!="[object Array]"){return r.reject(TypeError("Not an array"))}return new r(function e(n,o){if(typeof n!="function"||typeof o!="function"){throw TypeError("Not a function")}h(r,t,function e(t,r){n(r)},o)})});return _})}).call(t,function(){return this}(),r(63).setImmediate)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=d(n);var i=r(2);var a=d(i);var s=r(1);var u=d(s);var l=r(14);var c=d(l);function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);return(0,a.default)(this,e.apply(this,arguments))}t.prototype.update=function e(){};t.prototype.getFilter=function e(){return this._filter};t.prototype.dispose=function e(){if(this._filter){this._filter.dispose();this._filter=null}};return t}(c.default);t.default=f},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=t.RenderType={IMAGE:"image",DATAURL:"data-url",BUFFER:"buffer",BLOB:"blob",MSBLOB:"ms-blob"};var n=t.ImageFormat={PNG:"image/png",JPEG:"image/jpeg"};var o=t.Events={OPERATION_UPDATED:"operation:update"};var i=t.OptionType={NUMBER:"number",VECTOR2:"vector2",COLOR_MATRIX:"color-matrix",COLOR:"color",ARRAY:"array",OBJECT:"object",STRING:"string",BOOLEAN:"boolean",CONFIGURABLE:"configurable",IMAGE:"image",ALL:"*"};var a=t.UniformType={SAMPLER2D:"sampler2d",INT:"i",INT1:"1i",FLOAT:"f",FLOAT1:"1f",FLOAT2:"2f",FLOAT_VECTOR2:"2fv",FLOAT3:"3f",FLOAT4:"4f",MAT3:"mat3",MAT3FV:"mat3fv",MAT4:"mat4"};var s=t.RendererType={WEBGL:"webgl",CANVAS:"canvas"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=b(n);var i=r(2);var a=b(i);var s=r(1);var u=b(s);var l=r(9);var c=r(7);var d=b(c);var f=r(27);var p=b(f);var h=r(12);var v=b(h);var m=r(14);var _=b(m);var g=r(77);var y=b(g);function b(e){return e&&e.__esModule?e:{default:e}}var x=function(e){(0,u.default)(t,e);function t(r){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};(0,o.default)(this,t);var i=(0,a.default)(this,e.call(this,n,{enabled:{type:l.OptionType.BOOLEAN,default:true}}));i._sdk=r;i._cacheEnabled=false;i._dirtiness={};i._sprite=new v.default.Sprite;i._container=new v.default.Container;i._container.addChild(i._sprite);return i}t.prototype._onOptionsChange=function e(){this.setDirty(true)};t.prototype.render=function e(t){var r=this;if(!this.getEnabled()){p.default.info(this.constructor.name,"Disabled - skipping");return d.default.resolve(t)}if(!this._renderTexture){var n=this._sdk.getSprite().getTexture().getFrame();this._renderTexture=new v.default.RenderTexture(this._sdk.getRenderer(),n.width,n.height)}var o=this._sdk.getRenderer();var i=void 0;var a=void 0;if(p.default.canLog("info")){a=new y.default(this.constructor.name,"Rendering")}if(this.isDirtyForRenderer(o)){this._sprite.setTexture(t);var s=this.getNewDimensions(t.getDimensions()).floor();this._renderTexture.resizeTo(s);this._renderTexture.clear();i=this._render(t).then(function(){r.setDirtyForRenderer(false,o);return r._renderTexture})}else{p.default.info(this.constructor.name,"Rendering from cache");i=d.default.resolve(this._renderTexture)}return i.then(function(e){if(a)a.stop();return e})};t.prototype._render=function e(t){var r=void 0;if(this._sdk.getRenderer().isOfType(l.RendererType.WEBGL)){r=this._renderWebGL.bind(this)}else{r=this._renderCanvas.bind(this)}return r(t)};t.prototype._renderWebGL=function e(t){throw new Error("Operation#_renderWebGL is abstract and not implemented in inherited class.")};t.prototype._renderCanvas=function e(t){throw new Error("Operation#_renderCanvas is abstract and not implemented in inherited class.")};t.prototype.getNewDimensions=function e(t){return t.clone()};t.prototype.reset=function e(){this._dirty=true;this._glslPrograms={}};t.prototype.isDirtyForRenderer=function e(t){var r=this._dirtiness[t.id];return typeof r==="undefined"?true:r};t.prototype.setDirtyForRenderer=function e(t,r){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;this._dirtiness[r.id]=t};t.prototype.setDirty=function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;for(var n in this._dirtiness){this.setDirtyForRenderer(t,{id:n},r)}};t.prototype.getSDK=function e(){return this._sdk};t.prototype.getInputDimensions=function e(){var t=this;var r=this._sdk.getInputDimensions();var n=void 0;this._sdk.getOperationsStack().forEach(function(e){if(n)return;if(e===t){n=true;return}r=e.getNewDimensions(r)});return r.floor()};t.prototype.disposeRenderTextures=function e(){if(this._renderTexture){this._renderTexture.dispose()}this._renderTexture=null};t.prototype.dispose=function e(){this.disposeRenderTextures();this._sprite.dispose()};return t}(_.default);x.identifier=null;t.default=x},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=s(n);var i=r(37);var a=s(i);function s(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(t,r,n){var i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:1;(0,o.default)(this,e);this.r=t;this.g=r;this.b=n;this.a=i}e.prototype.toRGBA=function e(){var t=[Math.round(this.r*255),Math.round(this.g*255),Math.round(this.b*255),this.a];return"rgba("+t.join(",")+")"};e.prototype.toHex=function e(){var t=[this._componentToHex(Math.round(this.r*255)),this._componentToHex(Math.round(this.g*255)),this._componentToHex(Math.round(this.b*255))];return"#"+t.join("")};e.prototype.toGLColor=function e(){return[this.r,this.g,this.b,this.a]};e.prototype.toArray=function e(){return this.toGLColor()};e.prototype.toRGBGLColor=function e(){return[this.r,this.g,this.b]};e.prototype.toHSV=function e(){var t=Math.max(this.r,this.g,this.b);var r=Math.min(this.r,this.g,this.b);var n=void 0;var o=void 0;var i=t;var a=t-r;o=t===0?0:a/t;if(t===r){n=0}else{switch(t){case this.r:n=(this.g-this.b)/a;if(this.g<this.b){n+=6}break;case this.g:n=(this.b-this.r)/a+2;break;case this.b:n=(this.r-this.g)/a+4;break}n/=6}return[n,o,i]};e.fromHSV=function t(r,n,o){var i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:1;var a=[],s=a[0],u=a[1],l=a[2];var c=Math.floor(r*6);var d=r*6-c;var f=o*(1-n);var p=o*(1-d*n);var h=o*(1-(1-d)*n);switch(c%6){case 0:s=o;u=h;l=f;break;case 1:s=p;u=o;l=f;break;case 2:s=f;u=o;l=h;break;case 3:s=f;u=p;l=o;break;case 4:s=h;u=f;l=o;break;case 5:s=o;u=f;l=p;break}return new e(s,u,l,i)};e.fromArray=function t(r){return new e(r[0],r[1],r[2],r[3])};e.prototype.clone=function t(){return new e(this.r,this.g,this.b,this.a)};e.prototype.equals=function e(t){return this.r===t.r&&this.g===t.g&&this.b===t.b&&this.a===t.a};e.prototype._componentToHex=function e(t){var r=t.toString(16);return r.length===1?"0"+r:r};e.prototype.toString=function e(){return"Color("+this.r+", "+this.g+", "+this.b+", "+this.a+")"};(0,a.default)(e,null,[{key:"TRANSPARENT",get:function t(){return new e(0,0,0,0)}},{key:"WHITE",get:function t(){return new e(1,1,1,1)}},{key:"BLACK",get:function t(){return new e(0,0,0,1)}}]);return e}();t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(100);var o=L(n);var i=r(102);var a=L(i);var s=r(45);var u=L(s);var l=r(46);var c=L(l);var d=r(43);var f=L(d);var p=r(68);var h=L(p);var v=r(31);var m=L(v);var _=r(71);var g=L(_);var y=r(105);var b=L(y);var x=r(33);var E=L(x);var C=r(32);var w=L(C);var S=r(104);var T=L(S);var R=r(103);var M=L(R);var O=r(47);var k=L(O);var P=r(44);var D=L(P);var B=r(98);var F=N(B);var A=r(73);var I=L(A);function N(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function L(e){return e&&e.__esModule?e:{default:e}}var U={WebGLRenderer:a.default,CanvasRenderer:o.default,WebGLFilterManager:c.default,CanvasFilterManager:u.default,DisplayObject:f.default,Container:h.default,BaseTexture:m.default,Texture:g.default,RenderTexture:b.default,WebGLRenderTarget:E.default,CanvasRenderTarget:w.default,Sprite:T.default,Shaders:M.default,Shader:k.default,Filter:D.default,Filters:F,PixelArrayImage:I.default,autoDetectRenderer:function e(t,r){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};if(a.default.isSupported()){return new a.default(t,r,n)}else{return new o.default(t,r,n)}}};t.default=U},function(e,t){var r=e.exports=typeof window!="undefined"&&window.Math==Math?window:typeof self!="undefined"&&self.Math==Math?self:Function("return this")();if(typeof __g=="number")__g=r},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(21);var o=T(n);var i=r(83);var a=T(i);var s=r(0);var u=T(s);var l=r(2);var c=T(l);var d=r(1);var f=T(d);var p=r(7);var h=T(p);var v=r(26);var m=T(v);var _=r(20);var g=T(_);var y=r(11);var b=T(y);var x=r(19);var E=T(x);var C=r(34);var w=T(C);var S=r(9);function T(e){return e&&e.__esModule?e:{default:e}}var R=void 0;if(true){R=window.Image}var M=function(e){(0,f.default)(t,e);function t(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};(0,u.default)(this,t);var o=(0,c.default)(this,e.call(this));o.availableOptions=o.availableOptions||{};o.availableOptions=E.default.extend(o.availableOptions,n);o._onConfigurableUpdate=o._onConfigurableUpdate.bind(o);o._initOptions(r);return o}t.prototype._buildConfigError=function e(t){var r="";if(this.constructor.name){r=this.constructor.name+": "}r+=t;return new Error(r)};t.prototype._onOptionsChange=function e(){};t.prototype.validateSettings=function e(){var t=this;return new h.default(function(e,r){for(var n in t.availableOptions){var o=t.availableOptions[n];if(o.required&&typeof t._options[n]==="undefined"){return r(t._buildConfigError("Option `"+n+"` is required."))}}e()})};t.prototype._initOptions=function e(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};this._options={};var n,o,i;var a=this;for(n in this.availableOptions){i=n.charAt(0).toUpperCase()+n.slice(1);o=this.availableOptions[n];if([S.OptionType.STRING,S.OptionType.NUMBER,S.OptionType.BOOLEAN,S.OptionType.OBJECT,S.OptionType.VECTOR2,S.OptionType.COLOR,S.OptionType.CONFIGURABLE,S.OptionType.COLOR_MATRIX,S.OptionType.ARRAY,S.OptionType.IMAGE,S.OptionType.ALL].indexOf(o.type)===-1){throw this._buildConfigError("Unknown option type: `"+o.type+"`")}var s=function e(t,r){a["set"+i]=function(e,r,n){a.setOption(t,e,r,n)};a["get"+i]=function(){return a.getOption(t)}};s(n,o);if(o.type===S.OptionType.CONFIGURABLE){this._options[n]=new t(undefined,o.structure||{});this._options[n].on("update",this._onConfigurableUpdate)}if(typeof o.default!=="undefined"&&!(n in r)){var u=o.default;if(typeof o.default==="function"){u=o.default()}this["set"+i](u,false,true)}}for(n in r){if(typeof this.availableOptions[n]==="undefined"){throw new Error("Invalid option: "+n)}if(typeof r[n]!=="undefined"){i=n.charAt(0).toUpperCase()+n.slice(1);this["set"+i](r[n],false,true)}}};t.prototype.set=function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;if(r){this.emit("update",this,t)}for(var n in t){this.setOption(n,t[n],false)}this._onOptionsChange()};t.prototype.getOption=function e(t){return this._options[t]};t.prototype.getOptionDefault=function e(t){var r=this.availableOptions[t];if(!r){throw new Error("Invalid option: "+t)}return r.default};t.prototype.getOptions=function e(){return this._options};t.prototype.getDefaultOptions=function e(){var t={};for(var r in this.availableOptions){var n=this.availableOptions[r].default;if(typeof n==="undefined")continue;t[r]=n}return t};t.prototype.optionsEqual=function e(t){for(var r in t){var n=t[r];if(!this._optionEquals(r,n)){return false}}return true};t.prototype._optionEquals=function e(t,r){var n=this.availableOptions[t];if(typeof n==="undefined"){throw new Error("Invalid option: "+t)}var o=this.availableOptions[t].type;var i=this._options[t];if(i===r)return true;switch(o){case S.OptionType.STRING:case S.OptionType.NUMBER:case S.OptionType.BOOLEAN:case S.OptionType.OBJECT:case"*":return i===r;case S.OptionType.VECTOR2:return i.equals(r);case S.OptionType.COLOR:case S.OptionType.COLOR_MATRIX:return r.equals(i);case S.OptionType.CONFIGURABLE:return i.optionsEqual(r);case S.OptionType.ARRAY:return this._arrayOptionEquals(t,r);case S.OptionType.IMAGE:return i.src===r.src}};t.prototype._arrayOptionEquals=function e(r,n){var o=this._options[r];var i=true;for(var a=0;a<o.length;a++){var s=o[a];var u=n[a];if(s instanceof t){if(typeof u==="undefined"||!s.optionsEqual(u)){i=false;break}}else if(u!==s){i=false;break}}return i};t.prototype.serializeOptions=function e(){var t=this;var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:Object.keys(this._options);var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var o={};r.forEach(function(e){o[e]=t._serializeOption(e,n)});return o};t.prototype._serializeOption=function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var n=this.availableOptions[t].type;var o=this._options[t];if(!o)return o;switch(n){case S.OptionType.STRING:case S.OptionType.NUMBER:case S.OptionType.BOOLEAN:case S.OptionType.OBJECT:case S.OptionType.ALL:return o;case S.OptionType.VECTOR2:return r?o.toObject():o.clone();case S.OptionType.COLOR:case S.OptionType.COLOR_MATRIX:return r?o.toArray():o.clone();case S.OptionType.CONFIGURABLE:return o.serializeOptions(undefined,r);case S.OptionType.ARRAY:return o.slice(0);case S.OptionType.IMAGE:return o.src}};t.prototype.setOption=function e(t,r){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;var i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;if(n){this.emit("update",this,(0,a.default)({},t,r))}var s=this.availableOptions[t];if(!s){throw new Error("Invalid option: "+t)}if(typeof s.setter!=="undefined"){r=s.setter.call(this,r,i)}if(typeof s.validation!=="undefined"){s.validation(r)}if(r===null){if(s.required){throw this._buildConfigError("Option `"+t+"` is required.")}this._options[t]=r}else{switch(s.type){case S.OptionType.STRING:if((typeof r==="undefined"?"undefined":(0,o.default)(r))!==S.OptionType.STRING){throw this._buildConfigError("Option `"+t+"` has to be a string.")}var u=s.available;if(typeof u!=="undefined"&&u.indexOf(r)===-1){throw this._buildConfigError("Invalid value for `"+t+"` (valid values are: "+s.available.join(", ")+")")}this._options[t]=r;break;case S.OptionType.NUMBER:if((typeof r==="undefined"?"undefined":(0,o.default)(r))!==S.OptionType.NUMBER){throw this._buildConfigError("Option `"+t+"` has to be a number.")}this._options[t]=r;break;case S.OptionType.BOOLEAN:if((typeof r==="undefined"?"undefined":(0,o.default)(r))!==S.OptionType.BOOLEAN){throw this._buildConfigError("Option `"+t+"` has to be a boolean.")}this._options[t]=r;break;case S.OptionType.VECTOR2:if(!(r instanceof g.default)&&!((typeof r==="undefined"?"undefined":(0,o.default)(r))==="object"&&"x"in r&&"y"in r)){throw this._buildConfigError("Option `"+t+"` has to be an instance of Vector2 or an Object holding x and y values.")}if(r instanceof g.default){this._options[t]=r.clone()}else{this._options[t]=g.default.fromObject(r)}break;case S.OptionType.COLOR:if(!(r instanceof b.default)){throw this._buildConfigError("Option `"+t+"` has to be an instance of Color.")}this._options[t]=r;break;case S.OptionType.COLOR_MATRIX:if(!(r instanceof w.default)){throw this._buildConfigError("Option `"+t+"` has to be an instance of ColorMatrix.")}this._options[t]=r.clone();break;case S.OptionType.OBJECT:case"*":this._options[t]=r;break;case S.OptionType.IMAGE:if(typeof r==="string"){var l=new R;l.src=r;this._options[t]=l}else if(r instanceof R||typeof HTMLImageElement!=="undefined"&&r instanceof HTMLImageElement){this._options[t]=r}else{throw this._buildConfigError("Option `"+t+"` has to be an Image or String.")}break;case S.OptionType.CONFIGURABLE:this._options[t].set(r);break;case S.OptionType.ARRAY:if(!(r instanceof Array)){throw this._buildConfigError("Option `"+t+"` has to be an Array.")}this._options[t]=r.slice(0);break;default:throw this._buildConfigError("Unknown option type: `"+s.type+"`")}}if(n){this._onOptionsChange();this.emit("update",this,(0,a.default)({},t,r))}};t.prototype._onConfigurableUpdate=function e(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++){r[n]=arguments[n]}this.emit.apply(this,["update"].concat(r));
};return t}(m.default);t.default=M},function(e,t,r){e.exports=!r(38)(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},function(e,t,r){var n=r(28),o=r(87),i=r(59),a=Object.defineProperty;t.f=r(15)?Object.defineProperty:function e(t,r,s){n(t);r=i(r,true);n(s);if(o)try{return a(t,r,s)}catch(e){}if("get"in s||"set"in s)throw TypeError("Accessors not supported!");if("value"in s)t[r]=s.value;return t}},function(e,t,r){var n=r(197),o=r(49);e.exports=function(e){return n(o(e))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(21);var o=l(n);var i=r(0);var a=l(i);var s=r(25);var u=l(s);function l(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(){(0,a.default)(this,e)}e.isArray=function e(t){return Object.prototype.toString.call(t)==="[object Array]"};e.isMobile=function e(){var t=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))};e.values=function e(t){var e=[];for(var r in t){e.push(t[r])}return e};e.isDOMElement=function e(t){return(typeof HTMLElement==="undefined"?"undefined":(0,o.default)(HTMLElement))==="object"?t instanceof HTMLElement:t&&(typeof t==="undefined"?"undefined":(0,o.default)(t))==="object"&&t!==null&&t.nodeType===1&&typeof t.nodeName==="string"};e.isTouchEvent=function e(t){return t.type.indexOf("touch")!==-1};e.resizeVectorToFit=function e(t,r){var n=Math.min(r.x/t.x,r.y/t.y);var o=t.clone().multiply(n);return o};e.isExtendable=function e(t){return typeof t!=="undefined"&&t!==null&&((typeof t==="undefined"?"undefined":(0,o.default)(t))==="object"||typeof t==="function")};e.defaults=function e(t){var r={};for(var n in t){r[n]=t[n]}for(var o=arguments.length,i=Array(o>1?o-1:0),a=1;a<o;a++){i[a-1]=arguments[a]}for(var s=0;s<i.length;s++){var u=i[s];for(var l in u){if(typeof r[l]==="undefined"){r[l]=u[l]}}}return r};e.deepDefaults=function t(r){var n={};for(var o in r){n[o]=r[o]}for(var i=arguments.length,a=Array(i>1?i-1:0),s=1;s<i;s++){a[s-1]=arguments[s]}for(var u=0;u<a.length;u++){var l=a[u];for(var c in l){if(e.isExtendable(n[c])&&e.isExtendable(l[c])){n[c]=e.deepDefaults(n[c],l[c])}else if(typeof n[c]==="undefined"){n[c]=l[c]}}}return n};e.extend=function e(t){var r={};for(var n in t){r[n]=t[n]}for(var o=arguments.length,i=Array(o>1?o-1:0),a=1;a<o;a++){i[a-1]=arguments[a]}for(var s=0;s<i.length;s++){var u=i[s];for(var l in u){r[l]=u[l]}}return r};e.clone=function e(t){return this.extend({},t)};e.createBlobURIFromDataURI=function e(t){if(!window.Blob||!window.URL||!ArrayBuffer||!Uint8Array){return t}var r=u.default.decode(t.split(",")[1]);var n=t.split(",")[0].split(":")[1].split(";")[0];var o=new ArrayBuffer(r.length);var i=new Uint8Array(o);for(var a=0;a<r.length;a++){i[a]=r[a]}var s=new window.Blob([o],{type:n});return window.URL.createObjectURL(s)};e.requestAnimationFrame=function e(t){var r=function e(t){setTimeout(t,1e3/60)};if(typeof window==="undefined"){return r(t)}return(window.requestAnimationFrame||window.webkitRequestAnimationFrame||window.mozRequestAnimationFrame||r)(t)};e.getUUID=function e(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(e){var t=Math.random()*16|0;var r=e==="x"?t:t&3|8;return r.toString(16)})};e.flatten=function t(r){return r.reduce(function(t,r){return t.concat(Array.isArray(r)?e.flatten(r):r)},[])};e.createCanvas=function e(){return document.createElement("canvas")};e.isPowerOfTwo=function e(t){return(t.x&t.x-1)===0&&(t.y&t.y-1)===0};e.nextLowestPOT=function e(t){for(var r=1;r<32;r<<=1){t=t|t>>r}return t-(t>>1)};e.nextHighestPOT=function e(t){t--;for(var r=1;r<32;r<<=1){t=t|t>>r}return t+1};e.moveArrayItem=function e(t,r,n){if(n>=t.length){var o=n-t.length;while(o--+1){t.push(undefined)}}t.splice(n,0,t.splice(r,1)[0])};e.ensureCanvasDimensions=function e(t,r){if(t.width!==r.x||t.height!==r.y){t.width=r.x;t.height=r.y}};e.byteArrayToString=function e(t){return t.map(function(e){return String.fromCharCode(e)}).join("")};return e}();t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=s(n);var i=r(37);var a=s(i);function s(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(t,r){(0,o.default)(this,e);this.x=t;this.y=r;if(typeof this.x==="undefined"){this.x=0}if(typeof this.y==="undefined"){this.y=0}}e.prototype.set=function e(t,r){this.x=t;this.y=r;return this};e.prototype.clone=function t(){return new e(this.x,this.y)};e.prototype.copy=function e(t){this.x=t.x;this.y=t.y;return this};e.prototype.clamp=function t(r,n){var o=r!==null&&typeof r!=="undefined";var i=n!==null&&typeof n!=="undefined";if(!(r instanceof e)&&o){r=new e(r,r)}if(!(n instanceof e)&&i){n=new e(n,n)}if(o){this.x=Math.max(r.x,this.x);this.y=Math.max(r.y,this.y)}if(i){this.x=Math.min(n.x,this.x);this.y=Math.min(n.y,this.y)}return this};e.prototype.divide=function t(r,n){if(r instanceof e){this.x/=r.x;this.y/=r.y}else{this.x/=r;this.y/=typeof n==="undefined"?r:n}return this};e.prototype.subtract=function t(r,n){if(r instanceof e){this.x-=r.x;this.y-=r.y}else{this.x-=r;this.y-=typeof n==="undefined"?r:n}return this};e.prototype.multiply=function t(r,n){if(r instanceof e){this.x*=r.x;this.y*=r.y}else{this.x*=r;this.y*=typeof n==="undefined"?r:n}return this};e.prototype.add=function t(r,n){if(r instanceof e){this.x+=r.x;this.y+=r.y}else{this.x+=r;this.y+=typeof n==="undefined"?r:n}return this};e.prototype.equals=function t(r,n){if(r instanceof e){return r.x===this.x&&r.y===this.y}else{return r===this.x&&n===this.y}};e.prototype.flip=function e(){var t=this.x;this.x=this.y;this.y=t;return this};e.prototype.round=function e(){this.x=Math.round(this.x);this.y=Math.round(this.y);return this};e.prototype.ceil=function e(){this.x=Math.ceil(this.x);this.y=Math.ceil(this.y);return this};e.prototype.floor=function e(){this.x=this.x|0;this.y=this.y|0;return this};e.prototype.abs=function e(){this.x=Math.abs(this.x);this.y=Math.abs(this.y);return this};e.prototype.len=function e(){return Math.sqrt(this.x*this.x+this.y*this.y)};e.prototype.min=function e(){return Math.min(this.x,this.y)};e.prototype.max=function e(){return Math.max(this.x,this.y)};e.prototype.toObject=function e(){return{x:this.x,y:this.y}};e.prototype.toString=function e(){return"Vector2({ x: "+this.x+", y: "+this.y+" })"};e.prototype.roundDecimal=function e(t){this.x=parseFloat(this.x.toFixed(t));this.y=parseFloat(this.y.toFixed(t));return this};e.fromObject=function t(r){return new e(r.x,r.y)};(0,a.default)(e,null,[{key:"NULL",get:function t(){return new e(0,0)}}]);return e}();t.default=u},function(e,t,r){"use strict";t.__esModule=true;var n=r(186);var o=u(n);var i=r(185);var a=u(i);var s=typeof a.default==="function"&&typeof o.default==="symbol"?function(e){return typeof e}:function(e){return e&&typeof a.default==="function"&&e.constructor===a.default&&e!==a.default.prototype?"symbol":typeof e};function u(e){return e&&e.__esModule?e:{default:e}}t.default=typeof a.default==="function"&&s(o.default)==="symbol"?function(e){return typeof e==="undefined"?"undefined":s(e)}:function(e){return e&&typeof a.default==="function"&&e.constructor===a.default&&e!==a.default.prototype?"symbol":typeof e==="undefined"?"undefined":s(e)}},function(e,t){var r=e.exports={version:"2.4.0"};if(typeof __e=="number")__e=r},function(e,t,r){var n=r(17),o=r(40);e.exports=r(15)?function(e,t,r){return n.f(e,t,o(1,r))}:function(e,t,r){e[t]=r;return e}},function(e,t,r){var n=r(57)("wks"),o=r(41),i=r(13).Symbol,a=typeof i=="function";var s=e.exports=function(e){return n[e]||(n[e]=a&&i[e]||(a?i:o)("Symbol."+e))};s.store=n},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=";var n={encode:function e(t){var n="";var o=void 0,i=void 0,a=void 0;var s=void 0,u=void 0,l=void 0,c=void 0;var d=0;do{o=t[d++];i=t[d++];a=t[d++];s=o>>2;u=(o&3)<<4|i>>4;l=(i&15)<<2|a>>6;c=a&63;if(isNaN(i)){l=c=64}else if(isNaN(a)){c=64}n=n+r.charAt(s)+r.charAt(u)+r.charAt(l)+r.charAt(c);o=i=a="";s=u=l=c=""}while(d<t.length);return n},decode:function e(t){var n=void 0,o=void 0,i=void 0;var a=void 0,s=void 0,u=void 0,l=void 0;var c=0;var d=[];var f=/[^A-Za-z0-9\+\/=]/g;if(f.exec(t)){throw new Error("There were invalid base64 characters in the input text.\n"+"Valid base64 characters are A-Z, a-z, 0-9, '+', '/',and '='\n"+"Expect errors in decoding.")}t=t.replace(/[^A-Za-z0-9\+\/=]/g,"");do{a=r.indexOf(t.charAt(c++));s=r.indexOf(t.charAt(c++));u=r.indexOf(t.charAt(c++));l=r.indexOf(t.charAt(c++));n=a<<2|s>>4;o=(s&15)<<4|u>>2;i=(u&3)<<6|l;d.push(n);if(u!==64){d.push(o)}if(l!==64){d.push(i)}n=o=i="";a=s=u=l=""}while(c<t.length);return d}};t.default=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=s(n);var i=r(27);var a=s(i);function s(e){return e&&e.__esModule?e:{default:e}}var u=12;var l=function(){function e(){(0,o.default)(this,e);this._maxListeners=u;this._events={};this._pipeDestinations=[]}e.prototype.pipeEvents=function e(t){this._pipeDestinations.push(t)};e.prototype.unpipeEvents=function e(t){var r=this._pipeDestinations.indexOf(t);if(r===-1){return}this._pipeDestinations.splice(r,1)};e.prototype.on=function e(t,r){if(typeof r!=="function"){throw new TypeError}var n=this._events[t]||(this._events[t]=[]);if(n.indexOf(r)!==-1){return this}n.push(r);if(this._maxListeners&&n.length>this._maxListeners){a.default.warn("EventEmitter","Possible memory leak detected, added "+n.length+" `"+t+"` listeners (current limit is "+this._maxListeners+")");console.trace()}return this};e.prototype.once=function e(t,r){var n=this;function o(){n.off(t,o);r.apply(null,arguments)}return this.on(t,o)};e.prototype.off=function e(t){if((arguments.length<=1?0:arguments.length-1)===0){this._events[t]=null;return this}var r=arguments.length<=1?undefined:arguments[1];if(typeof r!=="function"){throw new TypeError}var n=this._events[t];if(!n||!n.length){return this}var o=n.indexOf(r);if(o===-1){return this}n.splice(o,1);return this};e.prototype.emit=function e(t){for(var r=arguments.length,n=Array(r>1?r-1:0),o=1;o<r;o++){n[o-1]=arguments[o]}this._pipeDestinations.forEach(function(e){e.emit.apply(e,[t].concat(n))});var i=this._events[t];if(!i||!i.length){return false}i.forEach(function(e){return e.apply(null,n)});return true};e.prototype.setMaxListeners=function e(t){if(parseInt(t,10)!==t){throw new TypeError}this._maxListeners=t};return e}();t.default=l},function(e,t,r){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r="warn";var n=[{type:"trace",background:"#EEEEEE",color:"#AAAAAA"},{type:"info",background:"#BDE5F8",color:"#00529B"},{type:"warn",background:"#FEEFB3",color:"#9F6000"},{type:"error",background:"#FFBABA",color:"#D8000C"},{type:"log",background:"#EEEEEE",color:"#1f4f6b"}];var o=n.map(function(e){return e.type});var i={};i.setLevel=function(e){r=e};i.canLog=function(e){if(r===null)return false;var t=o.indexOf(e);var n=o.indexOf(r);if(t<n)return false;return true};i.hasColorfulOutput=function(){return(!e||e&&e.browser)&&typeof navigator!=="undefined"&&navigator.userAgent.match(/Gecko|WebKit/i)&&!navigator.userAgent.match(/Trident/)};i.printError=function(e){var t=e.stack.split("\n");t.forEach(function(e){i.error("Error",e)})};n.forEach(function(e){var t=e.type,r=e.background,n=e.color;i[t]=function(e){if(!i.canLog(t))return;for(var o=arguments.length,a=Array(o>1?o-1:0),s=1;s<o;s++){a[s-1]=arguments[s]}var u=a.map(function(e){return typeof e==="string"?e:e.toString()}).join(" ");if(!i.hasColorfulOutput()){return console.log("PhotoEditorSDK | "+e+" | "+u)}console.log("%c  %c PhotoEditorSDK %c  %c "+e+" %c  "+u+"  %c  ","background: #43ADEB; line-height: 20px; padding: 4px 0","background: #2B2B2B; color: white; line-height: 20px; padding: 4px 0","background: #43ADEB; line-height: 20px; padding: 4px 0","background: "+r+"; color: "+n+"; line-height: 20px; padding: 4px 0; font-weight: bold","background: #2B2B2B; color: white; line-height: 20px; padding: 4px 0","background: #43ADEB; line-height: 20px; padding: 4px 0")}});t.default=i}).call(t,r(62))},function(e,t,r){var n=r(30);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t,r){var n=r(13),o=r(22),i=r(85),a=r(23),s="prototype";var u=function(e,t,r){var l=e&u.F,c=e&u.G,d=e&u.S,f=e&u.P,p=e&u.B,h=e&u.W,v=c?o:o[t]||(o[t]={}),m=v[s],_=c?n:d?n[t]:(n[t]||{})[s],g,y,b;if(c)r=t;for(g in r){y=!l&&_&&_[g]!==undefined;if(y&&g in v)continue;b=y?_[g]:r[g];v[g]=c&&typeof _[g]!="function"?r[g]:p&&y?i(b,n):h&&_[g]==b?function(e){var t=function(t,r,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r)}return new e(t,r,n)}return e.apply(this,arguments)};t[s]=e[s];return t}(b):f&&typeof b=="function"?i(Function.call,b):b;if(f){(v.virtual||(v.virtual={}))[g]=b;if(e&u.R&&m&&!m[g])a(m,g,b)}}};u.F=1;u.G=2;u.S=4;u.P=8;u.B=16;u.W=32;u.U=64;u.R=128;e.exports=u},function(e,t){e.exports=function(e){return typeof e==="object"?e!==null:typeof e==="function"}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=c(n);var i=r(2);var a=c(i);var s=r(1);var u=c(s);var l=r(6);function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){(0,u.default)(t,e);function t(r){(0,o.default)(this,t);var n=(0,a.default)(this,e.call(this));n.id=t.id++;n._onSourceLoaded=n._onSourceLoaded.bind(n);n._renderers=[];n._glTextures={};n._source=r;n._dirty=true;n._glUnit=0;n._mipMapping=false;n._magFilter=t.DefaultMagFilter;n._minFilter=t.DefaultMinFilter;n._repeatX=t.ClampToEdge;n._repeatY=t.ClampToEdge;n._pixelRatio=1;n._loaded=false;n._frame=new l.Rectangle(0,0,100,100);if(r){n._loadSource()}return n}t.prototype.resizeTo=function e(t){this._frame.width=t.x;this._frame.height=t.y};t.prototype._loadSource=function e(){var t=this._source;var r=t.complete;var n=t.constructor.name==="Canvas"||t.tagName&&t.tagName.toUpperCase()==="CANVAS";if(r||n){return this._onSourceLoaded()}t.addEventListener("load",this._onSourceLoaded)};t.prototype._onSourceLoaded=function e(){this._loaded=true;this._updateGLFilters();this.emit("loaded");this.update()};t.prototype._updateGLFilters=function e(){var r=new l.Vector2(this._source.width,this._source.height);if(l.Utils.isPowerOfTwo(r)){l.Log.info(this.constructor.name,"Mip-mapping enabled");this._minFilter=t.TrilinearFilter;this._mipMapping=true}};t.prototype.update=function e(){this._frame=new l.Rectangle(0,0,this._source.width,this._source.height);this.emit("update")};t.prototype.getGLFilter=function e(t,r){switch(r){case"min":return this.constructor.getGLFilter(t,this._minFilter);case"mag":return this.constructor.getGLFilter(t,this._magFilter)}};t.getGLFilter=function e(r,n){switch(n){case t.LinearFilter:return r.LINEAR;case t.NearestFilter:return r.NEAREST;case t.BilinearFilter:return r.LINEAR_MIPMAP_NEAREST;case t.TrilinearFilter:return r.LINEAR_MIPMAP_LINEAR}};t.prototype.isLoaded=function e(){return this._loaded};t.prototype.setLoaded=function e(t){this._loaded=t};t.prototype.getSource=function e(){return this._source};t.prototype.setSource=function e(t){this._source=t};t.prototype.getGLTextureForRenderer=function e(t){return this._glTextures[t.id]};t.prototype.setGLTextureForRenderer=function e(t,r){this._renderers[r.id]=r;this._glTextures[r.id]=t};t.prototype.getFrame=function e(){return this._frame};t.prototype.setFrame=function e(t){this._frame=t};t.prototype.getDimensions=function e(){return new l.Vector2(this._frame.width,this._frame.height)};t.prototype.getPixelRatio=function e(){return this._pixelRatio};t.prototype.setPixelRatio=function e(t){this._pixelRatio=t};t.prototype.getGLUnit=function e(){return this._glUnit};t.prototype.setGLUnit=function e(t){this._glUnit=t};t.prototype.setMinFilter=function e(t){this._minFilter=t};t.prototype.getMinFilter=function e(){return this._minFilter};t.prototype.setMagFilter=function e(t){this._magFilter=t};t.prototype.getMagFilter=function e(){return this._magFilter};t.prototype.setRepeatX=function e(t){this._repeatX=t};t.prototype.getRepeatX=function e(){return this._repeatX};t.prototype.setRepeatY=function e(t){this._repeatY=t};t.prototype.getRepeatY=function e(){return this._repeatY};t.prototype.getGLRepeat=function e(r,n){var o=n==="x"?this.getRepeatX():this.getRepeatY();switch(o){case t.ClampToEdge:return r.CLAMP_TO_EDGE;case t.Repeat:return r.REPEAT;case t.MirroredRepeat:return r.MIRRORED_REPEAT}};t.prototype.isDirty=function e(){return this._dirty};t.prototype.setDirty=function e(t){this._dirty=t};t.prototype.disposeGLTextures=function e(){for(var t in this._renderers){this.disposeGLTexturesForRenderer(this._renderers[t])}};t.prototype.disposeGLTexturesForRenderer=function e(t){if(!this._glTextures[t.id])return;var r=t.getContext();r.deleteTexture(this._glTextures[t.id]);delete this._glTextures[t.id];if(!this._renderers[t.id]){delete this._renderers[t.id]}};t.prototype.isMipMappingEnabled=function e(){return this._mipMapping};t.prototype.dispose=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:null;this.disposeGLTextures()};return t}(l.EventEmitter);d.NearestFilter=0;d.LinearFilter=1;d.BilinearFilter=2;d.TrilinearFilter=3;d.DefaultMagFilter=d.NearestFilter;d.DefaultMinFilter=d.LinearFilter;d.ClampToEdge=0;d.Repeat=1;d.MirroredRepeat=2;d.id=0;t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=a(n);var i=r(6);function a(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(t,r,n,i,a){(0,o.default)(this,e);this._width=t;this._height=r;this._pixelRatio=n;this._canvas=i||this._createCanvas();this._context=a||this._canvas.getContext("2d");this._canvas.width=this._width*this._pixelRatio;this._canvas.height=this._height*this._pixelRatio;this._filterStack=[{renderTarget:this,filter:[]}]}e.prototype._createCanvas=function e(){return i.Utils.createCanvas()};e.prototype.clear=function e(){var t=this._context;t.setTransform(1,0,0,1,0,0);t.clearRect(0,0,this._width*this._pixelRatio,this._height*this._pixelRatio)};e.prototype.resizeTo=function e(t){if(this._width!==t.x){this._width=t.x;this._canvas.width=this._width*this._pixelRatio}if(this._height!==t.y){this._height=t.y;this._canvas.height=this._height*this._pixelRatio}};e.prototype.getCanvas=function e(){return this._canvas};e.prototype.getContext=function e(){return this._context};e.prototype.getFilterStack=function e(){return this._filterStack};e.prototype.getWidth=function e(){return this._width};e.prototype.getHeight=function e(){return this._height};e.prototype.getPixelRatio=function e(){return this._pixelRatio};e.prototype.setPixelRatio=function e(t){this._pixelRatio=t};e.prototype.getDimensions=function e(){return new i.Vector2(this._width,this._height)};e.prototype.dispose=function e(){this._canvas=null;this._context=null};return e}();t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=u(n);var i=r(6);var a=r(31);var s=u(a);function u(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t,r,n,a){var s=arguments.length>4&&arguments[4]!==undefined?arguments[4]:false;(0,o.default)(this,e);this._renderer=t;this._gl=t.getContext();this._width=r;this._height=n;this._frame=null;this._pixelRatio=a;this._projectionMatrix=new i.Matrix;this._mipMapping=false;this._framebuffer=null;this._isRoot=s;this._filterStack=[{renderTarget:this,filter:[]}];if(!s){this._initFrameBuffer()}}e.prototype.resizeTo=function e(t){this._width=t.x|0;this._height=t.y|0;if(!this._isRoot){this._resizeTexture()}this._calculateProjectionMatrix()};e.prototype._setTexParameters=function e(){var t=this._gl;t.bindTexture(t.TEXTURE_2D,this._texture);t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_S,t.CLAMP_TO_EDGE);t.texParameteri(t.TEXTURE_2D,t.TEXTURE_WRAP_T,t.CLAMP_TO_EDGE);var r=s.default.DefaultMinFilter;var n=s.default.DefaultMagFilter;var o=new i.Vector2(this._width,this._height);if(i.Utils.isPowerOfTwo(o)){i.Log.info("WebGLRenderTarget","Mip-mapping enabled");this._mipMapping=true;this.updateMipMap();r=s.default.BilinearFilter}t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MIN_FILTER,s.default.getGLFilter(t,r));t.texParameteri(t.TEXTURE_2D,t.TEXTURE_MAG_FILTER,s.default.getGLFilter(t,n))};e.prototype.updateMipMap=function e(){if(!this._mipMapping){return false}var t=this._gl;t.bindTexture(t.TEXTURE_2D,this._texture);t.generateMipmap(t.TEXTURE_2D)};e.prototype._resizeTexture=function e(){var t=this._gl;t.bindTexture(t.TEXTURE_2D,this._texture);var r=this._width*this._pixelRatio;var n=this._height*this._pixelRatio;t.texImage2D(t.TEXTURE_2D,0,t.RGBA,r,n,0,t.RGBA,t.UNSIGNED_BYTE,null);this._setTexParameters()};e.prototype.activate=function e(){var t=this._gl;t.bindFramebuffer(t.FRAMEBUFFER,this._framebuffer);this._calculateProjectionMatrix();t.viewport(0,0,this._width*this._pixelRatio,this._height*this._pixelRatio);t.disable(t.STENCIL_TEST)};e.prototype.clear=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:i.Color.TRANSPARENT;var r=this._gl;r.bindFramebuffer(r.FRAMEBUFFER,this._framebuffer);i.GLUtils.checkFramebufferStatus("WebGLRenderTarget#clear",r);r.clearColor.apply(r,t.toGLColor());r.clear(r.COLOR_BUFFER_BIT)};e.prototype._calculateProjectionMatrix=function e(){var t=this._projectionMatrix;t.reset();var r=this._frame||new i.Rectangle(0,0,this._width,this._height);var n=r.x,o=r.y;if(!this._isRoot){t.a=1/this._width*2;t.d=1/this._height*2;t.tx=-1-n*t.a;t.ty=-1-o*t.d}else{t.a=1/this._width*2;t.d=-1/this._height*2;t.tx=-1-n*t.a;t.ty=1-o*t.d}};e.prototype._initFrameBuffer=function e(){var t=this._gl;this._framebuffer=t.createFramebuffer();this._texture=t.createTexture();t.bindTexture(t.TEXTURE_2D,this._texture);this._setTexParameters();t.bindFramebuffer(t.FRAMEBUFFER,this._framebuffer);t.framebufferTexture2D(t.FRAMEBUFFER,t.COLOR_ATTACHMENT0,t.TEXTURE_2D,this._texture,0);this.resizeTo(new i.Vector2(this._width,this._height));i.GLUtils.checkFramebufferStatus("WebGLRenderTarget#_initFramebuffer",t)};e.prototype.getProjectionMatrix=function e(){return this._projectionMatrix};e.prototype.getTexture=function e(){return this._texture};e.prototype.getFrame=function e(){return this._frame};e.prototype.setFrame=function e(t){this._frame=t};e.prototype.getFilterStack=function e(){return this._filterStack};e.prototype.getPixelRatio=function e(){return this._pixelRatio};e.prototype.setPixelRatio=function e(t){this._pixelRatio=t;if(!this._isRoot){this._resizeTexture()}};e.prototype.dispose=function e(){var t=this._gl;t.deleteTexture(this._texture);t.deleteFramebuffer(this._framebuffer)};return e}();t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=l(n);var i=r(37);var a=l(i);var s=r(11);var u=l(s);function l(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;var a=arguments.length>4&&arguments[4]!==undefined?arguments[4]:0;var s=arguments.length>5&&arguments[5]!==undefined?arguments[5]:0;var u=arguments.length>6&&arguments[6]!==undefined?arguments[6]:1;var l=arguments.length>7&&arguments[7]!==undefined?arguments[7]:0;var c=arguments.length>8&&arguments[8]!==undefined?arguments[8]:0;var d=arguments.length>9&&arguments[9]!==undefined?arguments[9]:0;var f=arguments.length>10&&arguments[10]!==undefined?arguments[10]:0;var p=arguments.length>11&&arguments[11]!==undefined?arguments[11]:0;var h=arguments.length>12&&arguments[12]!==undefined?arguments[12]:1;var v=arguments.length>13&&arguments[13]!==undefined?arguments[13]:0;var m=arguments.length>14&&arguments[14]!==undefined?arguments[14]:0;var _=arguments.length>15&&arguments[15]!==undefined?arguments[15]:0;var g=arguments.length>16&&arguments[16]!==undefined?arguments[16]:0;var y=arguments.length>17&&arguments[17]!==undefined?arguments[17]:0;var b=arguments.length>18&&arguments[18]!==undefined?arguments[18]:1;var x=arguments.length>19&&arguments[19]!==undefined?arguments[19]:0;(0,o.default)(this,e);this.set(t,r,n,i,a,s,u,l,c,d,f,p,h,v,m,_,g,y,b,x)}e.prototype.set=function e(t,r,n,o,i,a,s,u,l,c,d,f,p,h,v,m,_,g,y,b){this.a=t;this.b=r;this.c=n;this.d=o;this.e=i;this.f=a;this.g=s;this.h=u;this.i=l;this.j=c;this.k=d;this.l=f;this.m=p;this.n=h;this.o=v;this.p=m;this.q=_;this.r=g;this.s=y;this.t=b};e.prototype.reset=function e(){this.a=1;this.b=0;this.c=0;this.d=0;this.e=0;this.f=0;this.g=1;this.h=0;this.i=0;this.j=0;this.k=0;this.l=0;this.m=1;this.n=0;this.o=0;this.p=0;this.q=0;this.r=0;this.s=1;this.t=0};e.prototype.apply=function e(t){var r=this.a*t.r+this.b*t.g+this.c*t.b+this.d*t.a+this.e*255;var n=this.f*t.r+this.g*t.g+this.h*t.b+this.i*t.a+this.j*255;var o=this.k*t.r+this.l*t.g+this.m*t.b+this.n*t.a+this.o*255;var i=this.p*t.r+this.q*t.g+this.r*t.b+this.s*t.a+this.t*255;return new u.default(r,n,o,i)};e.prototype.multiply=function e(t){var r=void 0,n=void 0,o=void 0,i=void 0,a=void 0,s=void 0,u=void 0,l=void 0,c=void 0,d=void 0,f=void 0,p=void 0,h=void 0,v=void 0,m=void 0,_=void 0,g=void 0,y=void 0,b=void 0,x=void 0;var E=t;var C=this;r=E.a*C.a+E.b*C.f+E.c*C.k+E.d*C.p;n=E.a*C.b+E.b*C.g+E.c*C.l+E.d*C.q;o=E.a*C.c+E.b*C.h+E.c*C.m+E.d*C.r;i=E.a*C.d+E.b*C.i+E.c*C.n+E.d*C.s;s=E.f*C.a+E.g*C.f+E.h*C.k+E.i*C.p;u=E.f*C.b+E.g*C.g+E.h*C.l+E.i*C.q;l=E.f*C.c+E.g*C.h+E.h*C.m+E.i*C.r;c=E.f*C.d+E.g*C.i+E.h*C.n+E.i*C.s;f=E.k*C.a+E.l*C.f+E.m*C.k+E.n*C.p;p=E.k*C.b+E.l*C.g+E.m*C.l+E.n*C.q;h=E.k*C.c+E.l*C.h+E.m*C.m+E.n*C.r;v=E.k*C.d+E.l*C.i+E.m*C.n+E.n*C.s;_=E.p*C.a+E.q*C.f+E.r*C.k+E.s*C.p;g=E.p*C.b+E.q*C.g+E.r*C.l+E.s*C.q;y=E.p*C.c+E.q*C.h+E.r*C.m+E.s*C.r;b=E.p*C.d+E.q*C.i+E.r*C.n+E.s*C.s;a=E.a*C.e+E.b*C.j+E.c*C.o+E.d*C.t+E.e;d=E.f*C.e+E.g*C.j+E.h*C.o+E.i*C.t+E.j;m=E.k*C.e+E.l*C.j+E.m*C.o+E.n*C.t+E.o;x=E.p*C.e+E.q*C.j+E.r*C.o+E.s*C.t+E.t;this.a=r;this.b=n;this.c=o;this.d=i;this.e=a;this.f=s;this.g=u;this.h=l;this.i=c;this.j=d;this.k=f;this.l=p;this.m=h;this.n=v;this.o=m;this.p=_;this.q=g;this.r=y;this.s=b;this.t=x;return this};e.prototype.clone=function t(){var r=new e;r.set(this.a,this.b,this.c,this.d,this.e,this.f,this.g,this.h,this.i,this.j,this.k,this.l,this.m,this.n,this.o,this.p,this.q,this.r,this.s,this.t);return r};e.prototype.equals=function e(t){return this.a===t.a&&this.b===t.b&&this.c===t.c&&this.d===t.d&&this.e===t.e&&this.f===t.f&&this.g===t.g&&this.h===t.h&&this.i===t.i&&this.j===t.j&&this.k===t.k&&this.l===t.l&&this.m===t.m&&this.n===t.n&&this.o===t.o&&this.p===t.p&&this.q===t.q&&this.r===t.r&&this.s===t.s&&this.t===t.t};e.prototype.toString=function e(){return"ColorMatrix( "+this.a+", "+this.b+", "+this.c+", "+this.d+", "+this.e+",\n      "+this.f+", "+this.g+", "+this.h+", "+this.i+", "+this.j+",\n      "+this.k+", "+this.l+", "+this.m+", "+this.n+", "+this.o+",\n      "+this.p+", "+this.q+", "+this.r+", "+this.s+", "+this.t+" )"};e.prototype.toArray=function e(){var t=this;return"abcdefghijklmnopqrst".split("").map(function(e){return t[e]})};e.createBrightnessMatrix=function t(r){var n=new e;n.e=r;n.j=r;n.o=r;return n};e.createContrastMatrix=function t(r){var n=new e;var o=(1-r)/2;n.a=n.g=n.m=r;n.e=n.j=n.o=o;return n};e.createSaturationMatrix=function t(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var n=new e;var o=1-r;var i=.213*o;var a=.715*o;var s=.072*o;n.a=i+r;n.b=a;n.c=s;n.f=i;n.g=a+r;n.h=s;n.k=i;n.l=a;n.m=s+r;return n};e.createLinearMatrix=function t(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var o=new e;o.a=o.g=o.m=r;o.e=o.j=o.o=n;return o};(0,a.default)(e,null,[{key:"IDENTITY",get:function t(){return new e}}]);return e}();t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=c(n);var i=r(2);var a=c(i);var s=r(1);var u=c(s);var l=r(3);function c(e){return e&&e.__esModule?e:{default:e}}var d=l.Constants.RendererType;var f=function(e){(0,u.default)(t,e);function t(r,n){(0,o.default)(this,t);var i=(0,a.default)(this,e.call(this,n));i._operation=r;i._dirtiness={};i.id=l.Utils.getUUID();i._renderTextures={};i._identitySprite=new l.Engine.Sprite;i._sprite=new l.Engine.Sprite;i._renderers=[];return i}t.prototype.applyRotation=function e(t){var r=this._operation.getInputDimensions();var n=this.getRotation()*180/Math.PI;n+=t;this.setRotation(n*Math.PI/180);var o=(t+360)%360;var i=o*Math.PI/180;var a=Math.cos(i);var s=Math.sin(i);var u=this._options.position.clone().subtract(.5).multiply(r);var c=new l.Vector2(u.x*a-u.y*s,u.x*s+u.y*a).divide(r.clone().flip());this.setPosition(new l.Vector2(.5,.5).add(c))};t.prototype.applyFlip=function e(t){var r=this.getPosition().clone();switch(t){case"horizontal":r.x=1-this._options.position.x;break;case"vertical":r.y=1-this._options.position.y;break}this.setPosition(r)};t.prototype.applyCrop=function e(t,r){var n=t.getInputDimensions();var o=r.rotation-t.getRotation();var i=t.getEnd().clone().subtract(t.getStart()).multiply(n);var a=r.end.clone().subtract(r.start).multiply(n);var s=t.getStart().clone().subtract(r.start).multiply(n);var u=r.scale/t.getScale();var c=t.getStart().clone().multiply(n);var d=this.getPosition().clone().multiply(i).add(c);var f=d.clone().subtract(n.clone().multiply(.5));var p=Math.cos(o);var h=Math.sin(o);var v=new l.Vector2(f.x*p-f.y*h,f.x*h+f.y*p);v.multiply(u);var m=n.clone().multiply(.5).add(v).subtract(c).add(s).divide(a);if(this._options.dimensions){var _=this.getDimensions().clone().multiply(u);if(r.textureScale){_.multiply(r.textureScale/t.getTextureScale())}this.set({dimensions:_},false)}var g=o*180/Math.PI;var y=this.getRotation()*180/Math.PI+g;this.set({rotation:y*Math.PI/180,position:m},false);
};t.prototype.getDisplayObject=function e(){return this._sprite};t.prototype._getTexture=function e(){throw new Error("Sprite#_getTexture is abstract and not implemented in child class.")};t.prototype._prepareRenderTexture=function e(t){if(!this._renderTexture){var r=this._getTexture();this._renderTextureContainer=new l.Engine.Container;this._renderTextureSprite=new l.Engine.Sprite(r);this._renderTextureContainer.addChild(this._renderTextureSprite);this._renderTexture=this._getRenderTexture(t.getRenderer(),r.getDimensions())}else{this._renderTexture.clear()}};t.prototype._rendersToRenderTexture=function e(t){return t.getOptions().smoothDownscaling&&t.getRenderer().isOfType(d.WEBGL)};t.prototype.update=function e(t,r){if(this._rendersToRenderTexture(t)){this._prepareRenderTexture(t)}this._updateSprite(r);if(this._rendersToRenderTexture(t)){this._renderToRenderTexture(t)}return l.Promise.resolve()};t.prototype._updateSprite=function e(t){this._sprite.setAnchor(this._options.anchor);this._sprite.setPosition(this._options.position.clone().multiply(t));var r=this._options.dimensions;if(r){r=r.clone().multiply(this._operation.getSDK().getTextureScale());this._sprite.setWidth(r.x);this._sprite.setHeight(r.y)}this._sprite.updateTransform();var n=this._sprite.getTexture().getFrame();var o=new l.Vector2(n.width,n.height);this._sprite.setPivot(this._options.pivot.clone().multiply(o));this._sprite.setRotation(this._options.rotation);this._sprite.updateTransform()};t.prototype._renderToRenderTexture=function e(t){var r=this._getTexture().getDimensions();var n=this._getRenderTexture(t.getRenderer(),r);var o=r.clone();if(this._options.smoothDownscaling){o.x=l.Utils.nextHighestPOT(o.x);o.y=l.Utils.nextHighestPOT(o.y)}this._renderTexture.resizeTo(o);this._renderTexture.render(this._renderTextureContainer);if(this._options.smoothDownscaling){var i=o.clone().subtract(r.x,r.y).divide(o);var a=n.getUVs().getUVs();a[0].x=a[3].x=0;a[1].x=a[2].x=1-i.x;a[0].y=a[1].y=0;a[2].y=a[3].y=1-i.y}this._sprite.setTexture(n)};t.prototype.isDirtyForRenderer=function e(t){if(!(t.id in this._dirtiness)){this._dirtiness[t.id]=true}return this._dirtiness[t.id]};t.prototype.setDirtyForRenderer=function e(t,r){this._renderers[r.id]=r;this._dirtiness[r.id]=t};t.prototype.setDirty=function e(t){for(var r in this._dirtiness){this.setDirtyForRenderer(t,this._renderers[r])}};t.prototype._getRenderTexture=function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:new l.Vector2(100,100);if(!this._renderTextures[t.id]){this._renderTextures[t.id]=new l.Engine.RenderTexture(t,r.x,r.y,1)}return this._renderTextures[t.id]};t.prototype.dispose=function e(){for(var t in this._renderTextures){this._renderTextures[t].dispose()}};return t}(l.Configurable);t.default=f},function(e,t){"use strict";var r=[512,512,456,512,328,456,335,512,405,328,271,456,388,335,292,512,454,405,364,328,298,271,496,456,420,388,360,335,312,292,273,512,482,454,428,405,383,364,345,328,312,298,284,271,259,496,475,456,437,420,404,388,374,360,347,335,323,312,302,292,282,273,265,512,497,482,468,454,441,428,417,405,394,383,373,364,354,345,337,328,320,312,305,298,291,284,278,271,265,259,507,496,485,475,465,456,446,437,428,420,412,404,396,388,381,374,367,360,354,347,341,335,329,323,318,312,307,302,297,292,287,282,278,273,269,265,261,512,505,497,489,482,475,468,461,454,447,441,435,428,422,417,411,405,399,394,389,383,378,373,368,364,359,354,350,345,341,337,332,328,324,320,316,312,309,305,301,298,294,291,287,284,281,278,274,271,268,265,262,259,257,507,501,496,491,485,480,475,470,465,460,456,451,446,442,437,433,428,424,420,416,412,408,404,400,396,392,388,385,381,377,374,370,367,363,360,357,354,350,347,344,341,338,335,332,329,326,323,320,318,315,312,310,307,304,302,299,297,294,292,289,287,285,282,280,278,275,273,271,269,267,265,263,261,259];var n=[9,11,12,13,13,14,14,15,15,15,15,16,16,16,16,17,17,17,17,17,17,17,18,18,18,18,18,18,18,18,18,19,19,19,19,19,19,19,19,19,19,19,19,19,19,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,20,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,21,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,22,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,23,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24,24];function o(e,t,o,a,s,u){if(isNaN(u)||u<1){return}u|=0;var l=e.data;var c,d,f,p,h,v,m,_,g,y,b,x,E,C,w,S,T,R,M,O,k,P,D,B;var F=u+u+1;var A=a-1;var I=s-1;var N=u+1;var L=N*(N+1)/2;var U=new i;var j;var V=U;for(f=1;f<F;f++){V=V.next=new i;if(f==N)j=V}V.next=U;var z=null;var W=null;m=v=0;var H=r[u];var G=n[u];for(d=0;d<s;d++){S=T=R=M=_=g=y=b=0;x=N*(O=l[v]);E=N*(k=l[v+1]);C=N*(P=l[v+2]);w=N*(D=l[v+3]);_+=L*O;g+=L*k;y+=L*P;b+=L*D;V=U;for(f=0;f<N;f++){V.r=O;V.g=k;V.b=P;V.a=D;V=V.next}for(f=1;f<N;f++){p=v+((A<f?A:f)<<2);_+=(V.r=O=l[p])*(B=N-f);g+=(V.g=k=l[p+1])*B;y+=(V.b=P=l[p+2])*B;b+=(V.a=D=l[p+3])*B;S+=O;T+=k;R+=P;M+=D;V=V.next}z=U;W=j;for(c=0;c<a;c++){l[v+3]=D=b*H>>G;if(D!==0){D=255/D;l[v]=(_*H>>G)*D;l[v+1]=(g*H>>G)*D;l[v+2]=(y*H>>G)*D}else{l[v]=l[v+1]=l[v+2]=0}_-=x;g-=E;y-=C;b-=w;x-=z.r;E-=z.g;C-=z.b;w-=z.a;p=m+((p=c+u+1)<A?p:A)<<2;S+=z.r=l[p];T+=z.g=l[p+1];R+=z.b=l[p+2];M+=z.a=l[p+3];_+=S;g+=T;y+=R;b+=M;z=z.next;x+=O=W.r;E+=k=W.g;C+=P=W.b;w+=D=W.a;S-=O;T-=k;R-=P;M-=D;W=W.next;v+=4}m+=a}for(c=0;c<a;c++){T=R=M=S=g=y=b=_=0;v=c<<2;x=N*(O=l[v]);E=N*(k=l[v+1]);C=N*(P=l[v+2]);w=N*(D=l[v+3]);_+=L*O;g+=L*k;y+=L*P;b+=L*D;V=U;for(f=0;f<N;f++){V.r=O;V.g=k;V.b=P;V.a=D;V=V.next}h=a;for(f=1;f<=u;f++){v=h+c<<2;_+=(V.r=O=l[v])*(B=N-f);g+=(V.g=k=l[v+1])*B;y+=(V.b=P=l[v+2])*B;b+=(V.a=D=l[v+3])*B;S+=O;T+=k;R+=P;M+=D;V=V.next;if(f<I){h+=a}}v=c;z=U;W=j;for(d=0;d<s;d++){p=v<<2;l[p+3]=D=b*H>>G;if(D>0){D=255/D;l[p]=(_*H>>G)*D;l[p+1]=(g*H>>G)*D;l[p+2]=(y*H>>G)*D}else{l[p]=l[p+1]=l[p+2]=0}_-=x;g-=E;y-=C;b-=w;x-=z.r;E-=z.g;C-=z.b;w-=z.a;p=c+((p=d+N)<I?p:I)*a<<2;_+=S+=z.r=l[p];g+=T+=z.g=l[p+1];y+=R+=z.b=l[p+2];b+=M+=z.a=l[p+3];z=z.next;x+=O=W.r;E+=k=W.g;C+=P=W.b;w+=D=W.a;S-=O;T-=k;R-=P;M-=D;W=W.next;v+=a}}}function i(){this.r=0;this.g=0;this.b=0;this.a=0;this.next=null}e.exports={stackBlurCanvasRGBA:o}},function(e,t,r){"use strict";t.__esModule=true;var n=r(82);var o=i(n);function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;(0,o.default)(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}()},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return true}}},function(e,t,r){var n=r(92),o=r(50);e.exports=Object.keys||function e(t){return n(t,o)}},function(e,t){e.exports=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}}},function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(e===undefined?"":e,")_",(++r+n).toString(36))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=l(n);var i=r(25);var a=l(i);var s=r(110);var u=l(s);function l(e){return e&&e.__esModule?e:{default:e}}var c={256:"ImageWidth",257:"ImageHeight",34665:"ExifIFDPointer",34853:"GPSInfoIFDPointer",40965:"InteroperabilityIFDPointer",258:"BitsPerSample",259:"Compression",262:"PhotometricInterpretation",274:"Orientation",277:"SamplesPerPixel",284:"PlanarConfiguration",530:"YCbCrSubSampling",531:"YCbCrPositioning",282:"XResolution",283:"YResolution",296:"ResolutionUnit",273:"StripOffsets",278:"RowsPerStrip",279:"StripByteCounts",513:"JPEGInterchangeFormat",514:"JPEGInterchangeFormatLength",301:"TransferFunction",318:"WhitePoint",319:"PrimaryChromaticities",529:"YCbCrCoefficients",532:"ReferenceBlackWhite",306:"DateTime",270:"ImageDescription",271:"Make",272:"Model",305:"Software",315:"Artist",33432:"Copyright"};var d="data:image/jpeg;base64,";var f=new RegExp("^"+d,"i");var p=function(){function e(t){(0,o.default)(this,e);this._buf=t;this._stream=new u.default(this._buf);this._stream.setHead(0);this._segments=this._sliceIntoSegments(this._buf);this._exifBuffer=this._getExifBuffer();this._exifStream=new u.default(this._exifBuffer);this._parseExif()}e.prototype.restoreExifTags=function e(t){var r=t.replace(d,"");var n=a.default.decode(r);var o=this._sliceIntoSegments(n);var i=o[1][0];var s=n.slice(0,i);var u=n.slice(i);var l=s.concat(this._exifBuffer);l=l.concat(u);return d+a.default.encode(l)};e.prototype.setOrientation=function e(t){if(this._tagData.Orientation){var r=this._tagData.Orientation.entryOffset;this._exifStream.setHead(r+8);this._exifStream.writeInt16(t)}};e.isJPEG=function e(t){return f.test(t)};e.fromBase64String=function t(r){var n=r.replace(d,"");var o=a.default.decode(n);return new e(o)};e.prototype._parseExif=function e(){this._exifStream.setHead(0);this._exifStream.readInt16();this._exifStream.readInt16();var t=this._exifStream.readString(4);if(t!=="Exif"){return}this._exifStream.readInt16();var r=this._exifStream.getHead();var n=false;var o=this._exifStream.readInt16();if(o===18761){n=false}else if(o===19789){n=true}else{throw new Error("Invalid TIFF data: No endian type found")}if(this._exifStream.readInt16(!n)!==42){throw new Error("Invalid TIFF data: No 0x002A")}var i=this._exifStream.readInt32(!n);if(i<8){throw new Error("Invalid TIFF data: First IFD offset < 8")}var a=r+i;var s=this._readTags(this._exifStream,r,a,n);this._tags=s.tags;this._tagData=s.tagData};e.prototype._readTags=function e(t,r,n,o){t.setHead(n);var i=t.readInt16(!o);var a={};var s=[];for(var u=0;u<i;u++){var l=n+u*12+2;t.setHead(l);var d=t.readInt16(!o);var f=void 0;var p=void 0;var h=void 0;if(c[d]){d=c[d];f=t.readInt16(!o);p=t.readInt32(!o);h=t.readInt32(!o)+r;var v=null;switch(f){case 1:case 7:if(p===1){v=t.readInt8(!o)}else{v=[];for(var m=0;m<p;m++){v.push(t.readInt8(!o))}}break;case 2:t.setHead(p>4?h:l+8);v=t.readString(p);break;case 3:t.setHead(p>2?h:l+8);if(p===1){v=t.readInt16(!o)}else{v=[];for(var _=0;_<p;_++){v.push(t.readInt16(!o))}}break;case 4:case 9:t.setHead(p>1?h:l+8);if(p===1){v=t.readInt32(!o)}else{v=[];for(var g=0;g<p;g++){v.push(t.readInt32(!o))}}break;case 5:case 10:t.setHead(h);if(p===1){var y=t.readInt32(!o);var b=t.readInt32(!o);v=y/b}else{v=[];for(var x=0;x<p;x++){var E=t.readInt32(!o);var C=t.readInt32(!o);var w=E/C;v.push(w)}}break}a[d]=v;s[d]={value:v,numValues:p,entryOffset:l,valueOffset:h,type:f}}}return{tags:a,tagData:s}};e.prototype._getExifBuffer=function e(){var t=this._segments;for(var r=0;r<t.length;r++){var n=t[r][0];var o=t[r][1];this._stream.setHead(n);var i=this._stream.peekInt16();if(i===65505){return this._buf.slice(n,o)}}return false};e.prototype._sliceIntoSegments=function e(t){var r=new u.default(t);var n=[];while(r.getHead()<t.length){var o=r.readInt16();if(o===65496){continue}if(o===65498){break}if(o>=65280&&o<=65535){var i=r.readInt16();var a=r.getHead()+i-2;n.push([r.getHead()-4,a]);r.setHead(a)}else{throw new Error("Invalid marker: 0x"+o.toString(16))}}this._stream.setHead(0);return n};e.prototype.getTags=function e(){return this._tags};e.prototype.getTagData=function e(){return this._tagData};e.prototype.dispose=function e(){this._buf=[];this._exifBuffer=[];this._segments=[]};return e}();t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=a(n);var i=r(6);function a(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(){(0,o.default)(this,e);this._position=new i.Vector2(0,0);this._scale=new i.Vector2(1,1);this._pivot=new i.Vector2(0,0);this._rotation=0;this._lastRotation=null;this._alpha=1;this._visible=true;this._worldTransform=new i.Matrix;this._parent=null;this._shaders=[];this._boundsNeedUpdate=true;this._bounds=new i.Rectangle(0,0,1,1);this._localBoundsNeedUpdate=true;this._localBounds=new i.Rectangle(0,0,1,1);this._tint=16777215;this._filterRectangle=new i.Rectangle(0,0,0,0)}e.prototype.renderWebGL=function e(t){i.Log.warn(this.constructor.name,"`renderWebGL` is abstract and not implemented in inherited class")};e.prototype.renderCanvas=function e(t){i.Log.warn(this.constructor.name,"`renderCanvas` is abstract and not implemented in inherited class")};e.prototype.updateTransform=function e(){var t=this._parent?this._parent.getWorldTransform():i.Matrix.IDENTITY;var r=this._worldTransform;var n=this._rotation!==this._lastRotation;if(n){this._sinRotation=Math.sin(this._rotation);this._cosRotation=Math.cos(this._rotation);this._lastRotation=this._rotation}r.a=this._cosRotation*this._scale.x;r.b=this._sinRotation*this._scale.x;r.c=-this._sinRotation*this._scale.y;r.d=this._cosRotation*this._scale.y;r.tx=this._position.x;r.ty=this._position.y;if(this._pivot.x||this._pivot.y){r.tx-=this._pivot.x*r.a+this._pivot.y*r.c;r.ty-=this._pivot.x*r.b+this._pivot.y*r.d}r.tx|=0;r.ty|=0;r.multiply(t);this._boundsNeedUpdate=true;this._localBoundsNeedUpdate=true};e.prototype.addShader=function e(t){this._shaders.push(t)};e.prototype.removeShader=function e(t){var r=this._shaders.indexOf(t);if(r!==-1){this._shaders.splice(r,1);return true}return false};e.prototype.removeShaderAt=function e(t){if(!this._shaders[t]){return false}this._shaders.splice(t,1);return true};e.prototype.getBounds=function e(){return this._bounds.clone()};e.prototype.getPosition=function e(){return this._position};e.prototype.setPosition=function e(t,r){if(t instanceof i.Vector2){this._position.copy(t)}else{this._position.set(t,r)}this._boundsNeedUpdate=true;this._localBoundsNeedUpdate=true};e.prototype.getScale=function e(){return this._scale};e.prototype.setScale=function e(t,r){if(t instanceof i.Vector2){this._scale.copy(t)}else{this._scale.set(t,r)}this._boundsNeedUpdate=true;this._localBoundsNeedUpdate=true};e.prototype.getPivot=function e(){return this._pivot};e.prototype.setPivot=function e(t,r){if(t instanceof i.Vector2){this._pivot.copy(t)}else{this._pivot.set(t,r)}this._boundsNeedUpdate=true;this._localBoundsNeedUpdate=true};e.prototype.getRotation=function e(){return this._rotation};e.prototype.setRotation=function e(t){this._rotation=t;this._boundsNeedUpdate=true;this._localBoundsNeedUpdate=true};e.prototype.getAlpha=function e(){return this._alpha};e.prototype.setAlpha=function e(t){this._alpha=t};e.prototype.getWorldAlpha=function e(){if(this._parent){return this._parent.getAlpha()*this._alpha}else{return this._alpha}};e.prototype.getWorldTransform=function e(){return this._worldTransform};e.prototype.getParent=function e(){return this._parent};e.prototype.setParent=function e(t){this._parent=t};e.prototype.getFilterRectangle=function e(){return this._filterRectangle};e.prototype.setFilterRectangle=function e(t){this._filterRectangle.copy(t)};e.prototype.getTint=function e(){return this._tint};e.prototype.setTint=function e(t){this._tint=t};e.prototype.isVisible=function e(){return this._visible};e.prototype.setVisible=function e(t){this._visible=t};return e}();t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=m(n);var i=r(2);var a=m(i);var s=r(1);var u=m(s);var l=r(6);var c=r(14);var d=m(c);var f=r(47);var p=m(f);var h=r(48);var v=m(h);function m(e){return e&&e.__esModule?e:{default:e}}var _=l.Constants.OptionType,g=l.Constants.UniformType,y=l.Constants.RendererType;var b=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);return(0,a.default)(this,e.apply(this,arguments))}t.prototype._initOptions=function t(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};this._shaders=[];this._availableUniforms=v.default.defaultUniforms;this._attributes=v.default.defaultAttributes;this._vertexSource=v.default.defaultVertexSource;this._fragmentSource=v.default.defaultFragmentSource;this._initUniforms();e.prototype._initOptions.call(this,r)};t.prototype._initUniforms=function e(){this._uniforms={};for(var t in this._availableUniforms){var r=this._availableUniforms[t];this._uniforms[t]={type:r.type,value:r.default||null}}for(var n in this.availableOptions){var o=this.availableOptions[n];if(!o.uniformType){l.Log.trace(this.constructor.name,"Option `"+n+"` is missing a `uniformType`!")}else{this._uniforms["u_"+n]={type:o.uniformType,value:o.default||null}}}};t.prototype.setOption=function t(r,n){var o=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;e.prototype.setOption.call(this,r,n,o);var i=n;var a=this.availableOptions[r];if(!a.uniformType){return}var s="u_"+r;switch(a.type){case _.COLOR:if(a.uniformType===g.FLOAT4){i=n.toGLColor()}else if(a.uniformType===g.FLOAT3){i=n.toRGBGLColor()}break;case _.VECTOR2:i=[n.x,n.y];break;case _.COLOR_MATRIX:i=[n.a,n.b,n.c,n.d,n.f,n.g,n.h,n.i,n.k,n.l,n.m,n.n,n.p,n.q,n.r,n.s];var u=[n.e,n.j,n.o,n.t];this._uniforms[s+"_vec"]={value:u,type:g.FLOAT4}}this.setUniform(s,i)};t.prototype.setUniform=function e(t,r){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;this._uniforms[t].value=r};t.prototype.setUniforms=function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;for(var n in t){this._uniforms[n].value=t[n];if(r){this.syncUniform(n)}}};t.prototype.syncUniform=function e(t){this._shaders.forEach(function(e){e.syncUniform(t)})};t.prototype.syncUniforms=function e(){this._shaders.forEach(function(e){e.syncUniforms()})};t.prototype.getShaderForRenderer=function e(t){var r=t.getContext();var n=this._shaders[r.id];if(!n){n=new p.default(t,this._vertexSource,this._fragmentSource,this._uniforms,this._attributes);this._shaders[r.id]=n}return n};t.prototype.apply=function e(t,r,n){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;if(t.isOfType(y.WEBGL)){this._applyWebGL(t,r,n,o)}else if(t.isOfType(y.CANVAS)){this._applyCanvas(t,r,n,o)}};t.prototype._applyWebGL=function e(t,r,n){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var i=t.getContext();var a=this.getShaderForRenderer(t);t.setRenderTarget(n);if(o){n.clear()}t.setShader(a);var s=t.getCurrentRenderTarget().getProjectionMatrix().toArray();a.setUniform("u_projMatrix",s);a.syncUniforms();i.activeTexture(i.TEXTURE0);i.bindTexture(i.TEXTURE_2D,r.getTexture());i.drawElements(i.TRIANGLES,6,i.UNSIGNED_SHORT,0)};t.prototype._applyCanvas=function e(t,r,n){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var i=r.getCanvas();var a=n.getContext();l.Log.warn(this.constructor.name,"`_applyCanvas` is not implemented. Just copying image data from `inputTarget` to `outputTarget`.");a.clearRect(0,0,i.width,i.height);a.drawImage(i,0,0)};t.prototype.dispose=function e(){this._shaders.forEach(function(e){return e.dispose()});this._shaders=[]};return t}(d.default);t.default=b},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=u(n);var i=r(6);var a=r(32);var s=u(a);function u(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t){(0,o.default)(this,e);this._renderer=t;this._filterStack=[{renderTarget:t.getCurrentRenderTarget(),filters:[]}];this._currentFrame=null;this._textures=[];this._textureFrame=new i.Rectangle(0,0,t.getWidth(),t.getHeight())}e.prototype.resizeTo=function e(t){this._textureFrame.width=t.x;this._textureFrame.height=t.y;this._textures.forEach(function(e){return e.resizeTo(t)})};e.prototype.pushFilters=function e(t,r){var n=t.getBounds();this._currentFrame=n;var o=this._getOrCreateRenderTarget();this._renderer.setRenderTarget(o);this._filterStack.push({renderTarget:o,filters:r})};e.prototype.popFilters=function e(){var t=this._filterStack.pop(),r=t.filters,n=t.renderTarget;var o=this._filterStack[this._filterStack.length-1];var i=n;var a=o.renderTarget;if(r.length===1){r[0].apply(this._renderer,i,a);this._textures.push(i)}else{this._applyFilters(r,i,a)}return r};e.prototype._applyFilters=function e(t,r,n){var o=this;var i=r;var a=this._getOrCreateRenderTarget(true);var s=t[t.length-1];t.forEach(function(e,t){var r=e===s;if(!r){e.apply(o._renderer,i,a);var u=i;i=a;a=u}else{e.apply(o._renderer,i,n)}});this._textures.push(i);this._textures.push(a)};e.prototype._getOrCreateRenderTarget=function e(t){var r=this._textures.pop();if(!r){r=new s.default(this._textureFrame.width,this._textureFrame.height,1)}if(t){r.clear()}return r};e.prototype.setFilterStack=function e(t){this._filterStack=t};e.prototype.dispose=function e(){};return e}();t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=c(n);var i=r(6);var a=r(33);var s=c(a);var u=r(106);var l=c(u);function c(e){return e&&e.__esModule?e:{default:e}}var d=i.Constants.RendererType;var f=function(){function e(t){(0,o.default)(this,e);this._renderer=t;this._filterStack=[{filters:[]}];this._currentFrame=null;this._renderTargets=[];this._textureFrame=new i.Rectangle(0,0,t.getWidth(),t.getHeight());this._onContextChange=this._onContextChange.bind(this);this._renderer.on("context",this._onContextChange);this._onContextChange()}e.prototype.resizeTo=function e(t){this._textureFrame.width=t.x;this._textureFrame.height=t.y;this._renderTargets.forEach(function(e){return e.resizeTo(t)})};e.prototype.getFilterStack=function e(){return this._filterStack};e.prototype.setFilterStack=function e(t){this._filterStack=t};e.prototype._getOrCreateRenderTarget=function e(t){var r=this._renderTargets.pop();if(!r){r=new s.default(this._renderer,this._textureFrame.width,this._textureFrame.height,1)}r.setFrame(this._currentFrame);if(t){r.clear()}return r};e.prototype.pushFilters=function e(t,r){var n=t.getBounds();this._currentFrame=n;var o=t.getFilterRectangle();if(o.width>0&&o.height>0){this._currentFrame=o}var i=this._getOrCreateRenderTarget();this._renderer.setRenderTarget(i);i.clear();this._filterStack.push({renderTarget:i,filters:r})};e.prototype.popFilters=function e(){var t=this._filterStack.pop(),r=t.filters,n=t.renderTarget;var o=this._filterStack[this._filterStack.length-1];var i=n;var a=o.renderTarget;this._quad.map(this._textureFrame,i.getFrame());var s=r[0].getShaderForRenderer(this._renderer);var u=this._quad.getVertexBuffer();var l=this._quad.getIndexBuffer();var c=this._renderer.getContext();c.bindBuffer(c.ARRAY_BUFFER,u);c.bindBuffer(c.ELEMENT_ARRAY_BUFFER,l);var d=s.getAttributeLocations();c.vertexAttribPointer(d.a_position,2,c.FLOAT,false,0,0);c.vertexAttribPointer(d.a_texCoord,2,c.FLOAT,false,0,2*4*4);c.vertexAttribPointer(d.a_color,4,c.FLOAT,false,0,4*4*4);if(r.length===1){r[0].apply(this._renderer,i,a);this._renderTargets.push(i)}else{this._applyFilters(r,i,a)}return r};e.prototype._applyFilters=function e(t,r,n){var o=this;var i=r;var a=this._getOrCreateRenderTarget(true);var s=t[t.length-1];t.forEach(function(e,t){var r=e===s;if(!r){e.apply(o._renderer,i,a);var u=i;i=a;a=u}else{e.apply(o._renderer,i,n)}});this._renderTargets.push(i);this._renderTargets.push(a)};e.prototype._onContextChange=function e(){this._renderTargets.length=0;if(this._renderer.isOfType(d.WEBGL)){if(this._quad){this._quad.dispose()}this._quad=new l.default(this._renderer)}};e.prototype.dispose=function e(){this._renderer.off("context",this._onContextChange);if(this._quad){this._quad.dispose()}this._renderTargets.forEach(function(e){e.dispose()})};return e}();t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=u(n);var i=r(6);var a=u(i);var s=r(9);function u(e){return e&&e.__esModule?e:{default:e}}var l=a.default.Log,c=a.default.Utils;var d=function(){function e(t,r,n,i,a){(0,o.default)(this,e);this._renderer=t;this._vertexSource=r;this._fragmentSource=n;this._uniforms=i||{};this._uniformLocations={};this._attributes=a||[];this._attributeLocations={};this._onContextChange=this._onContextChange.bind(this);this._renderer.on("context",this._onContextChange);this._init()}e.prototype._init=function e(){this._compile();var t=this._renderer.getContext();t.useProgram(this._program);this._cacheUniformLocations();this._cacheAttributeLocations()};e.prototype._onContextChange=function e(){this._init()};e.prototype.setupBuffers=function e(t,r){var n=this._renderer.getContext();n.bindBuffer(n.ARRAY_BUFFER,t);n.bindBuffer(n.ELEMENT_ARRAY_BUFFER,r);n.vertexAttribPointer(this._attributeLocations.a_position,2,n.FLOAT,false,a.default.VERTEX_BYTE_SIZE,0);n.vertexAttribPointer(this._attributeLocations.a_texCoord,2,n.FLOAT,false,a.default.VERTEX_BYTE_SIZE,2*4);n.vertexAttribPointer(this._attributeLocations.a_color,4,n.UNSIGNED_BYTE,true,a.default.VERTEX_BYTE_SIZE,4*4)};e.prototype.syncUniforms=function e(){var t=this;Object.keys(this._uniforms).forEach(function(e){t.syncUniform(e)})};e.prototype.syncUniform=function e(t){var r=this._renderer.getContext();var n=this._uniforms[t];var o=this._uniformLocations[t];switch(n.type){case s.UniformType.SAMPLER2D:case s.UniformType.INT:case s.UniformType.INT1:r.uniform1i(o,n.value);break;case s.UniformType.FLOAT:case s.UniformType.FLOAT1:r.uniform1f(o,n.value);break;case s.UniformType.FLOAT2:r.uniform2f(o,n.value[0],n.value[1]);break;case s.UniformType.FLOAT3:r.uniform3f(o,n.value[0],n.value[1],n.value[2]);break;case s.UniformType.FLOAT4:r.uniform4f(o,n.value[0],n.value[1],n.value[2],n.value[3]);break;case s.UniformType.FLOAT_VECTOR2:r.uniform2fv(o,n.value);break;case s.UniformType.MAT3:case s.UniformType.MAT3FV:r.uniformMatrix3fv(o,false,n.value);break;case s.UniformType.MAT4:r.uniformMatrix4fv(o,false,n.value);break;default:l.warn(this.constructor.name,"Unknown uniform type: "+n.type)}};e.prototype._cacheAttributeLocations=function e(){var t=this;var r=this._renderer.getContext();this._attributes.forEach(function(e){t._attributeLocations[e]=r.getAttribLocation(t._program,e)})};e.prototype._cacheUniformLocations=function e(){var t=this;var r=this._renderer.getContext();var n=Object.keys(this._uniforms);n.forEach(function(e){t._uniformLocations[e]=r.getUniformLocation(t._program,e)})};e.prototype._addPrecisionToSource=function e(t){var r=this._renderer.getMaxFloatPrecision();var n="mediump";if(c.isMobile()&&r==="highp"){n="highp"}return"precision "+n+" float;\n"+t};e.prototype._compile=function e(){var t=this._renderer.getContext();var r=this._compileShader(t.VERTEX_SHADER,this._vertexSource);this._vertexShader=r;var n=this._addPrecisionToSource(this._fragmentSource);var o=this._compileShader(t.FRAGMENT_SHADER,n);this._fragmentShader=o;var i=t.createProgram();t.attachShader(i,r);t.attachShader(i,o);t.linkProgram(i);var a=t.getProgramParameter(i,t.LINK_STATUS);if(!a){var s=t.getProgramInfoLog(i);if(t.isContextLost())s="WebGL context lost";t.deleteProgram(i);l.error(this.constructor.name,"WebGL program linking error: "+s)}this._program=i};e.prototype._compileShader=function e(t,r){var n=this._renderer.getContext();var o=n.createShader(t);n.shaderSource(o,r);n.compileShader(o);var i=n.getShaderParameter(o,n.COMPILE_STATUS);if(!i){var a=n.getShaderInfoLog(o);if(n.isContextLost())a="WebGL context lost";n.deleteShader(o);l.error(this.constructor.name,"WebGL shader compilation error: "+a)}return o};e.prototype.setUniform=function e(t,r){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;this._uniforms[t].value=r;if(n){this.syncUniform(t)}};e.prototype.setUniforms=function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;for(var n in t){this._uniforms[n].value=t[n];if(r){this.syncUniform(n)}}};e.prototype.getUniforms=function e(){return this._uniforms};e.prototype.getAttributes=function e(){return this._attributes};e.prototype.getAttributeLocations=function e(){return this._attributeLocations};e.prototype.getProgram=function e(){return this._program};e.prototype.dispose=function e(){var t=this._renderer.getContext();t.deleteProgram(this._program);t.deleteShader(this._vertexShader);t.deleteShader(this._fragmentShader);this._uniforms=null;this._uniformLocations=null;this._attributes=null;this._attributeLocations=null;this._renderer.off("context",this._onContextChange)};return e}();t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=f(n);var i=r(2);var a=f(i);var s=r(1);var u=f(s);var l=r(6);var c=r(47);var d=f(c);function f(e){return e&&e.__esModule?e:{default:e}}var p=l.Constants.UniformType;var h=function(e){(0,u.default)(t,e);function t(r,n,i){(0,o.default)(this,t);n=n||t.defaultVertexSource;i=i||t.defaultFragmentSource;return(0,a.default)(this,e.call(this,r,n,i,t.defaultUniforms,t.defaultAttributes))}return t}(d.default);h.defaultVertexSource=r(224);h.defaultFragmentSource=r(223);var v=new l.Matrix;h.defaultUniforms={u_image:{type:p.SAMPLER2D,value:0},u_projMatrix:{type:p.MAT3,value:v.toArray()}};h.defaultAttributes=["a_position","a_texCoord","a_color"];t.default=h},function(e,t){e.exports=function(e){if(e==undefined)throw TypeError("Can't call method on  "+e);return e}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){e.exports={}},function(e,t){e.exports=true},function(e,t,r){var n=r(28),o=r(203),i=r(50),a=r(56)("IE_PROTO"),s=function(){},u="prototype";var l=function(){var e=r(86)("iframe"),t=i.length,n="<",o=">",a;e.style.display="none";r(196).appendChild(e);e.src="javascript:";a=e.contentWindow.document;a.open();a.write(n+"script"+o+"document.F=Object"+n+"/script"+o);a.close();l=a.F;while(t--)delete l[u][i[t]];return l()};e.exports=Object.create||function e(t,r){var i;if(t!==null){s[u]=n(t);i=new s;s[u]=null;i[a]=t}else i=l();return r===undefined?i:o(i,r)}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t,r){var n=r(17).f,o=r(16),i=r(24)("toStringTag");e.exports=function(e,t,r){if(e&&!o(e=r?e:e.prototype,i))n(e,i,{configurable:true,value:t})}},function(e,t,r){var n=r(57)("keys"),o=r(41);e.exports=function(e){return n[e]||(n[e]=o(e))}},function(e,t,r){var n=r(13),o="__core-js_shared__",i=n[o]||(n[o]={});e.exports=function(e){return i[e]||(i[e]={})}},function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},function(e,t,r){var n=r(30);e.exports=function(e,t){if(!n(e))return e;var r,o;if(t&&typeof(r=e.toString)=="function"&&!n(o=r.call(e)))return o;if(typeof(r=e.valueOf)=="function"&&!n(o=r.call(e)))return o;if(!t&&typeof(r=e.toString)=="function"&&!n(o=r.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t,r){var n=r(13),o=r(22),i=r(52),a=r(61),s=r(17).f;e.exports=function(e){var t=o.Symbol||(o.Symbol=i?{}:n.Symbol||{});if(e.charAt(0)!="_"&&!(e in t))s(t,e,{value:a.f(e)})}},function(e,t,r){t.f=r(24)},function(e,t){var r=e.exports={};var n;var o;function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){n=setTimeout}else{n=i}}catch(e){n=i}try{if(typeof clearTimeout==="function"){o=clearTimeout}else{o=a}}catch(e){o=a}})();function s(e){if(n===setTimeout){return setTimeout(e,0)}if((n===i||!n)&&setTimeout){n=setTimeout;return setTimeout(e,0)}try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}function u(e){if(o===clearTimeout){return clearTimeout(e)}if((o===a||!o)&&clearTimeout){o=clearTimeout;return clearTimeout(e)}try{return o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}var l=[];var c=false;var d;var f=-1;function p(){if(!c||!d){return}c=false;if(d.length){l=d.concat(l)}else{f=-1}if(l.length){h()}}function h(){if(c){return}var e=s(p);c=true;var t=l.length;while(t){d=l;l=[];while(++f<t){if(d){d[f].run()}}f=-1;t=l.length}d=null;c=false;u(e)}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1){for(var r=1;r<arguments.length;r++){t[r-1]=arguments[r]}}l.push(new v(e,t));if(l.length===1&&!c){s(h)}};function v(e,t){
this.fun=e;this.array=t}v.prototype.run=function(){this.fun.apply(null,this.array)};r.title="browser";r.browser=true;r.env={};r.argv=[];r.version="";r.versions={};function m(){}r.on=m;r.addListener=m;r.once=m;r.off=m;r.removeListener=m;r.removeAllListeners=m;r.emit=m;r.binding=function(e){throw new Error("process.binding is not supported")};r.cwd=function(){return"/"};r.chdir=function(e){throw new Error("process.chdir is not supported")};r.umask=function(){return 0}},function(e,t,r){(function(e,n){var o=r(62).nextTick;var i=Function.prototype.apply;var a=Array.prototype.slice;var s={};var u=0;t.setTimeout=function(){return new l(i.call(setTimeout,window,arguments),clearTimeout)};t.setInterval=function(){return new l(i.call(setInterval,window,arguments),clearInterval)};t.clearTimeout=t.clearInterval=function(e){e.close()};function l(e,t){this._id=e;this._clearFn=t}l.prototype.unref=l.prototype.ref=function(){};l.prototype.close=function(){this._clearFn.call(window,this._id)};t.enroll=function(e,t){clearTimeout(e._idleTimeoutId);e._idleTimeout=t};t.unenroll=function(e){clearTimeout(e._idleTimeoutId);e._idleTimeout=-1};t._unrefActive=t.active=function(e){clearTimeout(e._idleTimeoutId);var t=e._idleTimeout;if(t>=0){e._idleTimeoutId=setTimeout(function t(){if(e._onTimeout)e._onTimeout()},t)}};t.setImmediate=typeof e==="function"?e:function(e){var r=u++;var n=arguments.length<2?false:a.call(arguments,1);s[r]=true;o(function o(){if(s[r]){if(n){e.apply(null,n)}else{e.call(null)}t.clearImmediate(r)}});return r};t.clearImmediate=typeof n==="function"?n:function(e){delete s[e]}}).call(t,r(63).setImmediate,r(63).clearImmediate)},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.ColorMatrix=t.Matrix=t.Rectangle=t.Vector2=undefined;var n=r(20);var o=d(n);var i=r(76);var a=d(i);var s=r(75);var u=d(s);var l=r(34);var c=d(l);function d(e){return e&&e.__esModule?e:{default:e}}t.Vector2=o.default;t.Rectangle=a.default;t.Matrix=u.default;t.ColorMatrix=c.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=h(n);var i=r(2);var a=h(i);var s=r(1);var u=h(s);var l=r(3);var c=r(7);var d=h(c);var f=r(26);var p=h(f);function h(e){return e&&e.__esModule?e:{default:e}}var v=function(e){(0,u.default)(t,e);function t(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:[];(0,o.default)(this,t);var n=(0,a.default)(this,e.call(this));n._onOperationUpdate=n._onOperationUpdate.bind(n);n._cacheEnabled=true;n._stack=r;n._stack.forEach(function(e){e.on("update",n._onOperationUpdate)});return n}t.prototype.clear=function e(){var t=this;this.forEach(function(e){return t.remove(e)});this._stack=[]};t.prototype._onOperationUpdate=function e(t,r){this.emit(l.Constants.Events.OPERATION_UPDATED,t,r)};t.prototype.enableCache=function e(){this._cacheEnabled=true};t.prototype.disableCache=function e(){this._cacheEnabled=false};t.prototype.forEach=function e(t){return this._stack.filter(function(e){return!!e}).forEach(t)};t.prototype.render=function e(t,r){var n=this;var o=r;var i=this._stack.filter(function(e){return!!e}).filter(function(e){return e.getEnabled()});i.reverse();var a=i.filter(function(e){return!e.isDirtyForRenderer(t.getRenderer())})[0];var s=i.indexOf(a);i.reverse();var u=0;if(s!==-1){u=i.length-s-1}for(var c=0;c<u;c++){l.Log.info(this.constructor.name,"Skipping "+i[c].constructor.name)}var f=d.default.resolve(o);var p=function e(t){var r=i[t];f=f.then(function(e){return r.render(e).then(function(e){if(t>0&&!n._cacheEnabled){i[t-1].disposeRenderTextures()}return e})})};for(var h=u;h<i.length;h++){p(h)}return f};t.prototype.validateSettings=function e(){return d.default.all(this._stack.filter(function(e){return!!e}).map(function(e){return e.validateSettings()}))};t.prototype.setAllToDirty=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;this.forEach(function(e){return e.setDirty(true,t)})};t.prototype.updateDirtinessForRenderer=function e(t){var r=false;for(var n=0;n<this._stack.length;n++){var o=this._stack[n];if(!o)continue;if(o.isDirtyForRenderer(t)){r=true}if(r){o.setDirtyForRenderer(true,t)}}};t.prototype.push=function e(t){this._stack.push(t);t.on("update",this._onOperationUpdate)};t.prototype.unshift=function e(t){this._stack.unshift(t);t.on("update",this._onOperationUpdate)};t.prototype.clone=function e(){return new t(this._stack.slice(0))};t.prototype.get=function e(t){return this._stack[t]};t.prototype.set=function e(t,r){if(this._stack[t]){this._stack[t].off("update",this._onOperationUpdate);this._stack[t].dispose()}this._stack[t]=r;r.on("update",this._onOperationUpdate)};t.prototype.remove=function e(t){var r=this._stack.indexOf(t);if(r===-1){return}if(this._stack[r]){this._stack[r].off("update",this._onOperationUpdate);this._stack[r].dispose()}this._stack.splice(r,1)};t.prototype.removeAt=function e(t){if(this._stack[t]){this._stack[t].off("update",this._onOperationUpdate);this._stack[t].dispose()}delete this._stack[t]};t.prototype.getStack=function e(){return this._stack};t.prototype.dispose=function e(){this.forEach(function(e){e.dispose()})};return t}(p.default);t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(120);Object.defineProperty(t,"FilterOperation",{enumerable:true,get:function e(){return h(n).default}});var o=r(118);Object.defineProperty(t,"CropOperation",{enumerable:true,get:function e(){return h(o).default}});var i=r(169);Object.defineProperty(t,"OrientationOperation",{enumerable:true,get:function e(){return h(i).default}});var a=r(116);Object.defineProperty(t,"AdjustmentsOperation",{enumerable:true,get:function e(){return h(a).default}});var s=r(168);Object.defineProperty(t,"LinearFocusOperation",{enumerable:true,get:function e(){return h(s).default}});var u=r(170);Object.defineProperty(t,"RadialFocusOperation",{enumerable:true,get:function e(){return h(u).default}});var l=r(167);Object.defineProperty(t,"FrameOperation",{enumerable:true,get:function e(){return h(l).default}});var c=r(174);Object.defineProperty(t,"SpriteOperation",{enumerable:true,get:function e(){return h(c).default}});var d=r(181);Object.defineProperty(t,"WatermarkOperation",{enumerable:true,get:function e(){return h(d).default}});var f=r(119);Object.defineProperty(t,"ExifOrientationOperation",{enumerable:true,get:function e(){return h(f).default}});var p=r(171);Object.defineProperty(t,"SelectiveBlurOperation",{enumerable:true,get:function e(){return h(p).default}});function h(e){return e&&e.__esModule?e:{default:e}}},function(e,t){e.exports={name:"photoeditorsdk",version:"3.6.5",description:"The most comprehensive photo editor SDK for HTML5",repository:"http://github.com/imgly/pesdk-html5",author:"Photo Editor SDK <contact@photoeditorsdk.com>",license:"SEE LICENSE IN LICENSE.md",scripts:{"render-filter-previews":"babel-node scripts/render-filter-previews",release:"ENV=production node_modules/.bin/gulp release","release:test":"ENV=test node_modules/.bin/gulp release","release:dev":"ENV=development node_modules/.bin/gulp release",test:"ENV=test node_modules/.bin/mocha --require test/support/node test/sdk test/ui","test:client":"ENV=test REMOTE=true gulp test:client","test:client:local":"ENV=test node --stack-size=65500 node_modules/.bin/gulp test:client","test:webgl":"node_modules/.bin/mocha test-webgl",coveralls:"npm run coverage && cat ./coverage/lcov.info | node_modules/.bin/coveralls && rm -rf ./coverage",coverage:"NODE_ENV=test node_modules/.bin/istanbul cover node_modules/.bin/_mocha --require test/support/node test/sdk test/ui"},devDependencies:{ajv:"^4.4.0","babel-core":"^6.6.4","babel-loader":"^6.2.4","babel-plugin-external-helpers-2":"^6.3.13","babel-plugin-transform-es2015-classes":"^6.6.4","babel-plugin-transform-runtime":"^6.6.0","babel-preset-es2015":"^6.6.0","babel-preset-react":"^6.5.0","babel-register":"^6.6.0","babel-runtime":"^6.6.1",babili:"^0.0.11",chai:"^3.4.0","chai-as-promised":"^5.1.0",chromedriver:"^2.23.1",classnames:"^2.1.3","compass-mixins":"^0.12.8",coveralls:"^2.11.2",del:"^2.0.0",gulp:"^3.8.10","gulp-9e-sass-lint":"0.0.8","gulp-babel":"^6.1.2","gulp-changed":"^1.3.0","gulp-jsdoc3":"^0.2.0","gulp-mocha":"^2.2.0","gulp-notify":"^1.3.1","gulp-rename":"~1.2.0","gulp-sass":"^2.0.4","gulp-sequence":"^0.4.1","gulp-sourcemaps":"^1.5.2","gulp-standard":"^8.0.2","gulp-util":"~2.2.16","gulp-watch":"^4.3.5","gulp-webserver":"^0.9.1","gulp-yuicompressor":"0.0.3",inquirer:"^0.11.4","inquirer-path":"^1.0.0-alpha5",istanbul:"^1.1.0-alpha.1","jaguarjs-jsdoc":"git://github.com/imgly/jaguarjs-jsdoc.git#master",jsdoc:"git://github.com/jsdoc3/jsdoc.git#master","json-loader":"^0.5.2",mocha:"^2.3.3","mocha-lcov-reporter":"0.0.1",nightwatch:"git://github.com/saschagehlich/nightwatch.git#feature/upload-file","performance-now":"^0.2.0","preprocess-loader":"^0.2.0","pretty-error":"^2.0.0",prompt:"^1.0.0","raw-loader":"^0.5.1",react:"^15.1.0","react-dom":"^15.1.0",rembrandt:"^0.0.8","require-dir":"^0.3.0","run-sequence":"~0.3.6","selenium-server-standalone-jar":"^2.53.1",should:"^4.3.0",sinon:"^1.17.3","sinon-chai":"^2.8.0","stats.js":"^0.16.0","term-img2":"^2.0.1","transform-loader":"^0.2.2","vinyl-source-stream":"0.1.1",webpack:"2.1.0-beta.25","webpack-notifier":"^1.2.1"},standard:{globals:["describe","context","before","beforeEach","after","afterEach","it","expect"]},dependencies:{canvas:"^1.3.12",gl:"^4.0.3",request:"^2.79.0"}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=f(n);var i=r(2);var a=f(i);var s=r(1);var u=f(s);var l=r(6);var c=r(43);var d=f(c);function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._children=[];s._filters=[];return s}t.prototype.addFilter=function e(t){this._filters.push(t)};t.prototype.removeFilter=function e(t){var r=this._filters.indexOf(t);if(r!==-1){this._filters.splice(r,1);return true}return false};t.prototype.setFilters=function e(t){this._filters=t};t.prototype.addChild=function e(t){var r=t.getParent();if(r!==null){r.removeChild(t)}t.setParent(this);this._children.push(t)};t.prototype.prependChild=function e(t){var r=t.getParent();if(r!==null){r.removeChild(t)}t.setParent(this);this._children.unshift(t)};t.prototype.hasChild=function e(t){var r=this._children.indexOf(t);return r!==-1};t.prototype.removeChild=function e(t){var r=this._children.indexOf(t);if(r!==-1){this._children.splice(r,1);t.setParent(null)}else{l.Log.info(this.constructor.name,"Tried to remove a child that does not exist")}};t.prototype.clearChildren=function e(){this._children=[]};t.prototype.renderWebGL=function e(t){if(!this._visible){return}var r=t.getFilterManager();if(this._filters&&this._filters.length){r.pushFilters(this,this._filters)}t.getCurrentObjectRenderer().start();this._renderWebGL(t);this._children.forEach(function(e){e.renderWebGL(t)});t.getCurrentObjectRenderer().flush();if(this._filters&&this._filters.length){r.popFilters()}t.getCurrentObjectRenderer().start()};t.prototype._renderWebGL=function e(t){};t.prototype.renderCanvas=function e(t){if(!this._visible){return}var r=t.getFilterManager();if(this._filters&&this._filters.length){r.pushFilters(this,this._filters)}this._renderCanvas(t);this._children.forEach(function(e){e.renderCanvas(t)});if(this._filters&&this._filters.length){r.popFilters()}};t.prototype._renderCanvas=function e(t){};t.prototype.updateTransform=function t(){e.prototype.updateTransform.call(this);this._children.forEach(function(e){e.updateTransform()})};t.prototype.getLocalBounds=function e(){if(this._localBoundsNeedUpdate){this._localBoundsNeedUpdate=false}return this._localBounds.clone()};t.prototype.getBounds=function e(){if(this._boundsNeedUpdate){this._boundsNeedUpdate=false}return this._bounds.clone()};t.prototype.getChildren=function e(){return this._children};t.prototype.getFilters=function e(){return this._filters};t.prototype.dispose=function e(){};return t}(d.default);t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=f(n);var i=r(2);var a=f(i);var s=r(1);var u=f(s);var l=r(6);var c=r(108);var d=f(c);function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){(0,u.default)(t,e);function t(r,n){var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};(0,o.default)(this,t);var s=(0,a.default)(this,e.call(this));s._options=d.default.defaults(i,{pixelRatio:1,transparent:false,clearColor:l.Color.BLACK,debug:false});s.setMaxListeners(0);s._width=r||800;s._height=n||600;s._dimensions=new l.Vector2(s._width,s._height);s._maxTextureSize=null;s._pixelRatio=s._options.pixelRatio;s._clearColor=s._options.transparent?l.Color.TRANSPARENT:s._options.clearColor||l.Color.BLACK;return s}t.prototype.setCanvas=function e(t){var r=this._canvas;this._canvas=t;if(r!==t){this._createContext();this._onBeforeContext();this._setupContext()}this.resizeTo(new l.Vector2(this._width,this._height))};t.prototype.getCanvas=function e(){return this._canvas};t.prototype._onBeforeContext=function e(){};t.prototype.resizeTo=function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;this._width=t.x*this._pixelRatio;this._height=t.y*this._pixelRatio;if(r){this._canvas.width=this._width;this._canvas.height=this._height;if(this._canvas.style){this._canvas.style.width=this._width/this._pixelRatio+"px";this._canvas.style.height=this._height/this._pixelRatio+"px"}}this._dimensions=t.clone()};t.prototype._createContext=function e(){l.Log.warn(this.constructor.name,"`_createContext` is abstract and not implemented in inherited class")};t.prototype._setupContext=function e(){l.Log.warn(this.constructor.name,"`_setupContext` is abstract and not implemented in inherited class")};t.prototype.render=function e(t){l.Log.warn(this.constructor.name,"`render` is abstract and not implemented in inherited class")};t.prototype.getMaxDimensions=function e(){return null};t.prototype.getContext=function e(){return this._context};t.prototype.getWidth=function e(){return this._dimensions.x};t.prototype.getHeight=function e(){return this._dimensions.y};t.prototype.getDimensions=function e(){return this._dimensions};t.prototype.getPixelRatio=function e(){return this._pixelRatio};t.prototype.setPixelRatio=function e(t){this._pixelRatio=t;if(this._defaultRenderTarget){this._defaultRenderTarget.setPixelRatio(t)}};t.prototype.getMaxTextureSize=function e(){return this._maxTextureSize};t.prototype.getFilterManager=function e(){return this._filterManager};t.prototype.setFilterManager=function e(t){this._filterManager=t};t.isSupported=function e(){return true};t.prototype.isOfType=function e(t){return this._type===t};t.prototype.dispose=function e(){l.Log.warn(this.constructor.name,"`dispose` is abstract and not implemented in inherited class")};return t}(l.EventEmitter);t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=i(n);function i(e){return e&&e.__esModule?e:{default:e}}var a=function(){function e(t){(0,o.default)(this,e);this._renderer=t;this._onContextChange=this._onContextChange.bind(this);this._renderer.on("context",this._onContextChange)}e.prototype._onContextChange=function e(){};e.prototype.start=function e(){};e.prototype.stop=function e(){this.flush()};e.prototype.flush=function e(){};e.prototype.dispose=function e(){this._renderer.off("context",this._onContextChange);this._renderer=null};return e}();t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=h(n);var i=r(2);var a=h(i);var s=r(1);var u=h(s);var l=r(6);var c=r(31);var d=h(c);var f=r(107);var p=h(f);function h(e){return e&&e.__esModule?e:{default:e}}var v=function(e){(0,u.default)(t,e);function t(r,n){(0,o.default)(this,t);var i=(0,a.default)(this,e.call(this));if(!(r instanceof d.default)){throw new Error("`baseTexture` should be an instance of BaseTexture")}i._baseTexture=r;i._uvs=new p.default;i._frame=n?n.clone():null;i._frameLocked=!!n;i._onBaseTextureLoaded=i._onBaseTextureLoaded.bind(i);i._onBaseTextureUpdated=i._onBaseTextureUpdated.bind(i);if(!i._frame){i._frame=new l.Rectangle(0,0,1,1)}if(!i._baseTexture.isLoaded()){i._baseTexture.once("loaded",i._onBaseTextureLoaded)}else{var s=r.getFrame(),u=s.width,c=s.height;if(!i._frameLocked){i._frame=new l.Rectangle(0,0,u,c)}i._onBaseTextureLoaded()}return i}t.fromImage=function e(r){var n=new d.default(r);return new t(n)};t.fromCanvas=function e(r){var n=new d.default(r);return new t(n)};t.prototype._onBaseTextureLoaded=function e(){if(!this._frameLocked){var t=this._baseTexture.getFrame().clone();this.setFrame(t)}this._baseTexture.on("update",this._onBaseTextureUpdated)};t.prototype._onBaseTextureUpdated=function e(){var t=this._baseTexture.getFrame(),r=t.width,n=t.height;this._frame.width=r;this._frame.height=n;this.emit("update")};t.prototype._updateUVs=function e(){this._uvs.update(this._frame,this._baseTexture.getFrame())};t.prototype.getBaseTexture=function e(){return this._baseTexture};t.prototype.setBaseTexture=function e(t){this._baseTexture=t};t.prototype.getFrame=function e(){return this._frame};t.prototype.setFrame=function e(t){this._frame=t;this._updateUVs()};t.prototype.getWidth=function e(){return this._frame.width};t.prototype.getHeight=function e(){return this._frame.height};t.prototype.getUVs=function e(){return this._uvs};t.prototype.getDimensions=function e(){return new l.Vector2(this._frame.width,this._frame.height)};return t}(l.EventEmitter);t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=a(n);var i=r(6);function a(e){return e&&e.__esModule?e:{default:e}}var s=typeof window!=="undefined"&&window.performance&&window.performance.now?window.performance.now.bind(window.performance):r(94);var u=function(){function e(t){var r=this;(0,o.default)(this,e);this._context=t;this._tracking=false;var n=this;var i=function e(o){var i=t[o];if(typeof i==="function"){r[o]=function(){for(var e=arguments.length,r=Array(e),i=0;i<e;i++){r[i]=arguments[i]}var a=t[o];if(!n._tracking){return a.apply(t,r)}var u=s();var l=a.apply(t,r);var c=s()-u;var d={functionName:o,arguments:r,duration:c};n._trackedCalls.push(d);return l}}else{r._makePropertyWrapper(o)}};for(var a in t){i(a)}}e.prototype._makePropertyWrapper=function e(t){var r=["_context","_trackedCalls","_tracking"];if(r.indexOf(t)!==-1)return;var n=this._context;this.__defineGetter__(t,function(){return n[t]});this.__defineSetter__(t,function(e){n[t]=e})};e.prototype.startFrame=function e(){this._tracking=true;this._trackedCalls=[]};e.prototype.endFrame=function e(){var t="Rendering";i.Log.log(t,"Frame rendering results:");i.Log.log(t,"Context calls: "+this._trackedCalls.length);var r={};this._trackedCalls.forEach(function(e){var t=e.functionName,n=e.duration;r[t]=r[t]||{totalDuration:0,calls:0};r[t].totalDuration+=n;r[t].calls++});var n=[];for(var o in r){var a=r[o];a.averageDuration=a.totalDuration/a.calls;n.push({functionName:o,data:a})}n.sort(function(e,t){return t.data.totalDuration-e.data.totalDuration});n=n.slice(0,3);n.forEach(function(e){i.Log.log(t,e.functionName+": "+e.data.calls+" calls, "+e.data.totalDuration.toFixed(2)+"ms")})};return e}();t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=i(n);function i(e){return e&&e.__esModule?e:{default:e}}var a=function(){function e(t,r,n){(0,o.default)(this,e);this.width=t;this.height=r;this.data=n}e.fromNodeCanvasImage=function t(r){var n=new Canvas(r.width,r.height);var o=n.getContext("2d");o.drawImage(r,0,0);var i=o.getImageData(0,0,r.width,r.height);return new e(r.width,r.height,i.data)};return e}();t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(83);var o=s(n);var i=r(27);var a=s(i);function s(e){return e&&e.__esModule?e:{default:e}}t.default={checkFramebufferStatus:function e(t,r){var n;var i=r.checkFramebufferStatus(r.FRAMEBUFFER);var s=(n={},(0,o.default)(n,r.FRAMEBUFFER_INCOMPLETE_ATTACHMENT,"Incomplete attachment"),(0,o.default)(n,r.FRAMEBUFFER_INCOMPLETE_MISSING_ATTACHMENT,"Missing attachment"),(0,o.default)(n,r.FRAMEBUFFER_INCOMPLETE_DIMENSIONS,"Incomplete dimensions"),(0,o.default)(n,r.FRAMEBUFFER_UNSUPPORTED,"Framebuffer unsupported"),n);if(i!==r.FRAMEBUFFER_COMPLETE){a.default.warn(t,"Framebuffer incomplete: "+s[i])}}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=l(n);var i=r(37);var a=l(i);var s=r(20);var u=l(s);function l(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(){(0,o.default)(this,e);this.reset()}e.prototype.multiply=function e(t){var r=void 0,n=void 0,o=void 0,i=void 0,a=void 0,s=void 0;r=this.a*t.a+this.b*t.c;n=this.a*t.b+this.b*t.d;o=this.c*t.a+this.d*t.c;i=this.c*t.b+this.d*t.d;a=this.tx*t.a+this.ty*t.c+t.tx;s=this.tx*t.b+this.ty*t.d+t.ty;this.a=r;this.b=n;this.c=o;this.d=i;this.tx=a;this.ty=s;return this};e.prototype.applyToVector=function e(t){var r=t,n=r.x,o=r.y;t=t.clone();t.x=this.a*n+this.c*o+this.tx;t.y=this.b*n+this.d*o+this.tx;return t};e.prototype.applyInverseToVector=function e(t){var r=1/(this.a*this.d+this.c*-this.b);var n=t,o=n.x,i=n.y;t=t.clone();t.x=this.d*r*o+-this.c*r*i+(this.ty*this.c-this.tx*this.d)*r;t.y=this.a*r*i+-this.b*r*o+(-this.ty*this.a+this.tx*this.b)*r;return t};e.prototype.rectangleToCoordinates=function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:new u.default(0,0);var n=t.width*(1-r.x);var o=t.width*-r.x;var i=t.height*(1-r.y);var a=t.height*-r.y;var s=[];s.push(new u.default(this.a*o+this.c*a+this.tx,this.d*a+this.b*o+this.ty));s.push(new u.default(this.a*n+this.c*a+this.tx,this.d*a+this.b*n+this.ty));s.push(new u.default(this.a*n+this.c*i+this.tx,this.d*i+this.b*n+this.ty));s.push(new u.default(this.a*o+this.c*i+this.tx,this.d*i+this.b*o+this.ty));return s};e.prototype.reset=function e(){this.a=1;this.b=0;this.c=0;this.d=1;this.tx=0;this.ty=0};e.prototype.toArray=function e(){var t=[this.a,this.b,0,this.c,this.d,0,this.tx,this.ty,1];if(typeof Float32Array==="undefined"){return t}return new Float32Array(t)};e.prototype.toString=function e(){return"Matrix({ a: "+this.a+", b: "+this.b+", c: "+this.c+", d: "+this.d+", tx: "+this.tx+", ty: "+this.ty+" })"};(0,a.default)(e,null,[{key:"IDENTITY",get:function t(){return new e}}]);return e}();t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=i(n);function i(e){return e&&e.__esModule?e:{default:e}}var a=function(){function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:0;var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:0;(0,o.default)(this,e);this.x=t;this.y=r;this.width=n;this.height=i}e.prototype.set=function e(t,r,n,o){this.x=t;this.y=r;this.width=n;this.height=o;return this};e.prototype.clone=function t(){return new e(this.x,this.y,this.width,this.height)};e.prototype.copy=function e(t){this.x=t.x;this.y=t.y;this.width=t.width;this.height=t.height;return this};e.prototype.equals=function t(r,n,o,i){if(r instanceof e){return r.x===this.x&&r.y===this.y&&r.width===this.width&&r.height===this.height}else{var a=r;return a===this.x&&n===this.y&&o===this.width&&i===this.height}};e.prototype.round=function e(){this.x=Math.round(this.x);this.y=Math.round(this.y);this.width=Math.round(this.width);this.height=Math.round(this.height);return this};e.prototype.toString=function e(){return"Rectangle({ x: "+this.x+", y: "+this.y+", width: "+this.width+", height: "+this.height+" })"};return e}();t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=a(n);var i=r(3);function a(e){return e&&e.__esModule?e:{default:e}}var s=typeof window!=="undefined"&&window.performance&&window.performance.now?window.performance.now.bind(window.performance):r(94);var u=function(){function e(t,r){(0,o.default)(this,e);this._tag=t;this._name=r;this._start=s()}e.prototype.stop=function e(){var t=s();var r=t-this._start;var n=Math.round(1e3/r);i.Log.info(this._tag,this._name+" took "+r.toFixed(2)+"ms ("+n+" FPS)")};return e}();t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=c(n);var i=r(2);var a=c(i);var s=r(1);var u=c(s);var l=r(3);function c(e){return e&&e.__esModule?e:{default:e}}var d=l.Constants.UniformType,f=l.Constants.OptionType;var p=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);var n=(0,a.default)(this,e.call(this));n._fragmentSource=r(227);return n}t.prototype._applyCanvas=function e(t,r,n){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var i=r.getCanvas();var a=r.getContext();var s=n.getContext();var u=a.getImageData(0,0,i.width,i.height);var l=this._options,c=l.brightness,d=l.saturation,f=l.contrast,p=l.gamma,h=l.exposure,v=l.shadows,m=l.highlights;var _=c!==0;var g=d!==1;var y=f!==1;var b=h!==0;var x=p!==1;var E=v!==0||m!==1;var C=Math.pow(2,h);c=c*255;for(var w=0;w<i.width*i.height;w++){var S=w*4;var T=u.data[S];var R=u.data[S+1];var M=u.data[S+2];if(x){T=Math.pow(T/255,1/p)*255;R=Math.pow(R/255,1/p)*255;M=Math.pow(M/255,1/p)*255}if(b||E){T/=255;R/=255;M/=255}if(b){T*=C;R*=C;M*=C}if(E){var O=T*.2125+R*.7154+M*.0721;var k=Math.pow(O,1/(v+1))+-.76*Math.pow(O,2/(v+1))-O;k=Math.max(k,0);k=Math.min(k,1);var P=1-(Math.pow(1-O,1/(2-m))+-.8*Math.pow(1-O,2/(2-m)))-O;P=Math.max(P,-1);P=Math.min(P,0);var D=O+k+P;T=D*T/O;R=D*R/O;M=D*M/O}if(b||E){T*=255;R*=255;M*=255}if(_){T=T+c;R=R+c;M=M+c}if(g){var B=T*.2125+R*.7154+M*.0721;T=B*(1-d)+T*d;R=B*(1-d)+R*d;M=B*(1-d)+M*d}if(y){T=(T-127)*f+127;R=(R-127)*f+127;M=(M-127)*f+127}u.data[S]=T;u.data[S+1]=R;u.data[S+2]=M}s.putImageData(u,0,0)};return t}(l.Engine.Filter);p.prototype.availableOptions={brightness:{type:f.NUMBER,default:0,uniformType:d.FLOAT},saturation:{type:f.NUMBER,default:1,uniformType:d.FLOAT},contrast:{type:f.NUMBER,default:1,uniformType:d.FLOAT},gamma:{type:f.NUMBER,default:1,uniformType:d.FLOAT},exposure:{type:f.NUMBER,default:0,uniformType:d.FLOAT},shadows:{type:f.NUMBER,default:0,uniformType:d.FLOAT},highlights:{type:f.NUMBER,default:1,uniformType:d.FLOAT}};t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=f(n);var i=r(2);var a=f(i);var s=r(1);var u=f(s);var l=r(3);var c=r(4);var d=f(c);function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);return(0,a.default)(this,e.apply(this,arguments))}t.prototype.render=function e(t,r){return l.Promise.resolve()};return t}(d.default);p.isIdentity=true;p.displayName="Original";p.identifier="identity";t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=h(n);var i=r(2);var a=h(i);var s=r(1);var u=h(s);var l=r(12);var c=h(l);var d=r(8);var f=h(d);var p=r(9);function h(e){return e&&e.__esModule?e:{default:e}}var v=3;var m=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);var n=(0,a.default)(this,e.call(this));n._fragmentSource=r(241);return n}t.prototype._applyCanvas=function e(t,r,n){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var i=r.getCanvas();var a=r.getContext();var s=n.getContext();var u=a.getImageData(0,0,i.width,i.height);var l=this._options.lookupTableData;for(var c=0;c<i.width*i.height;c++){var d=c*4;var f=u.data[d];u.data[d]=l[f*4];var p=u.data[d+1];u.data[d+1]=l[1+p*4];var h=u.data[d+2];u.data[d+2]=l[2+h*4]}s.putImageData(u,0,0)};return t}(c.default.Filter);m.prototype.availableOptions={lookupTable:{type:p.OptionType.NUMBER,default:v,uniformType:p.UniformType.INT},lookupTableData:{type:p.OptionType.ARRAY,default:[]}};var _=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._filter=new m;s._textures={};s._renderers={};return s}t.prototype.update=function e(t){var r=t.getRenderer();if(r.isOfType(p.RendererType.WEBGL)){this._updateWebGLTexture(t)}else if(r.isOfType(p.RendererType.CANVAS)){this._filter.setLookupTableData(this._options.data)}};t.prototype._updateWebGLTexture=function e(t){if(typeof this._options.data==="undefined"){throw new Error("LookupTable: No data specified.")}var r=new Uint8Array(this._options.data);var n=t.getRenderer();var o=n.id;this._renderers[o]=n;if(!this._textures[o]){this._textures[o]=new c.default.BaseTexture}var i=this._textures[o];var a=new c.default.PixelArrayImage(256,1,r);i.setSource(a);i.setGLUnit(v);if(n.isOfType(p.RendererType.WEBGL)){n.updateTexture(i)}};t.prototype.dispose=function t(){e.prototype.dispose.call(this);for(var r in this._textures){this._textures[r].dispose();delete this._textures[r]}delete this._options.data};return t}(f.default);t.default=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=h(n);var i=r(2);var a=h(i);var s=r(1);var u=h(s);var l=r(3);var c=r(176);var d=h(c);var f=r(35);var p=h(f);function h(e){return e&&e.__esModule?e:{default:e}}var v=l.Constants.OptionType,m=l.Constants.RendererType;var _=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._persistedPaths=[];s._outputCanvasDirty=true;s._outputCanvas=l.Utils.createCanvas();s._outputContext=s._outputCanvas.getContext("2d");s._persistCanvas=l.Utils.createCanvas();s._persistContext=s._persistCanvas.getContext("2d");s._nextCanvas=l.Utils.createCanvas();s._texture=l.Engine.Texture.fromCanvas(s._outputCanvas);s._sprite.setTexture(s._texture);s._onPathUpdate=s._onPathUpdate.bind(s);return s}t.prototype.applyFlip=function e(t){this._options.paths.forEach(function(e){e.forEachControlPoint(function(e){var r=e.getPosition().clone();switch(t){case"horizontal":r.x=1-r.x;break;case"vertical":r.y=1-r.y;break}e.setPosition(r)});e.setDirty(true)});this._reset()};t.prototype.applyRotation=function e(t){this._options.paths.forEach(function(e){e.forEachControlPoint(function(e){var r=e.getPosition().clone();if(t===90){r.flip();r.x=1-r.x}else if(t===-90){r.flip();r.y=1-r.y}e.setPosition(r)});e.setDirty(true)});this._reset()};t.prototype.applyCrop=function e(t,r){this._reset();var n=t.getInputDimensions();var o=r.rotation-t.getRotation();var i=t.getEnd().clone().subtract(t.getStart()).multiply(n);var a=r.end.clone().subtract(r.start).multiply(n);var s=t.getStart().clone().subtract(r.start).multiply(n);var u=r.scale/t.getScale();var c=t.getStart().clone().multiply(n);this._options.paths.forEach(function(e){e.forEachControlPoint(function(e){var t=e.getPosition().clone().multiply(i).add(c);var r=t.clone().subtract(n.clone().multiply(.5));var d=Math.cos(o);var f=Math.sin(o);var p=new l.Vector2(r.x*d-r.y*f,r.x*f+r.y*d);p.multiply(u);var h=n.clone().multiply(.5).add(p).subtract(c).add(s).divide(a);e.setPosition(h)});var t=e.getThickness()*i.min()/a.min();e.setThickness(t*u);e.setDirty(true)});this._reset()};t.prototype.clearCanvas=function e(){if(!this._outputCanvas){return}this._outputCanvasDirty=true;var t=this._outputCanvas,r=t.width,n=t.height;this._outputContext.clearRect(0,0,r,n)};t.prototype.clearPersistCanvas=function e(){if(!this._persistCanvas){return}var t=this._persistCanvas,r=t.width,n=t.height;this._persistContext.clearRect(0,0,r,n)};t.prototype.serializeOptions=function t(r){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var o=e.prototype.serializeOptions.call(this,r,n);
if(!r)o.type="brush";return o};t.prototype.createPath=function e(t,r,n){var o=new d.default(this._operation,{thickness:t,hardness:r,color:n},this._nextCanvas);o.on("update",this._onPathUpdate);this._options.paths.push(o);this.setDirty(true);return o};t.prototype._onPathUpdate=function e(){this._operation.setDirty(true);this.setDirty(true)};t.prototype._onPathPersist=function e(t){t.renderToCanvas(this._persistCanvas);this._nextCanvas=t.getCanvas();var r=this._nextCanvas.getContext("2d");r.clearRect(0,0,this._nextCanvas.width,this._nextCanvas.height);this._persistedPaths.push(t)};t.prototype._getTexture=function e(){return this._texture};t.prototype.setDirtyForRenderer=function t(r,n){var o=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;e.prototype.setDirtyForRenderer.call(this,r,n,o);if(r&&o){this._persistedPaths=[];this._options.paths.forEach(function(e){e.setDirty(true)})}};t.prototype.setDirty=function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;for(var n in this._dirtiness){this.setDirtyForRenderer(t,this._renderers[n],r)}};t.prototype.render=function e(t){var r=this;var n=this._operation.getSDK().getRenderer();if(!this.isDirtyForRenderer(n)){return}l.Utils.ensureCanvasDimensions(this._outputCanvas,t);l.Utils.ensureCanvasDimensions(this._persistCanvas,t);this._options.paths.forEach(function(e){e.render(t);if(e.getClosed()&&r._persistedPaths.indexOf(e)===-1){r._onPathPersist(e)}});this.clearCanvas();this._outputContext.drawImage(this._persistCanvas,0,0);this._options.paths.forEach(function(e){if(!e.getClosed()){e.renderToCanvas(r._outputCanvas)}});this.setDirtyForRenderer(false,n)};t.prototype.update=function t(r,n){if(n){l.Utils.ensureCanvasDimensions(this._outputCanvas,n);l.Utils.ensureCanvasDimensions(this._persistCanvas,n);this._texture.getBaseTexture().update()}this.render(n);var o=r.getRenderer();if(o.isOfType(m.WEBGL)){o.updateTexture(this._texture.getBaseTexture())}return e.prototype.update.call(this,r,n)};t.prototype._reset=function e(){this._persistedPaths=[];if(this._operation){this._operation.setDirty(true)}this.setDirty(true);this.clearCanvas();this.clearPersistCanvas()};t.prototype.getCanvas=function e(){return this._outputCanvas};t.prototype.dispose=function t(){e.prototype.dispose.call(this);this._texture.getBaseTexture().dispose()};return t}(p.default);_.prototype.availableOptions={id:{type:v.STRING,default:function e(){return l.Utils.getUUID()}},position:{type:v.VECTOR2,default:new l.Vector2(0,0)},scale:{type:v.VECTOR2,default:new l.Vector2(1,1)},anchor:{type:v.VECTOR2,default:new l.Vector2(0,0)},pivot:{type:v.VECTOR2,default:new l.Vector2(0,0)},rotation:{type:v.NUMBER,default:0},paths:{type:v.ARRAY,default:[],setter:function e(t){t.forEach(function(e){e.setDirty(true)});this._reset();return t}}};t.default=_},function(e,t,r){e.exports={default:r(188),__esModule:true}},function(e,t,r){"use strict";t.__esModule=true;var n=r(82);var o=i(n);function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t,r){if(t in e){(0,o.default)(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}},function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},function(e,t,r){var n=r(192);e.exports=function(e,t,r){n(e);if(t===undefined)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,o){return e.call(t,r,n,o)}}return function(){return e.apply(t,arguments)}}},function(e,t,r){var n=r(30),o=r(13).document,i=n(o)&&n(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t,r){e.exports=!r(15)&&!r(38)(function(){return Object.defineProperty(r(86)("div"),"a",{get:function(){return 7}}).a!=7})},function(e,t,r){"use strict";var n=r(52),o=r(29),i=r(93),a=r(23),s=r(16),u=r(51),l=r(199),c=r(55),d=r(205),f=r(24)("iterator"),p=!([].keys&&"next"in[].keys()),h="@@iterator",v="keys",m="values";var _=function(){return this};e.exports=function(e,t,r,g,y,b,x){l(r,t,g);var E=function(e){if(!p&&e in T)return T[e];switch(e){case v:return function t(){return new r(this,e)};case m:return function t(){return new r(this,e)}}return function t(){return new r(this,e)}};var C=t+" Iterator",w=y==m,S=false,T=e.prototype,R=T[f]||T[h]||y&&T[y],M=R||E(y),O=y?!w?M:E("entries"):undefined,k=t=="Array"?T.entries||R:R,P,D,B;if(k){B=d(k.call(new e));if(B!==Object.prototype){c(B,C,true);if(!n&&!s(B,f))a(B,f,_)}}if(w&&R&&R.name!==m){S=true;M=function e(){return R.call(this)}}if((!n||x)&&(p||S||!T[f])){a(T,f,M)}u[t]=M;u[C]=_;if(y){P={values:w?M:E(m),keys:b?M:E(v),entries:O};if(x)for(D in P){if(!(D in T))i(T,D,P[D])}else o(o.P+o.F*(p||S),t,P)}return P}},function(e,t,r){var n=r(54),o=r(40),i=r(18),a=r(59),s=r(16),u=r(87),l=Object.getOwnPropertyDescriptor;t.f=r(15)?l:function e(t,r){t=i(t);r=a(r,true);if(u)try{return l(t,r)}catch(e){}if(s(t,r))return o(!n.f.call(t,r),t[r])}},function(e,t,r){var n=r(92),o=r(50).concat("length","prototype");t.f=Object.getOwnPropertyNames||function e(t){return n(t,o)}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,r){var n=r(16),o=r(18),i=r(194)(false),a=r(56)("IE_PROTO");e.exports=function(e,t){var r=o(e),s=0,u=[],l;for(l in r)if(l!=a)n(r,l)&&u.push(l);while(t.length>s)if(n(r,l=t[s++])){~i(u,l)||u.push(l)}return u}},function(e,t,r){e.exports=r(23)},function(e,t,r){(function(t){(function(){var r,n,o;if(typeof performance!=="undefined"&&performance!==null&&performance.now){e.exports=function(){return performance.now()}}else if(typeof t!=="undefined"&&t!==null&&t.hrtime){e.exports=function(){return(r()-o)/1e6};n=t.hrtime;r=function(){var e;e=n();return e[0]*1e9+e[1]};o=r()}else if(Date.now){e.exports=function(){return Date.now()-o};o=Date.now()}else{e.exports=function(){return(new Date).getTime()-o};o=(new Date).getTime()}}).call(this)}).call(t,r(62))},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(79);Object.defineProperty(t,"IdentityFilter",{enumerable:true,get:function e(){return F(n).default}});var o=r(121);Object.defineProperty(t,"A15Filter",{enumerable:true,get:function e(){return F(o).default}});var i=r(122);Object.defineProperty(t,"BreezeFilter",{enumerable:true,get:function e(){return F(i).default}});var a=r(123);Object.defineProperty(t,"BWFilter",{enumerable:true,get:function e(){return F(a).default}});var s=r(124);Object.defineProperty(t,"BWHardFilter",{enumerable:true,get:function e(){return F(s).default}});var u=r(125);Object.defineProperty(t,"CelsiusFilter",{enumerable:true,get:function e(){return F(u).default}});var l=r(126);Object.defineProperty(t,"ChestFilter",{enumerable:true,get:function e(){return F(l).default}});var c=r(127);Object.defineProperty(t,"FixieFilter",{enumerable:true,get:function e(){return F(c).default}});var d=r(128);Object.defineProperty(t,"FoodFilter",{enumerable:true,get:function e(){return F(d).default}});var f=r(129);Object.defineProperty(t,"FridgeFilter",{enumerable:true,get:function e(){return F(f).default}});var p=r(130);Object.defineProperty(t,"FrontFilter",{enumerable:true,get:function e(){return F(p).default}});var h=r(131);Object.defineProperty(t,"GlamFilter",{enumerable:true,get:function e(){return F(h).default}});var v=r(132);Object.defineProperty(t,"GobblinFilter",{enumerable:true,get:function e(){return F(v).default}});var m=r(133);Object.defineProperty(t,"K1Filter",{enumerable:true,get:function e(){return F(m).default}});var _=r(134);Object.defineProperty(t,"K2Filter",{enumerable:true,get:function e(){return F(_).default}});var g=r(135);Object.defineProperty(t,"K6Filter",{enumerable:true,get:function e(){return F(g).default}});var y=r(136);Object.defineProperty(t,"KDynamicFilter",{enumerable:true,get:function e(){return F(y).default}});var b=r(137);Object.defineProperty(t,"LeninFilter",{enumerable:true,get:function e(){return F(b).default}});var x=r(138);Object.defineProperty(t,"LomoFilter",{enumerable:true,get:function e(){return F(x).default}});var E=r(140);Object.defineProperty(t,"MellowFilter",{enumerable:true,get:function e(){return F(E).default}});var C=r(141);Object.defineProperty(t,"MetalFilter",{enumerable:true,get:function e(){return F(C).default}});var w=r(142);Object.defineProperty(t,"MorningFilter",{enumerable:true,get:function e(){return F(w).default}});var S=r(143);Object.defineProperty(t,"OrchidFilter",{enumerable:true,get:function e(){return F(S).default}});var T=r(144);Object.defineProperty(t,"PolaFilter",{enumerable:true,get:function e(){return F(T).default}});var R=r(145);Object.defineProperty(t,"Pola669Filter",{enumerable:true,get:function e(){return F(R).default}});var M=r(160);Object.defineProperty(t,"QuoziFilter",{enumerable:true,get:function e(){return F(M).default}});var O=r(161);Object.defineProperty(t,"SemiredFilter",{enumerable:true,get:function e(){return F(O).default}});var k=r(162);Object.defineProperty(t,"SunnyFilter",{enumerable:true,get:function e(){return F(k).default}});var P=r(163);Object.defineProperty(t,"TexasFilter",{enumerable:true,get:function e(){return F(P).default}});var D=r(164);Object.defineProperty(t,"X400Filter",{enumerable:true,get:function e(){return F(D).default}});var B=r(139);Object.defineProperty(t,"LUTFilter",{enumerable:true,get:function e(){return F(B).default}});function F(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=w(n);var i=r(2);var a=w(i);var s=r(1);var u=w(s);var l=r(3);var c=C(l);var d=r(66);var f=C(d);var p=r(65);var h=w(p);var v=r(115);var m=w(v);var _=r(42);var g=w(_);var y=r(111);var b=w(y);var x=r(77);var E=w(x);function C(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function w(e){return e&&e.__esModule?e:{default:e}}var S=c.Rectangle,T=c.Constants,R=c.Engine,M=c.Utils,O=c.EventEmitter,k=c.Vector2,P=c.Log,D=c.Base64;var B=function e(t){return M.byteArrayToString(D.decode(t))};var F=T.RenderType,A=T.ImageFormat,I=T.Events,N=T.RendererType;var L=function(e){(0,u.default)(t,e);function t(n){var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};(0,o.default)(this,t);var s=(0,a.default)(this,e.call(this));s._onOperationUpdate=s._onOperationUpdate.bind(s);s._onContextRestored=s._onContextRestored.bind(s);var u=r(67),l=u.version;s.version=l;s[B("VG04Z1lHRndhVXRsZVdBZ2IzQjBhVzl1SUdkcGRtVnU=")]=true;s._preferredRenderer=n;s._options=M.defaults(i,{extensions:{},renderMode:"dynamic",versionCheck:true,displayWelcomeMessage:true,image:null,canvas:null,transparent:false,textureQuality:1,zoom:1,spriteScale:1,rotation:0,smoothDownscaling:false,smoothUpscaling:false,logLevel:"warn",pixelRatio:typeof window!=="undefined"&&window.devicePixelRatio||1});if(s._options.smoothUpscaling){R.BaseTexture.DefaultMagFilter=R.BaseTexture.LinearFilter}s._options.extensions=M.defaults(s._options.extensions,{operations:[],controls:[],languages:[]});P.setLevel(s._options.logLevel);if(!s._v())return(0,a.default)(s);s._defaultRenderMode=s._options.renderMode;s._renderMode=s._options.renderMode;s._textureQuality=s._options.textureQuality;s._offset=new k;s._zoom=s._options.zoom;s._spriteScale=s._options.spriteScale;s._rotation=s._options.rotation;s._operations={};s._operationsStack=null;s.setOperationsStack(new h.default);s._container=new R.Container;s._sprite=new R.Sprite;s._container.addChild(s._sprite);s.setSmoothDownscaling(s._options.smoothDownscaling);s._inputBaseTexture=null;s._inputTexture=null;s._currentInputTexture=null;s._currentTexture=null;s._resizedTexture=null;s._resizedContainer=new R.Container;s._resizedSprite=new R.Sprite;s._resizedContainer.addChild(s._resizedSprite);s._checkForUpdates();s._registerOperations();s._initRenderer();var c=s._renderer.constructor.type;if(s._options.displayWelcomeMessage){P.log("Yo!","Version: "+s.version+" ("+c+") - https://www.photoeditorsdk.com")}if(s._options.image){s.setImage(s._options.image)}return s}t.prototype._v=function e(){var t=this;if(!this[B("X29wdGlvbnM=")][B("YXBpS2V5")]){P.error(B("YXBpS2V5"),B("Tm8gYGFwaUtleWAgb3B0aW9uIGdpdmVuLg=="));P.error(B("YXBpS2V5"),B("SW4gY2FzZSB5b3UgZG9uJ3QgaGF2ZSBhbiBBUEkga2V5IHlldCwgcGxlYXNlIGNvbnRhY3Qgb3VyIHNhbGVzIHN0YWZmIGF0IHNhbGVzQHBob3RvZWRpdG9yc2RrLmNvbSB0byBvYnRhaW4gYSBsaWNlbnNlIG9yIGxvZyBpbiB0byB5b3VyIGN1c3RvbWVyIGRhc2hib2FyZC4="));return false}var r=c[B("TGljZW5zaW5n")];this._lic=new r(this[B("X29wdGlvbnM=")][B("YXBpS2V5")]);this._lic.c().catch(function(e){t[B("VG04Z1lHRndhVXRsZVdBZ2IzQjBhVzl1SUdkcGRtVnU=")]=false;P.error(B("TGljZW5zaW5n"),B("SW52YWxpZCBsaWNlbnNlIGtleQ=="));P.error(B("TGljZW5zaW5n"),B("SW4gY2FzZSB5b3UgZG9uJ3QgaGF2ZSBhbiBBUEkga2V5IHlldCwgcGxlYXNlIGNvbnRhY3Qgb3VyIHNhbGVzIHN0YWZmIGF0IHNhbGVzQHBob3RvZWRpdG9yc2RrLmNvbSB0byBvYnRhaW4gYSBsaWNlbnNlIG9yIGxvZyBpbiB0byB5b3VyIGN1c3RvbWVyIGRhc2hib2FyZC4="))});return true};t.prototype._cv=function e(){var t=this;return new Promise(function(e,r){if(!t[B("VG04Z1lHRndhVXRsZVdBZ2IzQjBhVzl1SUdkcGRtVnU=")]){return r(new Error(B("SW52YWxpZCBsaWNlbnNlIGtleQ==")))}e()})};t.prototype._t=function e(){this._lic.t()};t.prototype._onOperationUpdate=function e(){for(var t=arguments.length,r=Array(t),n=0;n<t;n++){r[n]=arguments[n]}this.emit.apply(this,[I.OPERATION_UPDATED].concat(r))};t.prototype._onContextRestored=function e(){P.warn(this.constructor.name,"Trying to re-render after WebGL context has been restored.");this.setAllOperationsToDirty();this._operationsStack.forEach(function(e){e.disposeRenderTextures()});this.render()};t.prototype.export=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:F.DATAURL;var r=this;var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:A.PNG;var o=arguments.length>2&&arguments[2]!==undefined?arguments[2]:.8;return this._cv().then(function(){r._t();var e=new b.default(r,{renderType:t,imageFormat:n,quality:o});return e.export()})};t.prototype.render=function e(){var t=this;if(!this._image){throw new Error("You need to set an image before calling PhotoEditorSDK#render.")}var r=this._renderer.getContext();if(r.startFrame){r.startFrame()}var n=void 0;if(P.canLog("info")){n=new E.default("⚡⚡⚡","Frame rendering")}P.info("⚡⚡⚡","Rendering starts");var o=this._operationsStack;o.updateDirtinessForRenderer(this._renderer);return this._prepareTexture().then(function(e){if(t._renderMode==="export"){e=t._inputTexture}t._currentTexture=e;t._sprite.setTexture(e);t._container.updateTransform()}).then(function(){return o.validateSettings()}).then(function(){return o.render(t,t._currentTexture)}).then(function(e){t._currentTexture=e;t._sprite.setTexture(t._currentTexture);switch(t._renderMode){case"dynamic":var r=t._renderer.getDimensions().clone().divide(2).add(t._offset);t._container.setScale(t._zoom/t.getTextureScale(),t._zoom/t.getTextureScale());t._container.setPosition(r);t._sprite.setAnchor(.5,.5);t._sprite.setScale(t._spriteScale,t._spriteScale);t._sprite.setRotation(t._rotation);break;case"export":t._container.setScale(1,1);t._container.setPosition(0,0);t._sprite.setAnchor(0,0);t._sprite.setPosition(0,0);t._sprite.setScale(t._spriteScale,t._spriteScale);t._sprite.setRotation(0);break}t._renderer.render(t._container);return e}).then(function(e){if(n){n.stop()}if(r.endFrame){r.endFrame()}return e})};t.prototype.getTextureScale=function e(){return Math.min(1,this._textureQuality*this._options.pixelRatio)};t.prototype._prepareTexture=function e(){var t=this;return new Promise(function(e,r){var n=t.getTextureScale();if(t._textureQuality===1){return e(t._inputTexture)}var o=t.getInputDimensions().multiply(n).floor();var i=void 0;if(!t._resizedTexture){t._resizedTexture=new R.RenderTexture(t._renderer,o.x,o.y);i=true}else if(!t._resizedTexture.getDimensions().equals(o)){t._resizedTexture.resizeTo(o);i=true}if(i){t._resizedSprite.setScale(n,n);t._resizedSprite.setTexture(t._inputTexture);t._resizedTexture.render(t._resizedContainer)}e(t._resizedTexture)})};t.prototype._registerOperations=function e(){this._operations={};for(var t in f){var r=f[t];this._operations[r.identifier]=r}this._operations=M.extend(this._operations,this._options.extensions.operations)};t.prototype.setAllOperationsToDirty=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;this._operationsStack.setAllToDirty(t)};t.prototype.createOperation=function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;var o=this._operations[t];if(!o){throw new Error("No operation with identifier `"+t+"` found.")}var i=new o(this,r);if(n){this.addOperation(i)}return i};t.prototype.addOperation=function e(t){this._operationsStack.push(t)};t.prototype.removeOperation=function e(t){this._operationsStack.remove(t)};t.prototype.getInputDimensions=function e(){var t=this._inputTexture.getFrame();return new k(t.width,t.height)};t.prototype.getFinalDimensions=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var r=this.getInputDimensions();var n=this._operationsStack;n.forEach(function(e){if(!e.getEnabled())return;r=e.getNewDimensions(r)});if(t){r.multiply(this._spriteScale)}return r.floor()};t.prototype.getOutputDimensions=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;return this.getFinalDimensions(t).clone().multiply(this._zoom).floor()};t.prototype.getOutputTextureDimensions=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var r=this.getTextureScale();var n=this.getInputDimensions().multiply(r).floor();this._operationsStack.forEach(function(e){n=e.getNewDimensions(n)});return n};t.prototype._checkForUpdates=function e(){if(this._options.versionCheck){this._versionChecker=new m.default(this.version)}};t.prototype._initRenderer=function e(){var t={canvas:this._options.canvas,pixelRatio:this._options.pixelRatio,debug:this._options.debug,transparent:this._options.transparent};var r=void 0,n=void 0;if(this._renderMode==="dynamic"&&this._options.canvas){var o=this._options.canvas;r=o.width;n=o.height}else if(this._image){var i=this.getFinalDimensions();r=i.x;n=i.y}switch(this._preferredRenderer){case N.WEBGL:this._renderer=R.autoDetectRenderer(r,n,t);this._renderer.on("context-restored",this._onContextRestored);break;case N.CANVAS:this._renderer=new R.CanvasRenderer(r,n,t);this._renderer.on("context-restored",this._onContextRestored);break;default:P.warn("PhotoEditorSDK","PhotoEditorSDK Error: Renderer `"+this._preferredRenderer+"` not supported. Falling back to automatically detected renderer.");this._renderer=R.autoDetectRenderer(r,n,t)}};t.prototype.resizeTo=function e(t){this._renderer.resizeTo(t,true)};t.prototype.reset=function e(){this._operationsStack.clear()};t.prototype.parseExif=function e(t){if(!t){return}var r=t.src;if(g.default.isJPEG(r)){var n=null;try{n=g.default.fromBase64String(r)}catch(e){}if(!n){return}return n}};t.prototype._handleExifOrientation=function e(){var t=this._exif.getTags();if(t&&t.Orientation){var r=t.Orientation!==1&&t.Orientation!==2;var n=[2,4,5,7].indexOf(t.Orientation)!==-1;if(r||n){if(!this._exifOperation){this._exifOperation=this.createOperation("exif-orientation")}this._exifOperation.setTags(t);this._exif.setOrientation(1)}}};t.prototype.hasImage=function e(){return this._image!==null&&typeof this._image!=="undefined"};t.prototype.getImage=function e(){return this._image};t.prototype.setImage=function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;if(this._exifOperation){this.removeOperation(this._exifOperation);this._exifOperation=null}this._options.image=t;this._image=t;this._exif=r||this.parseExif(t);if(this._exif){this._handleExifOrientation()}var o=new R.BaseTexture(this._image);var i=new S(0,0,this._image.width,this._image.height);if(n){i.width=n.x;i.height=n.y}if(this._resizedTexture){this._resizedTexture.dispose()}this._resizedTexture=null;if(this._inputTexture){this._inputTexture.getBaseTexture().dispose()}this._inputTexture=new R.Texture(o,i);this._currentTexture=this._inputTexture;this._sprite.setTexture(this._inputTexture);this.setAllOperationsToDirty(true)};t.prototype.getCanvas=function e(){return this._renderer.getCanvas()};t.prototype.setCanvas=function e(t){this._renderer.setCanvas(t)};t.prototype.getSprite=function e(){return this._sprite};t.prototype.getContainer=function e(){return this._container};t.prototype.getOperationsStack=function e(){return this._operationsStack};t.prototype.setOperationsStack=function e(t){if(this._operationsStack){this._operationsStack.off(I.OPERATION_UPDATED,this._onOperationUpdate)}this._operationsStack=t;this._operationsStack.on(I.OPERATION_UPDATED,this._onOperationUpdate)};t.prototype.getOperations=function e(){return this._operations};t.prototype.getRenderer=function e(){return this._renderer};t.prototype.getOffset=function e(){return this._offset};t.prototype.setOffset=function e(t,r){if(t instanceof k){this._offset.copy(t)}else{this._offset.set(t,r)}};t.prototype.getRenderMode=function e(){return this._renderMode};t.prototype.setRenderMode=function e(t){this._renderMode=t};t.prototype.getZoom=function e(){return this._zoom};t.prototype.setZoom=function e(t){this._zoom=t;this._container.setScale(this._zoom,this._zoom);this._container.updateTransform()};t.prototype.getTextureQuality=function e(){if(this._renderMode==="export"){return 1}return this._textureQuality};t.prototype.setTextureQuality=function e(t){if(t!==this._textureQuality){this.setAllOperationsToDirty(true)}this._textureQuality=Math.min(1,t);if(this._textureQuality===1&&this._resizedTexture){this._resizedTexture.dispose();this._resizedTexture=null}};t.prototype.getSpriteScale=function e(){return this._spriteScale};t.prototype.setSpriteScale=function e(t){this._spriteScale=t;this._sprite.setScale(t,t);this._sprite.updateTransform()};t.prototype.getPixelRatio=function e(){return this._options.pixelRatio};t.prototype.getExif=function e(){return this._exif};t.prototype.getOptions=function e(){return this._options};t.prototype.getInputTexture=function e(){return this._inputTexture};t.prototype.setSmoothDownscaling=function e(t){this._options.smoothDownscaling=t;this._sprite.setSmoothDownscaling(t)};t.prototype.setRotation=function e(t){this._rotation=t};t.prototype.getRotation=function e(){return this._rotation};t.prototype.dispose=function e(){this._operationsStack.dispose();this._renderer.dispose();if(this._exif){this._exif.dispose()}if(this._resizedTexture){this._resizedTexture.dispose()}};return t}(O);t.default=L},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=f(n);var i=r(2);var a=f(i);var s=r(1);var u=f(s);var l=r(6);var c=r(44);var d=f(c);function f(e){return e&&e.__esModule?e:{default:e}}var p=l.Constants.OptionType,h=l.Constants.UniformType;var v=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var n=arguments.length,i=Array(n),s=0;s<n;s++){i[s]=arguments[s]}var u=(0,a.default)(this,e.call.apply(e,[this].concat(i)));u._fragmentSource=r(221);return u}t.prototype._applyCanvas=function e(t,r,n){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var i=r.getCanvas();var a=n.getContext();a.drawImage(i,0,0)};return t}(d.default);v.prototype.availableOptions={color:{type:p.COLOR,default:l.Color.WHITE,uniformType:h.FLOAT4}};t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(99);Object.defineProperty(t,"UnpremultiplyFilter",{enumerable:true,get:function e(){return i(n).default}});var o=r(97);Object.defineProperty(t,"ColorOverlayFilter",{enumerable:true,get:function e(){return i(o).default}});function i(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=d(n);var i=r(2);var a=d(i);var s=r(1);var u=d(s);var l=r(44);var c=d(l);function d(e){return e&&e.__esModule?e:{default:e}}var f=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);var n=(0,a.default)(this,e.call(this));n._fragmentSource=r(222);return n}return t}(c.default);t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=g(n);var i=r(2);var a=g(i);var s=r(1);var u=g(s);var l=r(6);var c=r(72);var d=g(c);var f=r(69);var p=g(f);var h=r(32);var v=g(h);var m=r(45);var _=g(m);function g(e){return e&&e.__esModule?e:{default:e}}var y=l.Constants.RendererType;var b=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._type=y.CANVAS;s.setCanvas(s._options.canvas||s._createCanvas());return s}t.prototype._createCanvas=function e(){return l.Utils.createCanvas()};t.prototype._createContext=function e(){var r=this._canvas;var n=r.getContext("2d");if(this._options.debug){n=new d.default(n)}this.id=n.id=t.contextId++;this._context=n;n.renderer=this;this.emit("context",n);return n};t.prototype._setupContext=function e(){var t=this._context;if(!("imageSmoothingEnabled"in t)){["moz","webkit","ms"].forEach(function(e){if(t[e]){t[e]=true}})}else{t.imageSmoothingEnabled=true}this._defaultRenderTarget=new v.default(this._width,this._height,this._pixelRatio,this._canvas,this._context);this.setRenderTarget(this._defaultRenderTarget);this._filterManager=new _.default(this)};t.prototype.render=function e(t){var r=this._renderTarget.getContext();var n=t.getParent();t.setParent(this._fakeObject);t.updateTransform();t.setParent(n);r.setTransform(1,0,0,1,0,0);r.globalAlpha=1;var o=this._canvas,i=o.width,a=o.height;r.clearRect(0,0,i,a);if(this._clearColor.a!==0){r.save();r.fillStyle=this._clearColor.toRGBA();r.fillRect(0,0,i,a);r.restore()}this.renderDisplayObject(t,this._renderTarget)};t.prototype.renderDisplayObject=function e(t,r){var n=this._renderTarget;this._filterManager.setFilterStack(r.getFilterStack());this.setRenderTarget(r);t.renderCanvas(this);this.setRenderTarget(n)};t.prototype.getCurrentRenderTarget=function e(){return this._renderTarget};t.prototype.setRenderTarget=function e(t){this._renderTarget=t};t.prototype.getContext=function e(){return this._renderTarget.getContext()};t.prototype.dispose=function e(){this._filterManager.dispose()};return t}(p.default);b.contextId=0;b.type="Canvas2D";t.default=b},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=p(n);var i=r(2);var a=p(i);var s=r(1);var u=p(s);var l=r(6);var c=p(l);var d=r(70);var f=p(d);function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._maxBatchSize=c.default.BATCH_SIZE;s._vertices=new ArrayBuffer(c.default.BATCH_SIZE*4*c.default.VERTEX_BYTE_SIZE);s._positions=new Float32Array(s._vertices);s._colors=new Uint32Array(s._vertices);s._indices=new Uint16Array(c.default.BATCH_SIZE*6);for(var u=0,l=0;u<c.default.BATCH_SIZE*6;u+=6,l+=4){s._indices[u+0]=l+0;s._indices[u+1]=l+1;s._indices[u+2]=l+2;s._indices[u+3]=l+0;s._indices[u+4]=l+2;s._indices[u+5]=l+3}s._shaders=[];s._sprites=[];s._currentBatchSize=0;s._currentBaseTexture=null;s._onContextChange();return s}t.prototype.render=function e(t){var r=t.getTexture();var n=r.getFrame();var o=r.getBaseTexture();if(this._currentBatchSize>=this._maxBatchSize){this.flush();this._currentBaseTexture=o}var i=r.getUVs();if(!i){return}var a=this._currentBatchSize*c.default.VERTEX_BYTE_SIZE;this._addVertexCoordinates(t,a,n);this._addTextureUVs(t,a,i);this._addColors(t,a);this._sprites[this._currentBatchSize]=t;this._currentBatchSize++};t.prototype._addColors=function e(t,r){var n=this._colors;var o=t.getTint();var i=(o>>16)+(o&65280)+((o&255)<<16)+(t.getWorldAlpha()*255<<24);n[r+4]=n[r+9]=n[r+14]=n[r+19]=i};t.prototype._addTextureUVs=function e(t,r,n){var o=this._positions;var i=n.getUVsAt(0);o[r+2]=i.x;o[r+3]=i.y;i=n.getUVsAt(1);o[r+7]=i.x;o[r+8]=i.y;i=n.getUVsAt(2);o[r+12]=i.x;o[r+13]=i.y;i=n.getUVsAt(3);o[r+17]=i.x;o[r+18]=i.y};t.prototype._addVertexCoordinates=function e(t,r,n){var o=this._positions;var i=t.getWorldTransform();var a=t.getAnchor();var s=i.rectangleToCoordinates(n,a);var u=5;for(var l=0;l<4;l++){o[r+l*u]=s[l].x;o[r+l*u+1]=s[l].y}};t.prototype._onContextChange=function e(){var t=this._renderer.getContext();this._shader=this._renderer.shaders.default;this._vertexBuffer=t.createBuffer();this._indexBuffer=t.createBuffer();t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this._indexBuffer);t.bufferData(t.ELEMENT_ARRAY_BUFFER,this._indices,t.STATIC_DRAW);t.bindBuffer(t.ARRAY_BUFFER,this._vertexBuffer);t.bufferData(t.ARRAY_BUFFER,this._vertices,t.DYNAMIC_DRAW)};t.prototype.start=function e(){this._shader.setupBuffers(this._vertexBuffer,this._indexBuffer)};t.prototype.flush=function e(){var t=this._renderer;var r=t.getContext();if(this._currentBatchSize===0){return}if(this._currentBatchSize>c.default.BATCH_SIZE*.5){r.bufferSubData(r.ARRAY_BUFFER,0,this._vertices)}else{var n=this._positions.subarray(0,this._currentBatchSize*c.default.VERTEX_BYTE_SIZE);r.bufferSubData(r.ARRAY_BUFFER,0,n)}var o=0;var i=null;var a=null;var s=null;var u=null;var l=false;var d=false;var f=null;var p=0;for(var h=0,v=this._currentBatchSize;h<v;h++){f=this._sprites[h];a=f.getTexture().getBaseTexture();u=f.getShader()||this._shader;l=s!==u;d=i!==a;if(d||l){this._renderBatch(i,o,p);p=h;o=0;i=a;if(l){s=u;t.setShader(s);var m=t.getCurrentRenderTarget();var _=m.getProjectionMatrix().toArray();s.setUniform("u_projMatrix",_);s.syncUniforms();r.activeTexture(r.TEXTURE0)}}o++}this._renderBatch(i,o,p);this._currentBatchSize=0;this._sprites=[]};t.prototype._renderBatch=function e(t,r,n){if(r===0){return}var o=this._renderer;var i=o.getContext();var a=t.getGLTextureForRenderer(o);if(!a){a=o.getOrCreateGLTexture(t)}if(t.isDirty()){o.updateTexture(t);t.setDirty(false)}i.activeTexture(i.TEXTURE0+t.getGLUnit());i.bindTexture(i.TEXTURE_2D,a);var s=r*6;var u=n*6*2;i.drawElements(i.TRIANGLES,s,i.UNSIGNED_SHORT,u)};t.prototype.dispose=function t(){var r=this._renderer;var n=r.getContext();n.deleteBuffer(this._vertexBuffer);n.deleteBuffer(this._indexBuffer);this._vertices=null;this._positions=null;this._colors=null;this._indices=null;e.prototype.dispose.call(this)};return t}(f.default);t.default=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=M(n);var i=r(2);var a=M(i);var s=r(1);var u=M(s);var l=r(6);var c=r(69);var d=M(c);var f=r(33);var p=M(f);var h=r(70);var v=M(h);var m=r(101);var _=M(m);var g=r(48);var y=M(g);var b=r(43);var x=M(b);var E=r(46);var C=M(E);var w=r(72);var S=M(w);var T=r(73);var R=M(T);function M(e){return e&&e.__esModule?e:{default:e}}var O=l.Constants.RendererType;var k=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._type=O.WEBGL;s._textures=[];s._fakeObject=new x.default;s._onContextLost=s._onContextLost.bind(s);s._onContextRestored=s._onContextRestored.bind(s);s.setCanvas(s._options.canvas||l.Utils.createCanvas());s.shaders=s._initShaders();s.renderers=s._initRenderers();return s}t.prototype._onContextLost=function e(t){t.preventDefault();l.Log.warn(this.constructor.name,"WebGL context has been lost - trying to restore.")};t.prototype._onContextCreationError=function e(t){t.preventDefault();l.Log.warn(this.constructor.name,"Failed to create WebGL context: "+(t.statusMessage||"Unknown error"))};t.prototype._onContextRestored=function e(){var t=this;l.Log.warn(this.constructor.name,"WebGL context has been restored. Clearing all textures.");this._textures.forEach(function(e){
e.disposeGLTexturesForRenderer(t)});this._createContext();this._setupContext();this.emit("context-restored")};t.prototype._onBeforeContext=function e(){if(this._filterManager){this._filterManager.dispose()}this._filterManager=new C.default(this);this._currentObjectRenderer=new v.default(this)};t.prototype.setShader=function e(t){this._currentShader=t;this._context.useProgram(t.getProgram());this._setAttributesForShader(t)};t.prototype.setCanvas=function t(r){if(this._canvas){this._canvas.removeEventListener("webglcontextlost",this._onContextLost);this._canvas.removeEventListener("webglcontextrestored",this._onContextRestored);this._canvas.removeEventListener("webglcontextcreationerror",this._onContextCreationError)}if(r.addEventListener){r.addEventListener("webglcontextlost",this._onContextLost);r.addEventListener("webglcontextrestored",this._onContextRestored);r.addEventListener("webglcontextcreationerror",this._onContextCreationError)}e.prototype.setCanvas.call(this,r)};t.prototype._setAttributesForShader=function e(t){var r=this._context;var n=t.getAttributes();var o=t.getAttributeLocations();n.forEach(function(e){var t=o[e];r.enableVertexAttribArray(t)})};t.prototype._initShaders=function e(){return{default:new y.default(this)}};t.prototype._initRenderers=function e(){return{sprite:new _.default(this)}};t.prototype._createContext=function e(){var r=this._canvas;var n=null;var o={preserveDrawingBuffer:true};if(true){n=r.getContext("webgl",o)||r.getContext("experimental-webgl",o)}if(typeof window!=="undefined"&&window.WebGLDebugUtils&&this._options.debug){var i=function e(t,r){console.error("gl."+t+"("+window.WebGLDebugUtils.glFunctionArgsToString(t,r)+")")};n=window.WebGLDebugUtils.makeDebugContext(n,null,i)}if(this._options.debug){n=new S.default(n)}this.id=n.id=t.contextId++;this._context=n;n.renderer=this;this._maxTextureSize=n.getParameter(n.MAX_TEXTURE_SIZE);this.emit("context",n);return n};t.prototype._setupContext=function e(){var t=this._context;t.disable(t.DEPTH_TEST);t.disable(t.CULL_FACE);t.enable(t.BLEND);t.blendFunc(t.ONE,t.ONE_MINUS_SRC_ALPHA);this._defaultRenderTarget=new p.default(this,this._width,this._height,this._pixelRatio,true);this.setRenderTarget(this._defaultRenderTarget);this._getMaxPrecision()};t.prototype._getMaxPrecision=function e(){var t=this._context;var r=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_FLOAT);this._maxFloatPrecision=r.precision!==0?"highp":"mediump";var n=t.getShaderPrecisionFormat(t.FRAGMENT_SHADER,t.HIGH_INT);this._maxIntPrecision=n.rangeMax!==0?"highp":"lowp"};t.prototype.resizeTo=function t(r){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;e.prototype.resizeTo.call(this,r,n);if(this._currentRenderTarget){this._currentRenderTarget.resizeTo(r)}};t.prototype.setRenderTarget=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this._defaultRenderTarget;this._currentRenderTarget=t;this._currentRenderTarget.activate()};t.prototype.setObjectRenderer=function e(t){this._currentObjectRenderer.stop();this._currentObjectRenderer=t;this._currentObjectRenderer.start()};t.prototype.render=function e(t){this.setRenderTarget(this._defaultRenderTarget);this._defaultRenderTarget.clear(this._clearColor);var r=t.getParent();t.setParent(this._fakeObject);t.updateTransform();t.setParent(r);this.renderDisplayObject(t,this._defaultRenderTarget)};t.prototype.renderDisplayObject=function e(t,r){this.setRenderTarget(r);this._filterManager.setFilterStack(r.getFilterStack());t.renderWebGL(this);this._currentObjectRenderer.flush()};t.prototype.clear=function e(){var t=this._context;t.clearColor.apply(t,this._clearColor.toGLColor());t.clear(t.COLOR_BUFFER_BIT)};t.prototype.save=function e(){return{renderTarget:this._currentRenderTarget,objectRenderer:this._currentObjectRenderer,filterStack:this._filterManager.getFilterStack()}};t.prototype.restore=function e(t){this.setRenderTarget(t.renderTarget);this._filterManager.setFilterStack(t.filterStack);this._currentObjectRenderer=t.objectRenderer};t.prototype.getOrCreateGLTexture=function e(t){var r=this._context;var n=t.getGLTextureForRenderer(this);if(!n){n=r.createTexture();t.setGLTextureForRenderer(n,this);this._textures.push(t)}return n};t.prototype.updateTexture=function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;var n=t.getSource();var o=!!n;var i=this._context;var a=t.getGLUnit();var s=this.getOrCreateGLTexture(t);i.activeTexture(i.TEXTURE0+a);i.bindTexture(i.TEXTURE_2D,s);i.pixelStorei(i.UNPACK_PREMULTIPLY_ALPHA_WEBGL,true);if(r&&o){if(typeof Image!=="undefined"&&n instanceof Image||typeof HTMLImageElement!=="undefined"&&n instanceof HTMLImageElement||n.constructor.name==="Canvas"||n.tagName&&n.tagName.toUpperCase()==="CANVAS"||n.tagName&&n.tagName.toUpperCase()==="IMG"){i.texImage2D(i.TEXTURE_2D,0,i.RGBA,i.RGBA,i.UNSIGNED_BYTE,n)}else{if(typeof NodeCanvasImage!=="undefined"&&n instanceof NodeCanvasImage){n=R.default.fromNodeCanvasImage(n)}i.texImage2D(i.TEXTURE_2D,0,i.RGBA,n.width,n.height,0,i.RGBA,i.UNSIGNED_BYTE,n.data)}}if(t.isMipMappingEnabled()){i.generateMipmap(i.TEXTURE_2D)}else{i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_S,t.getGLRepeat(i,"x"));i.texParameteri(i.TEXTURE_2D,i.TEXTURE_WRAP_T,t.getGLRepeat(i,"y"))}i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MIN_FILTER,t.getGLFilter(i,"min"));i.texParameteri(i.TEXTURE_2D,i.TEXTURE_MAG_FILTER,t.getGLFilter(i,"mag"));i.activeTexture(i.TEXTURE0)};t.prototype.getMaxDimensions=function e(){var t=l.Utils.createCanvas();var r=t.getContext("webgl")||t.getContext("experimental-webgl");if(!r){return null}else{var n=r.getParameter(r.MAX_TEXTURE_SIZE);var o=r.getExtension("WEBGL_lose_context");if(o){o.loseContext()}return n}};t.prototype.getCurrentRenderTarget=function e(){return this._currentRenderTarget};t.prototype.getCurrentObjectRenderer=function e(){return this._currentObjectRenderer};t.isSupported=function e(){var t=l.Utils.createCanvas();t.addEventListener("webglcontextcreationerror",this._onContextCreationError);var r=t.getContext("webgl")||t.getContext("experimental-webgl");t.removeEventListener("webglcontextcreationerror",this._onContextCreationError);return!!r};t.prototype.getMaxFloatPrecision=function e(){return this._maxFloatPrecision};t.prototype.getMaxIntPrecision=function e(){return this._maxIntPrecision};t.prototype.dispose=function e(){var t=this;this._filterManager.dispose();this._currentObjectRenderer.dispose();this._defaultRenderTarget.dispose();this._textures.forEach(function(e){e.disposeGLTexturesForRenderer(t)});for(var r in this.shaders){this.shaders[r].dispose();delete this.shaders[r]}};return t}(d.default);k.contextId=0;k.type="WebGL";t.default=k},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(48);var o=i(n);function i(e){return e&&e.__esModule?e:{default:e}}t.default={TextureShader:o.default}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=h(n);var i=r(2);var a=h(i);var s=r(1);var u=h(s);var l=r(6);var c=r(68);var d=h(c);var f=r(114);var p=h(f);function h(e){return e&&e.__esModule?e:{default:e}}var v=function(e){(0,u.default)(t,e);function t(r){(0,o.default)(this,t);var n=(0,a.default)(this,e.call(this));n._onTextureUpdate=n._onTextureUpdate.bind(n);n._texture=r;n._shader=null;n._width=0;n._height=0;n._anchor=new l.Vector2(0,0);n.setTexture(r);return n}t.prototype._onTextureUpdate=function e(){this._boundsNeedUpdate=true;this._localBoundsNeedUpdate=true};t.prototype._renderWebGL=function e(t){var r=t.save();if(this._smoothDownscaling){if(!this._potRenderer){this._potRenderer=new p.default}this._potRenderer.render(t,this,this._texture)}t.restore(r);t.setObjectRenderer(t.renderers.sprite);t.renderers.sprite.render(this)};t.prototype._renderCanvas=function e(t){var r=this._worldTransform;var n=this._texture.getFrame();var o=n.width,i=n.height;var a=t.getCurrentRenderTarget().getPixelRatio();var s=this._anchor.x*-o|0;var u=this._anchor.y*-i|0;var l=t.getContext();l.setTransform(r.a,r.b,r.c,r.d,r.tx*a,r.ty*a);l.globalAlpha=this.getWorldAlpha();var c=this._texture.getBaseTexture();var d=c.getPixelRatio();var f=c.getSource();l.drawImage(this._texture.getBaseTexture().getSource(),0,0,(f.naturalWidth||o)*d,(f.naturalHeight||i)*d,s*a,u*a,o*a,i*a)};t.prototype.isAtPosition=function e(t){var r=this._worldTransform.applyInverseToVector(t);var n=this._texture.getFrame();var o=n.width,i=n.height;var a=new l.Vector2(-o,-i);a.multiply(this._anchor);var s=a.clone().add(o,i);if(r.x<a.x||r.x>s.x||r.y<a.y||r.y>s.y){return false}return true};t.prototype.getLocalBounds=function e(){if(this._localBoundsNeedUpdate){var t=this._localBounds;var r=this._texture.getFrame();t.x=-r.width*this._anchor.x;t.y=-r.height*this._anchor.y;t.width=r.width;t.height=r.height;this._localBoundsNeedUpdate=false}return this._localBounds.clone()};t.prototype.getBounds=function e(){var t=this;if(this._boundsNeedUpdate){(function(){var e=t._bounds;var r=t._texture.getFrame();var n=t._worldTransform;var o=t._anchor;var i=n.rectangleToCoordinates(r,o);var a=i[0].x;var s=i[0].y;var u=a;var l=s;i.forEach(function(e){var t=e.x,r=e.y;a=Math.min(a,t);s=Math.min(s,r);u=Math.max(u,t);l=Math.max(l,r)});e.x=a;e.width=Math.abs(u-a);e.y=s;e.height=Math.abs(l-s);t._boundsNeedUpdate=false})()}return this._bounds.clone()};t.prototype.getTexture=function e(){return this._texture};t.prototype.setTexture=function e(t){if(!t){return}if(this._texture){this._texture.off("update",this._onTextureUpdate)}this._texture=t;if(t.getBaseTexture().isLoaded()){this._onTextureUpdate()}t.on("update",this._onTextureUpdate)};t.prototype.getShader=function e(){return this._shader};t.prototype.setShader=function e(t){this._shader=t};t.prototype.getWidth=function e(){return this._width};t.prototype.setWidth=function e(t){this._scale.x=t/this._texture.getFrame().width;this._width=t;this._boundsNeedUpdate=true;this._localBoundsNeedUpdate=true};t.prototype.getHeight=function e(){return this._height};t.prototype.setHeight=function e(t){this._scale.y=t/this._texture.getFrame().height;this._height=t;this._boundsNeedUpdate=true;this._localBoundsNeedUpdate=true};t.prototype.getDimensions=function e(){return new l.Vector2(this._width,this._height)};t.prototype.getAnchor=function e(){return this._anchor};t.prototype.setAnchor=function e(t,r){if(t instanceof l.Vector2){this._anchor.copy(t)}else{this._anchor.set(t,r)}this._boundsNeedUpdate=true;this._localBoundsNeedUpdate=true};t.prototype.isSmoothDownscaling=function e(){return this._smoothDownscaling};t.prototype.setSmoothDownscaling=function e(t){this._smoothDownscaling=t};t.prototype.dispose=function e(){if(this._texture){this._texture.off("update",this._onTextureUpdate)}};return t}(d.default);t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=E(n);var i=r(2);var a=E(i);var s=r(1);var u=E(s);var l=r(6);var c=r(71);var d=E(c);var f=r(31);var p=E(f);var h=r(33);var v=E(h);var m=r(32);var _=E(m);var g=r(46);var y=E(g);var b=r(45);var x=E(b);function E(e){return e&&e.__esModule?e:{default:e}}var C=l.Constants.RendererType;var w=function(e){(0,u.default)(t,e);function t(r){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:100;var i=arguments.length>2&&arguments[2]!==undefined?arguments[2]:100;var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:1;(0,o.default)(this,t);var u=new p.default;var c=u.getFrame();c.width=n;c.height=i;u.setPixelRatio(s);u.setLoaded(true);var d=(0,a.default)(this,e.call(this,u,new l.Rectangle(0,0,n,i)));d._loaded=true;d._width=n;d._height=i;d._pixelRatio=s;d._renderer=r;d._setupFilterManager();d._setupBuffer();d._updateUVs();return d}t.prototype._setupFilterManager=function e(){if(this._renderer.isOfType(C.WEBGL)){this._filterManager=new y.default(this._renderer)}else if(this._renderer.isOfType(C.CANVAS)){this._filterManager=new x.default(this._renderer)}this._filterManager.resizeTo(new l.Vector2(this._width,this._height))};t.prototype._setupBuffer=function e(){if(this._renderer.isOfType(C.WEBGL)){this._setupWebGLBuffer()}else if(this._renderer.isOfType(C.CANVAS)){this._setupCanvasRenderTarget()}};t.prototype._setupWebGLBuffer=function e(){this._renderTarget=new v.default(this._renderer,this._width,this._height,this._pixelRatio);this._baseTexture.setGLTextureForRenderer(this._renderTarget.getTexture(),this._renderer)};t.prototype._setupCanvasRenderTarget=function e(){this._renderTarget=new _.default(this._width,this._height,this._pixelRatio);this._baseTexture.setSource(this._renderTarget.getCanvas())};t.prototype.clear=function e(t){this._renderTarget.clear(t)};t.prototype.resizeTo=function e(t){if(this._width===t.x&&this._height===t.y){return}this._width=t.x;this._height=t.y;this._frame.width=t.x;this._frame.height=t.y;this._baseTexture.resizeTo(t);this._renderTarget.resizeTo(t);this._filterManager.resizeTo(t)};t.prototype.render=function e(t){if(this._renderer.isOfType(C.WEBGL)){this._renderWebGL(t)}else if(this._renderer.isOfType(C.CANVAS)){this._renderCanvas(t)}else{throw new Error("RenderTexture does not support rendering via "+this._renderer.constructor.name)}};t.prototype._renderWebGL=function e(t){this._renderTarget.activate();t.getWorldTransform().reset();t.getChildren().forEach(function(e){e.updateTransform()});var r=this._renderer.getFilterManager();this._renderer.setFilterManager(this._filterManager);this._renderer.renderDisplayObject(t,this._renderTarget);this._renderTarget.updateMipMap();this._renderer.setFilterManager(r)};t.prototype._renderCanvas=function e(t){t.getWorldTransform().reset();t.getChildren().forEach(function(e){e.updateTransform()});var r=this._renderer.getFilterManager();this._renderer.setFilterManager(this._filterManager);this._renderer.renderDisplayObject(t,this._renderTarget);this._renderer.setFilterManager(r)};t.prototype.getRenderTarget=function e(){return this._renderTarget};t.prototype.dispose=function e(){this._baseTexture.disposeGLTexturesForRenderer(this._renderer);this._renderTarget.dispose();this._filterManager.dispose()};return t}(d.default);t.default=w},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=i(n);function i(e){return e&&e.__esModule?e:{default:e}}var a=function(){function e(t){(0,o.default)(this,e);this._renderer=t;this._context=this._renderer.getContext();this._vertices=new Float32Array([0,0,100,0,100,100,0,100]);this._uvs=new Float32Array([0,0,1,0,1,1,0,1]);this._indices=new Uint16Array([0,1,2,0,3,2]);this._colors=new Float32Array([1,1,1,1,1,1,1,1,1,1,1,1,1,1,1,1]);this._initBuffers();this._uploadBuffers()}e.prototype.map=function e(t,r){var n=r.x,o=r.y;this._uvs[2]=r.width/t.width;this._uvs[4]=this._uvs[2];this._uvs[5]=r.height/t.height;this._uvs[7]=this._uvs[5];this._vertices[0]=n;this._vertices[1]=o;this._vertices[2]=n+r.width;this._vertices[3]=o;this._vertices[4]=this._vertices[2];this._vertices[5]=o+r.height;this._vertices[6]=n;this._vertices[7]=this._vertices[5];this._uploadBuffers()};e.prototype._initBuffers=function e(){var t=this._context;this._vertexBuffer=t.createBuffer();t.bindBuffer(t.ARRAY_BUFFER,this._vertexBuffer);t.bufferData(t.ARRAY_BUFFER,(8+8+16)*4,t.DYNAMIC_DRAW);this._indexBuffer=t.createBuffer();t.bindBuffer(t.ELEMENT_ARRAY_BUFFER,this._indexBuffer);t.bufferData(t.ELEMENT_ARRAY_BUFFER,this._indices,t.STATIC_DRAW)};e.prototype._uploadBuffers=function e(){var t=this._context;t.bindBuffer(t.ARRAY_BUFFER,this._vertexBuffer);t.bufferSubData(t.ARRAY_BUFFER,0,this._vertices);t.bufferSubData(t.ARRAY_BUFFER,8*4,this._uvs);t.bufferSubData(t.ARRAY_BUFFER,(8+8)*4,this._colors)};e.prototype.getVertexBuffer=function e(){return this._vertexBuffer};e.prototype.getIndexBuffer=function e(){return this._indexBuffer};e.prototype.dispose=function e(){var t=this._context;t.deleteBuffer(this._vertexBuffer);t.deleteBuffer(this._indexBuffer)};return e}();t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=a(n);var i=r(6);function a(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(){(0,o.default)(this,e);this._uvs=[new i.Vector2(0,0),new i.Vector2(1,0),new i.Vector2(1,1),new i.Vector2(0,1)]}e.prototype.update=function e(t,r){var n=this._uvs[0];n.x=t.x/r.width;n.y=t.y/r.height;n=this._uvs[1];n.x=(t.x+t.width)/r.width;n.y=t.y/r.height;n=this._uvs[2];n.x=(t.x+t.width)/r.width;n.y=(t.y+t.height)/r.height;n=this._uvs[3];n.x=t.x/r.width;n.y=(t.y+t.height)/r.height};e.prototype.getUVsAt=function e(t){return this._uvs[t]};e.prototype.getUVs=function e(){return this._uvs};return e}();t.default=s},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r={defaults:function e(t){for(var r=arguments.length,n=Array(r>1?r-1:0),o=1;o<r;o++){n[o-1]=arguments[o]}var i={};for(var a in t){i[a]=t[a]}for(var s=0;s<n.length;s++){var u=n[s];for(var l in u){if(typeof i[l]==="undefined"){i[l]=u[l]}}}return i},extend:function e(t){for(var r=arguments.length,n=Array(r>1?r-1:0),o=1;o<r;o++){n[o-1]=arguments[o]}var i={};for(var a in t){i[a]=t[a]}for(var s=0;s<n.length;s++){var u=n[s];for(var l in u){i[l]=u[l]}}return i}};t.default=r},function(e,t,r){"use strict";var n=r(96);var o=N(n);var i=r(64);var a=I(i);var s=r(66);var u=I(s);var l=r(95);var c=I(l);var d=r(5);var f=I(d);var p=r(12);var h=N(p);var v=r(11);var m=N(v);var _=r(4);var g=N(_);var y=r(10);var b=N(y);var x=r(26);var E=N(x);var C=r(19);var w=N(C);var S=r(65);var T=N(S);var R=r(42);var M=N(R);var O=r(7);var k=N(O);var P=r(14);var D=N(P);var B=r(9);var F=r(25);var A=N(F);function I(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function N(e){return e&&e.__esModule?e:{default:e}}o.default.version=r(67).version;o.default.Math=a;o.default.Operations=u;o.default.Filters=c;o.default.FilterPrimitives=f;o.default.Engine=h.default;o.default.Color=m.default;o.default.Filter=g.default;o.default.Operation=b.default;o.default.EventEmitter=E.default;o.default.Utils=w.default;o.default.OperationsStack=T.default;o.default.EXIF=M.default;o.default.Promise=k.default;o.default.Configurable=D.default;o.default.RenderType=B.RenderType;o.default.ImageFormat=B.ImageFormat;o.default.OptionType=B.OptionType;o.default.Base64=A.default;e.exports=o.default},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=i(n);function i(e){return e&&e.__esModule?e:{default:e}}var a=function(){function e(t){(0,o.default)(this,e);this._head=0;this._buf=t}e.prototype.peekInt8=function e(){return this._buf[this._head]};e.prototype.peekInt16=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var r=this._buf[this._head];var n=this._buf[this._head+1];if(!t){return(r<<8)+n}else{return(n<<8)+r}};e.prototype.peekInt24=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var r=this._buf[this._head];var n=this._buf[this._head+1];var o=this._buf[this._head+2];if(!t){return(r<<16)+(n<<8)+o}else{return(o<<16)+(n<<8)+r}};e.prototype.peekInt32=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var r=this._buf[this._head];var n=this._buf[this._head+1];var o=this._buf[this._head+2];var i=this._buf[this._head+3];if(!t){return(r<<32)+(n<<16)+(o<<8)+i}else{return(i<<32)+(o<<16)+(n<<8)+r}};e.prototype.writeInt16=function e(t){this._buf[this._head]=t>>8;this._buf[this._head+1]=t&255};e.prototype.readInt8=function e(){var t=this.peekInt8();this._head+=1;return t};e.prototype.readInt16=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var r=this.peekInt16(t);this._head+=2;return r};e.prototype.readInt24=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var r=this.peekInt24(t);this._head+=3;return r};e.prototype.readInt32=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;var r=this.peekInt32(t);this._head+=4;return r};e.prototype.readString=function e(t){var r="";for(var n=0;n<t;n++){var o=this.readInt8();r+=String.fromCharCode(o)}return r};e.prototype.getHead=function e(){return this._head};e.prototype.setHead=function e(t){this._head=t};return e}();t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=b(n);var i=r(2);var a=b(i);var s=r(1);var u=b(s);var l=r(9);var c=r(12);var d=b(c);var f=r(19);var p=b(f);var h=r(42);var v=b(h);var m=r(113);var _=b(m);var g=r(14);var y=b(g);function b(e){return e&&e.__esModule?e:{default:e}}var x=function(e){(0,u.default)(t,e);function t(r){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};(0,o.default)(this,t);var i=(0,a.default)(this,e.call(this,n));i._sdk=r;return i}t.prototype.export=function e(){var t=this;var r=this._sdk.getRenderer();var n=this._options,o=n.renderType,i=n.imageFormat,a=n.quality;return this.validateSettings().then(function(){return t._prepareSDK()}).then(function(e){var n=r.getCanvas();if(r.isOfType(l.RendererType.WEBGL)){n=t._createCanvasFromTexture(e)}var s=void 0;if(o===l.RenderType.IMAGE||o===l.RenderType.DATAURL){if(typeof window==="undefined"){s=n.toDataURL(i)}else{s=n.toDataURL(i,a)}var u=t._sdk.getImage();if(v.default.isJPEG(u.src)&&v.default.isJPEG(s)){var c=t._sdk.getExif();if(c){s=c.restoreExifTags(s)}}}if(r.isOfType(l.RendererType.WEBGL)&&typeof Canvas!=="undefined"&&n instanceof Canvas){_.default.renderContextToCanvas(r.getContext(),n)}if(o===l.RenderType.IMAGE){var d=void 0;if(true){d=new Image}d.src=s;return d}else if(o===l.RenderType.DATAURL){return s}else if(o===l.RenderType.BUFFER){return n.toBuffer()}else if(o===l.RenderType.MSBLOB){return n.msToBlob()}else if(o===l.RenderType.BLOB){return new Promise(function(e,t){n.toBlob(function(t){e(t)},i,a)})}}).then(function(e){return t._restoreSDK().then(function(){return e})})};t.prototype._prepareSDK=function e(){var t=this._sdk.getRenderer();this._sdkSettings={dimensions:t.getDimensions().clone(),textureQuality:this._sdk.getTextureQuality(),pixelRatio:this._sdk.getPixelRatio(),renderMode:this._sdk.getRenderMode()};this._sdk.setRenderMode("export");this._sdk.setTextureQuality(1);var r=t.isOfType(l.RendererType.CANVAS);t.setPixelRatio(1);t.resizeTo(this._sdk.getFinalDimensions(),r);this._sdk.setAllOperationsToDirty(true);var n=this._sdk.getOperationsStack();n.forEach(function(e){e.disposeRenderTextures()});n.disableCache();return this._sdk.render()};t.prototype._restoreSDK=function e(){var t=this._sdk.getOperationsStack();t.enableCache();this._sdk.setRenderMode(this._sdkSettings.renderMode);var r=this._sdk.getRenderer();var n=r.isOfType(l.RendererType.CANVAS);r.setPixelRatio(this._sdkSettings.pixelRatio);r.resizeTo(this._sdkSettings.dimensions,n);this._sdk.setTextureQuality(this._sdkSettings.pixelRatio);this._sdk.setAllOperationsToDirty(true);return this._sdk.render()};t.prototype._createCanvasFromTexture=function e(t){var r=this._sdk.getRenderer();var n=this._sdk.getFinalDimensions();var o=this._sdk.getRenderer().getContext();var i=o.createFramebuffer();o.bindFramebuffer(o.FRAMEBUFFER,i);var a=t.getBaseTexture().getGLTextureForRenderer(r);o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,a,0);var s=new Uint8Array(n.x*n.y*4);o.readPixels(0,0,n.x,n.y,o.RGBA,o.UNSIGNED_BYTE,s);var u=this._checkPixelsForTransparency(s);var l=void 0;if(u){var c=new d.default.Sprite(t);c.setFilters([new d.default.Filters.UnpremultiplyFilter]);var f=new d.default.Container;f.addChild(c);l=new d.default.RenderTexture(r,n.x,n.y);l.render(f);var h=l.getBaseTexture().getGLTextureForRenderer(r);o.framebufferTexture2D(o.FRAMEBUFFER,o.COLOR_ATTACHMENT0,o.TEXTURE_2D,h,0);o.readPixels(0,0,n.x,n.y,o.RGBA,o.UNSIGNED_BYTE,s);r.setRenderTarget();l.dispose()}var v=p.default.createCanvas();v.width=n.x;v.height=n.y;var m=v.getContext("2d");var _=m.createImageData(n.x,n.y);_.data.set(s);m.putImageData(_,0,0);o.deleteFramebuffer(i);return v};t.prototype._checkPixelsForTransparency=function e(t){var r=this._sdk.getFinalDimensions();var n=r.x*r.y*4;var o=void 0;for(var i=3;i<n;i+=4){o=t[i];if(o!==255){return true}}return false};return t}(y.default);x.prototype.availableOptions={renderType:{type:l.OptionType.STRING,available:p.default.values(l.RenderType),default:l.RenderType.IMAGE},imageFormat:{type:l.OptionType.STRING,available:p.default.values(l.ImageFormat),default:l.ImageFormat.PNG},quality:{type:l.OptionType.NUMBER,default:.8}};t.default=x},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=l(n);var i=r(25);var a=l(i);var s=r(19);var u=l(s);function l(e){return e&&e.__esModule?e:{default:e}}var c=function e(t){return u.default.byteArrayToString(a.default.decode(t))};var d={development:"aHR0cHM6Ly9zdGFnaW5nLmFwaS5waG90b2VkaXRvcnNkay5jb20=",production:"aHR0cHM6Ly9hcGkucGhvdG9lZGl0b3JzZGsuY29t",test:"aHR0cHM6Ly9zdGFnaW5nLmFwaS5waG90b2VkaXRvcnNkay5jb20="};var f="TDJGMWRHZy9ZWEJwUzJWNVBRPT0=";var p="Sm1OaGJHeGlZV05yUFE9PQ==";var h="TDNSeVlXTnJQMkZ3YVV0bGVUMD0=";var v="YXV0aG9yaXplZA==";var m="ZXJyb3I=";var _=function(){function e(t){(0,o.default)(this,e);this._YXBpS2V5=t}e.prototype._loadJSON=function e(t){if(true){return this._loadJSONBrowser(t)}else{return this._loadJSONNode(t)}};e.prototype._loadJSONBrowser=function e(t){return new Promise(function(e,r){var n=document.createElement("script");var o="pesdk"+Math.floor(Math.random()*999999);window[o]=function(t){n.parentNode.removeChild(n);e(t);delete window[o]};n.src=t+c(c(p))+o;n.async=true;document.getElementsByTagName("head")[0].appendChild(n)})};e.prototype._loadJSONNode=function e(t){return new Promise(function(e,t){})};e.prototype.c=function e(){return this._loadJSON(c(d["production"])+c(c(f))+this._YXBpS2V5).then(function(e){if(!e[c(v)]){throw new Error(e[c(m)])}})};e.prototype.t=function e(){return this._loadJSON(c(d["production"])+c(c(h))+this._YXBpS2V5).then(function(e){if(!e[c(v)]){throw new Error(e[c(m)])}})};return e}();t.default=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=i(n);function i(e){return e&&e.__esModule?e:{default:e}}var a=function(){function e(){(0,o.default)(this,e)}e.renderContextToCanvas=function e(t,r){var n=r.width,o=r.height;var i=new Uint8Array(n*o*4);t.readPixels(0,0,n,o,t.RGBA,t.UNSIGNED_BYTE,i);var a=r.getContext("2d");var s=new Canvas.ImageData(n,o);var u=0;i.forEach(function(){s.data[u]=i[u];u++});a.putImageData(s,0,0)};return e}();t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=a(n);var i=r(3);function a(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(){(0,o.default)(this,e);this._container=new i.Engine.Container;this._sprite=new i.Engine.Sprite;this._container.addChild(this._sprite)}e.prototype.render=function e(t,r,n){if(!this._renderTexture){this._renderTexture=new i.Engine.RenderTexture(t)}var o=n.getDimensions();this._resizeRenderTexture(o);var a=this._renderTexture.getDimensions();this._sprite.setTexture(n);this._sprite.updateTransform();this._renderTexture.render(this._container);this._updateSprite(t,r,o,a)};e.prototype._updateSprite=function e(t,r,n,o){r.setTexture(this._renderTexture);this._renderTexture.setFrame(new i.Rectangle(0,0,n.x,n.y))};e.prototype._resizeRenderTexture=function e(t){this._renderTexture.resizeTo(new i.Vector2(i.Utils.nextHighestPOT(t.x),i.Utils.nextHighestPOT(t.y)))};return e}();t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=a(n);var i=r(3);function a(e){return e&&e.__esModule?e:{default:e}}var s="imglySDKVersionCallback";var u="https://www.photoeditorsdk.com/version.json?sdk=html5&jsoncallback="+s;var l=function(){function e(t){(0,o.default)(this,e);this._version=t;this._check()}e.prototype._check=function e(){var t=this;if(typeof document==="undefined"){return i.Log.info(this.constructor.name,"Not in browser environment. Version check skipped.")}var r=this;window[s]=function(e){if(e.outdated){i.Log.warn(t.constructor.name,"Your Version "+r._version+" is outdated. Current version is "+e.version+".")}};var n=document.createElement("script");n.src=u+"&version="+this._version;n.async=true;document.getElementsByTagName("head")[0].appendChild(n)};return e}();t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=g(n);var i=r(2);var a=g(i);var s=r(1);var u=g(s);var l=r(7);var c=g(l);var d=r(10);var f=g(d);var p=r(78);var h=g(p);var v=r(117);var m=g(v);var _=r(9);function g(e){return e&&e.__esModule?e:{default:e}}var y=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._clarityFilter=new m.default;s._filter=new h.default;s._sprite.setFilters([s._clarityFilter,s._filter]);return s}t.prototype._render=function e(t){var r=t.getDimensions();r.x=1/r.x;r.y=1/r.y;this._clarityFilter.set({clarity:this._options.clarity,texSize:r});this._filter.set({brightness:this._options.brightness,saturation:this._options.saturation,contrast:this._options.contrast,gamma:this._options.gamma,exposure:this._options.exposure,shadows:this._options.shadows,highlights:this._options.highlights});if(this._options.clarity!==0){this._sprite.setFilters([this._clarityFilter,this._filter])}else{this._sprite.setFilters([this._filter])}this._renderTexture.render(this._container);return c.default.resolve()};t.prototype.dispose=function t(){e.prototype.dispose.call(this);this._filter.dispose();this._clarityFilter.dispose()};return t}(f.default);y.identifier="adjustments";y.prototype.availableOptions={brightness:{type:_.OptionType.NUMBER,default:0},saturation:{type:_.OptionType.NUMBER,default:1},contrast:{type:_.OptionType.NUMBER,default:1},gamma:{type:_.OptionType.NUMBER,default:1},exposure:{type:_.OptionType.NUMBER,default:0},shadows:{type:_.OptionType.NUMBER,default:0},highlights:{type:_.OptionType.NUMBER,default:1},clarity:{type:_.OptionType.NUMBER,default:0}};t.default=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=f(n);var i=r(2);var a=f(i);var s=r(1);var u=f(s);var l=r(3);var c=r(36);var d=f(c);function f(e){return e&&e.__esModule?e:{default:e}}var p=l.Constants.OptionType,h=l.Constants.UniformType;var v=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);var n=(0,a.default)(this,e.call(this));n._fragmentSource=r(230);n._lastClarity=null;n._blurredRenderTarget=new l.Engine.CanvasRenderTarget(100,100,1);return n}t.prototype._applyCanvas=function e(t,r,n){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var i=r.getDimensions();var a=!this._blurredRenderTarget.getDimensions().equals(i);this._blurredRenderTarget.setPixelRatio(r.getPixelRatio());this._blurredRenderTarget.resizeTo(r.getDimensions());if(!this._outputRenderTexture){this._outputRenderTexture=new l.Engine.RenderTexture(t,r.getWidth(),r.getHeight(),r.getPixelRatio())}if(a){this._blurImage(r)}this._applyClarity(r,n)};t.prototype._blurImage=function e(t){var r=t.getCanvas();var n=t.getContext();var o=n.getImageData(0,0,r.width,r.height);d.default.stackBlurCanvasRGBA(o,0,0,r.width,r.height,1);var i=this._blurredRenderTarget.getContext();i.putImageData(o,0,0)};t.prototype._applyClarity=function e(t,r){var n=r.getContext();var o=t.getCanvas();var i=t.getContext();var a=this._blurredRenderTarget.getContext();var s=this._options.clarity;var u=i.getImageData(0,0,o.width,o.height);var l=u.data;var c=a.getImageData(0,0,o.width,o.height).data;var d=Math.max(.2*this._options.clarity,0);var f=1-d;var p=1+s;var h=1-(1+s);for(var v=0;v<o.width*o.height*4;v+=4){var m=c[v]*h+l[v]*p;var _=c[v+1]*h+l[v+1]*p;var g=c[v+2]*h+l[v+2]*p;var y=m*.2125+_*.7154+g*.0721;var b=y*d;l[v]=m*f+b;l[v+1]=_*f+b;l[v+2]=g*f+b;
}n.putImageData(u,0,0)};return t}(l.Engine.Filter);v.prototype.availableOptions={clarity:{type:p.NUMBER,default:0,uniformType:h.FLOAT},texSize:{type:p.VECTOR2,default:new l.Vector2(100,100),uniformType:h.FLOAT2}};t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=h(n);var i=r(2);var a=h(i);var s=r(1);var u=h(s);var l=r(3);var c=r(10);var d=h(c);var f=r(7);var p=h(f);function h(e){return e&&e.__esModule?e:{default:e}}var v=l.Constants.OptionType;var m=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);return(0,a.default)(this,e.apply(this,arguments))}t.prototype._render=function e(t){this._sprite.setRotation(0);var r=t.getDimensions();var n=this._options,o=n.start,i=n.rotation,a=n.scale,s=n.textureScale;var u=a*s;var l=r.clone().multiply(s);this._sprite.setAnchor(.5,.5);this._sprite.setRotation(i);this._sprite.setScale(u,u);this._sprite.setPosition(l.clone().divide(2).subtract(o.clone().multiply(l)));this._renderTexture.render(this._container);return p.default.resolve()};t.prototype.getNewDimensions=function e(t){var r=this._options,n=r.start,o=r.end,i=r.textureScale;return t.clone().multiply(i).multiply(o.clone().subtract(n)).ceil()};t.prototype.flip=function e(t){var r=this._options,n=r.start,o=r.end;var i=n.clone();if(t==="horizontal"){n.set(1-o.x,n.y);o.set(1-i.x,o.y)}else if(t==="vertical"){n.set(n.x,1-o.y);o.set(o.x,1-i.y)}};t.prototype.rotate=function e(t){var r=this._options,n=r.start,o=r.end;var i=(t+360)%360;var a=n.clone();if(i===90){n.set(1-o.y,a.x);o.set(1-a.y,o.x)}else if(i===270){n.set(a.y,1-o.x);o.set(o.y,1-a.x)}};return t}(d.default);m.identifier="crop";m.prototype.availableOptions={start:{type:v.VECTOR2,default:new l.Vector2(0,0)},end:{type:v.VECTOR2,default:new l.Vector2(1,1)},scale:{type:v.NUMBER,default:1},textureScale:{type:v.NUMBER,default:1},rotation:{type:v.NUMBER,default:0}};t.default=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=m(n);var i=r(2);var a=m(i);var s=r(1);var u=m(s);var l=r(3);var c=r(7);var d=m(c);var f=r(20);var p=m(f);var h=r(10);var v=m(h);function m(e){return e&&e.__esModule?e:{default:e}}var _=l.Constants.OptionType;var g=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);return(0,a.default)(this,e.apply(this,arguments))}t.prototype._getRotation=function e(){var t=0;switch(this.getTags().Orientation){case 7:case 8:t=-90;break;case 3:case 4:t=-180;break;case 5:case 6:t=90;break}return t};t.prototype._getFlipVertically=function e(){var t=this.getTags(),r=t.Orientation;return[5,7].indexOf(r)!==-1};t.prototype._getFlipHorizontally=function e(){var t=this.getTags(),r=t.Orientation;return[2,4].indexOf(r)!==-1};t.prototype._getFinalOptions=function e(){return{rotation:this._getRotation(),flipVertically:this._getFlipVertically(),flipHorizontally:this._getFlipHorizontally()}};t.prototype._render=function e(t){var r=this._getFinalOptions();var n=r.rotation%360;var o=n*(Math.PI/180);this._sprite.setScale(r.flipHorizontally?-1:1,r.flipVertically?-1:1);this._sprite.setRotation(o);this._sprite.setAnchor(.5,.5);this._sprite.updateTransform();var i=this._sprite.getBounds();this._renderTexture.resizeTo(new p.default(i.width,i.height));this._sprite.setPosition(this._renderTexture.getDimensions().divide(2));this._renderTexture.render(this._container);return d.default.resolve()};t.prototype.getNewDimensions=function e(t){var r=this._getFinalOptions();t=t.clone();if(r.rotation%180){t.flip()}return t};return t}(v.default);g.identifier="exif-orientation";g.prototype.availableOptions={tags:{type:_.OBJECT,default:{}}};t.default=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=h(n);var i=r(2);var a=h(i);var s=r(1);var u=h(s);var l=r(3);var c=r(10);var d=h(c);var f=r(79);var p=h(f);function h(e){return e&&e.__esModule?e:{default:e}}var v=l.Constants.OptionType;var m=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);return(0,a.default)(this,e.apply(this,arguments))}t.prototype._render=function e(t){return this._selectedFilter.render(this._sdk,t,this._renderTexture)};t.prototype.render=function t(r){if(this._selectedFilter.getDirty()){this.setDirty(true)}if(!this.getEnabled()||this._selectedFilter.constructor.isIdentity){return l.Promise.resolve(r)}return e.prototype.render.call(this,r)};t.prototype.setDirtyForRenderer=function t(r,n){e.prototype.setDirtyForRenderer.call(this,r,n);this._selectedFilter.setDirtyForRenderer(r,n)};t.prototype.disposeRenderTextures=function t(){e.prototype.disposeRenderTextures.call(this);if(this._selectedFilter){this._selectedFilter.disposeRenderTextures()}};t.prototype.dispose=function t(){e.prototype.dispose.call(this);if(this._selectedFilter){this._selectedFilter.dispose()}};return t}(d.default);m.identifier="filter";m.prototype.availableOptions={intensity:{type:v.NUMBER,default:1,setter:function e(t){this._selectedFilter&&this._selectedFilter.setIntensity(t);return t}},filter:{type:v.OBJECT,default:new p.default,setter:function e(t){if(this._selectedFilter){this._selectedFilter.dispose();this._selectedFilter=null}this._selectedFilter=t;if(typeof this._options.intensity!=="undefined"){this._selectedFilter.set({intensity:this._options.intensity})}return t}}};t.default=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=h(n);var i=r(2);var a=h(i);var s=r(1);var u=h(s);var l=r(4);var c=h(l);var d=r(5);var f=p(d);function p(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function h(e){return e&&e.__esModule?e:{default:e}}var v=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._stack.push(new f.Contrast({contrast:.63}));s._stack.push(new f.Brightness({brightness:.12}));s._stack.push(new f.ToneCurve({rgbControlPoints:{red:[[0,38],[94,94],[148,142],[175,187],[255,255]],green:[[0,0],[77,53],[171,190],[255,255]],blue:[[0,10],[48,85],[174,228],[255,255]]}}));return s}return t}(c.default);v.identifier="a15";v.displayName="15";t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=h(n);var i=r(2);var a=h(i);var s=r(1);var u=h(s);var l=r(4);var c=h(l);var d=r(5);var f=p(d);function p(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function h(e){return e&&e.__esModule?e:{default:e}}var v=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._stack.push(new f.Desaturation({desaturation:.5}));s._stack.push(new f.ToneCurve({rgbControlPoints:{red:[[0,0],[170,170],[212,219],[234,242],[255,255]],green:[[0,0],[170,168],[234,231],[255,255]],blue:[[0,0],[170,170],[212,208],[255,255]]}}));return s}return t}(c.default);v.identifier="breeze";v.displayName="Breeze";t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=h(n);var i=r(2);var a=h(i);var s=r(1);var u=h(s);var l=r(4);var c=h(l);var d=r(5);var f=p(d);function p(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function h(e){return e&&e.__esModule?e:{default:e}}var v=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._stack.push(new f.Grayscale);return s}return t}(c.default);v.identifier="bw";v.displayName="B&W";t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=h(n);var i=r(2);var a=h(i);var s=r(1);var u=h(s);var l=r(4);var c=h(l);var d=r(5);var f=p(d);function p(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function h(e){return e&&e.__esModule?e:{default:e}}var v=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._stack.push(new f.Grayscale);s._stack.push(new f.Contrast({contrast:1.5}));return s}return t}(c.default);v.identifier="bwhard";v.displayName="1920";t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=h(n);var i=r(2);var a=h(i);var s=r(1);var u=h(s);var l=r(4);var c=h(l);var d=r(5);var f=p(d);function p(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function h(e){return e&&e.__esModule?e:{default:e}}var v=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._stack.push(new f.ToneCurve({rgbControlPoints:{red:[[0,69],[55,110],[202,230],[255,255]],green:[[0,44],[89,93],[185,141],[255,189]],blue:[[0,76],[39,82],[218,138],[255,171]]}}));return s}return t}(c.default);v.identifier="celsius";v.displayName="Celsius";t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=h(n);var i=r(2);var a=h(i);var s=r(1);var u=h(s);var l=r(4);var c=h(l);var d=r(5);var f=p(d);function p(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function h(e){return e&&e.__esModule?e:{default:e}}var v=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._stack.push(new f.ToneCurve({rgbControlPoints:{red:[[0,0],[44,44],[124,143],[221,204],[255,255]],green:[[0,0],[130,127],[213,199],[255,255]],blue:[[0,0],[51,52],[219,204],[255,255]]}}));return s}return t}(c.default);v.identifier="chest";v.displayName="Chest";t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=h(n);var i=r(2);var a=h(i);var s=r(1);var u=h(s);var l=r(4);var c=h(l);var d=r(5);var f=p(d);function p(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function h(e){return e&&e.__esModule?e:{default:e}}var v=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._stack.push(new f.ToneCurve({rgbControlPoints:{red:[[0,0],[44,28],[63,48],[128,132],[235,248],[255,255]],green:[[0,0],[20,10],[60,45],[190,209],[211,231],[255,255]],blue:[[0,31],[41,62],[150,142],[234,212],[255,224]]}}));return s}return t}(c.default);v.identifier="fixie";v.displayName="Fixie";t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=h(n);var i=r(2);var a=h(i);var s=r(1);var u=h(s);var l=r(4);var c=h(l);var d=r(5);var f=p(d);function p(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function h(e){return e&&e.__esModule?e:{default:e}}var v=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._stack.push(new f.Saturation({saturation:1.35}));s._stack.push(new f.Contrast({contrast:1.1}));return s}return t}(c.default);v.identifier="food";v.displayName="Food";t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=h(n);var i=r(2);var a=h(i);var s=r(1);var u=h(s);var l=r(4);var c=h(l);var d=r(5);var f=p(d);function p(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function h(e){return e&&e.__esModule?e:{default:e}}var v=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._stack.push(new f.ToneCurve({rgbControlPoints:{red:[[0,9],[21,11],[45,24],[255,220]],green:[[0,12],[21,21],[42,42],[150,150],[170,173],[255,210]],blue:[[0,28],[43,72],[128,185],[255,220]]}}));return s}return t}(c.default);v.identifier="fridge";v.displayName="Fridge";t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=h(n);var i=r(2);var a=h(i);var s=r(1);var u=h(s);var l=r(4);var c=h(l);var d=r(5);var f=p(d);function p(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function h(e){return e&&e.__esModule?e:{default:e}}var v=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._stack.push(new f.ToneCurve({rgbControlPoints:{red:[[0,65],[28,67],[67,113],[125,183],[187,217],[255,229]],green:[[0,52],[42,59],[104,134],[169,209],[255,240]],blue:[[0,52],[65,68],[93,104],[150,153],[255,198]]}}));return s}return t}(c.default);v.identifier="front";v.displayName="Front";t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=h(n);var i=r(2);var a=h(i);var s=r(1);var u=h(s);var l=r(4);var c=h(l);var d=r(5);var f=p(d);function p(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function h(e){return e&&e.__esModule?e:{default:e}}var v=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._stack.push(new f.Contrast({contrast:1.1}));s._stack.push(new f.ToneCurve({rgbControlPoints:{red:[[0,0],[94,74],[181,205],[255,255]],green:[[0,0],[127,127],[255,255]],blue:[[0,0],[102,73],[227,213],[255,255]]}}));return s}return t}(c.default);v.identifier="glam";v.displayName="Glam";t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=h(n);var i=r(2);var a=h(i);var s=r(1);var u=h(s);var l=r(4);var c=h(l);var d=r(5);var f=p(d);function p(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function h(e){return e&&e.__esModule?e:{default:e}}var v=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._stack.push(new f.Gobblin);return s}return t}(c.default);v.identifier="gobblin";v.displayName="Gobblin";t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=h(n);var i=r(2);var a=h(i);var s=r(1);var u=h(s);var l=r(4);var c=h(l);var d=r(5);var f=p(d);function p(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function h(e){return e&&e.__esModule?e:{default:e}}var v=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._stack.push(new f.ToneCurve({controlPoints:[[0,0],[53,32],[91,80],[176,205],[255,255]]}));s._stack.push(new f.Saturation({saturation:.9}));return s}return t}(c.default);v.identifier="k1";v.displayName="K1";t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=m(n);var i=r(2);var a=m(i);var s=r(1);var u=m(s);var l=r(4);var c=m(l);var d=r(5);var f=v(d);var p=r(11);var h=m(p);function v(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function m(e){return e&&e.__esModule?e:{default:e}}var _=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._stack.push(new f.ToneCurve({controlPoints:[[0,0],[54,33],[77,82],[94,103],[122,126],[177,193],[229,232],[255,255]]}));s._stack.push(new f.SoftColorOverlay({color:new h.default(40/255,40/255,40/255)}));return s}return t}(c.default);_.identifier="k2";_.displayName="K2";t.default=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=h(n);var i=r(2);var a=h(i);var s=r(1);var u=h(s);var l=r(4);var c=h(l);var d=r(5);var f=p(d);function p(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function h(e){return e&&e.__esModule?e:{default:e}}var v=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._stack.push(new f.Saturation({saturation:.5}));return s}return t}(c.default);v.identifier="k6";v.displayName="K6";t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=h(n);var i=r(2);var a=h(i);var s=r(1);var u=h(s);var l=r(4);var c=h(l);var d=r(5);var f=p(d);function p(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function h(e){return e&&e.__esModule?e:{default:e}}var v=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._stack.push(new f.ToneCurve({controlPoints:[[0,0],[17,27],[46,69],[90,112],[156,200],[203,243],[255,255]]}));s._stack.push(new f.Saturation({saturation:.7}));return s}return t}(c.default);v.identifier="kdynamic";v.displayName="KDynamic";t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=h(n);var i=r(2);var a=h(i);var s=r(1);var u=h(s);var l=r(4);var c=h(l);var d=r(5);var f=p(d);function p(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function h(e){return e&&e.__esModule?e:{default:e}}var v=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._stack.push(new f.Desaturation({desaturation:.4}));s._stack.push(new f.ToneCurve({rgbControlPoints:{red:[[0,20],[40,20],[106,111],[129,153],[190,223],[255,255]],green:[[0,20],[40,20],[62,41],[106,108],[132,159],[203,237],[255,255]],blue:[[0,40],[40,40],[73,60],[133,160],[191,297],[203,237],[237,239],[255,255]]}}));return s}return t}(c.default);v.identifier="lenin";v.displayName="Lenin";t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=h(n);var i=r(2);var a=h(i);var s=r(1);var u=h(s);var l=r(4);var c=h(l);var d=r(5);var f=p(d);function p(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function h(e){return e&&e.__esModule?e:{default:e}}var v=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._stack.push(new f.ToneCurve({controlPoints:[[0,0],[87,20],[131,156],[183,205],[255,200]]}));return s}return t}(c.default);v.identifier="lomo";v.displayName="Lomo";t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=v(n);var i=r(2);var a=v(i);var s=r(1);var u=v(s);var l=r(3);var c=r(4);var d=v(c);var f=r(5);var p=h(f);function h(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function v(e){return e&&e.__esModule?e:{default:e}}var m=l.Constants.OptionType;var _=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._lutPrimitive=new p.LookupTableImage({image:s._options.image});s._stack.push(s._lutPrimitive);return s}return t}(d.default);_.prototype.availableOptions={image:{type:m.IMAGE,required:true,setter:function e(t){if(this._lutPrimitive){this._lutPrimitive.setImage(t)}this.setDirty(true);return t}}};_.identifier="lut";_.displayName="Lookup Table";t.default=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=h(n);var i=r(2);var a=h(i);var s=r(1);var u=h(s);var l=r(4);var c=h(l);var d=r(5);var f=p(d);function p(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function h(e){return e&&e.__esModule?e:{default:e}}var v=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._stack.push(new f.ToneCurve({rgbControlPoints:{red:[[0,0],[41,84],[87,134],[255,255]],green:[[0,0],[255,216]],blue:[[0,0],[255,131]]}}));return s}return t}(c.default);v.identifier="mellow";v.displayName="Mellow";t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=g(n);var i=r(2);var a=g(i);var s=r(1);var u=g(s);var l=r(4);var c=g(l);var d=r(5);var f=_(d);var p=r(34);var h=g(p);var v=r(11);var m=g(v);function _(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function g(e){return e&&e.__esModule?e:{default:e}}var y=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));var u=new h.default(.8158218291630716,0,0,0,-.01779810181190647,0,.8098360655737704,0,0,.0916393442622953,0,0,.4596336773932402,0,.12760574782432707,0,0,0,1,0);s._stack.push(new f.ColorMatrixPrimitive({colormatrix:u}));var l=new m.default(.8,.6,.9);s._stack.push(new f.Gamma({gamma:l}));return s}return t}(c.default);y.identifier="metal";y.displayName="Metal";t.default=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=h(n);var i=r(2);var a=h(i);var s=r(1);var u=h(s);var l=r(4);var c=h(l);var d=r(5);var f=p(d);function p(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function h(e){return e&&e.__esModule?e:{default:e}}var v=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._stack.push(new f.ToneCurve({rgbControlPoints:{red:[[0,40],[255,230]],green:[[0,10],[255,225]],blue:[[0,20],[255,181]]}}));s._stack.push(new f.Glow);return s}return t}(c.default);v.identifier="morning";v.displayName="Morning";t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=h(n);var i=r(2);var a=h(i);var s=r(1);var u=h(s);var l=r(4);var c=h(l);var d=r(5);var f=p(d);function p(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function h(e){return e&&e.__esModule?e:{default:e}}var v=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._stack.push(new f.ToneCurve({rgbControlPoints:{red:[[0,0],[115,130],[195,215],[255,255]],green:[[0,0],[148,153],[172,215],[255,255]],blue:[[0,46],[58,75],[178,205],[255,255]]}}));s._stack.push(new f.ToneCurve({controlPoints:[[0,0],[117,151],[189,217],[255,255]]}));s._stack.push(new f.Desaturation({desaturation:.65}));return s}return t}(c.default);v.identifier="orchid";v.displayName="Orchid";t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=h(n);var i=r(2);var a=h(i);var s=r(1);var u=h(s);var l=r(4);var c=h(l);var d=r(5);var f=p(d);function p(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function h(e){return e&&e.__esModule?e:{default:e}}var v=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._stack.push(new f.ToneCurve({rgbControlPoints:{red:[[0,0],[94,74],[181,205],[255,255]],green:[[0,0],[34,34],[99,76],[176,190],[255,255]],blue:[[0,0],[102,73],[227,213],[255,255]]}}));s._stack.push(new f.Saturation({saturation:.8}));s._stack.push(new f.Contrast({contrast:1.5}));return s}return t}(c.default);v.identifier="pola";v.displayName="Pola SX";t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=h(n);var i=r(2);var a=h(i);var s=r(1);var u=h(s);var l=r(4);var c=h(l);var d=r(5);var f=p(d);function p(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function h(e){return e&&e.__esModule?e:{default:e}}var v=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._stack.push(new f.ToneCurve({rgbControlPoints:{red:[[0,0],[56,18],[196,209],[255,255]],green:[[0,38],[71,84],[255,255]],blue:[[0,0],[131,133],[204,211],[255,255]]}}));s._stack.push(new f.Saturation({saturation:.8}));s._stack.push(new f.Contrast({contrast:1.5}));return s}return t}(c.default);v.identifier="pola669";v.displayName="Pola 669";t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=f(n);var i=r(2);var a=f(i);var s=r(1);var u=f(s);var l=r(3);var c=r(7);var d=f(c);function f(e){return e&&e.__esModule?e:{default:e}}var p=l.Constants.OptionType,h=l.Constants.UniformType,v=l.Constants.RendererType;var m=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);var n=(0,a.default)(this,e.call(this));n._fragmentSource=r(228);return n}t.prototype._applyCanvas=function e(t,r,n){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var i=r.getCanvas();var a=n.getContext();var s=this._options.filteredCanvas;a.save();a.drawImage(i,0,0);a.globalAlpha=this._options.intensity;a.drawImage(s,0,0);a.restore()};return t}(l.Engine.Filter);m.prototype.availableOptions={filteredImage:{type:p.NUMBER,default:1,uniformType:h.INT},filteredCanvas:{type:p.OBJECT,default:null},intensity:{type:p.NUMBER,default:1,uniformType:h.FLOAT}};var _=function(){function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:1;(0,o.default)(this,e);this._intensity=t;this._stack=[];this._dirtiness={};this._renderTextures={};this._container=new l.Engine.Container;this._sprite=new l.Engine.Sprite;this._container.addChild(this._sprite);this._blendFilter=new m}e.prototype.push=function e(t){this._stack.push(t)};e.prototype.clear=function e(){this._stack=[]};e.prototype.render=function e(t,r,n){if(this._stack.length===0){return d.default.resolve()}var o=t.getRenderer();this._sprite.setTexture(r);var i=this._renderTextures[o.id];if(!i){var a=t.getSprite().getTexture().getFrame();i=new l.Engine.RenderTexture(t.getRenderer(),a.width,a.height);this._renderTextures[o.id]=i}var s=n.getDimensions();i.resizeTo(s);var u=this.isDirtyForRenderer(o);if(u){this._stack.forEach(function(e){e.update(t)});var c=this._stack.map(function(e){return e.getFilter()});this._sprite.setFilters(c);i.render(this._container);this.setDirtyForRenderer(false,o)}this._blendFilter.setIntensity(this._intensity);if(o.isOfType(v.CANVAS)){this._blendFilter.setFilteredCanvas(i.getRenderTarget().getCanvas())}else if(o.isOfType(v.WEBGL)){var f=i.getBaseTexture();f.setGLUnit(this._blendFilter.getFilteredImage());o.updateTexture(f,false)}this._sprite.setFilters([this._blendFilter]);n.clear(l.Color.TRANSPARENT);n.render(this._container);if(u){this.disposeRenderTextures()}return d.default.resolve(n)};e.prototype.setIntensity=function e(t){this._intensity=t};e.prototype.isDirtyForRenderer=function e(t){if(!(t.id in this._dirtiness)){this._dirtiness[t.id]=true}return this._dirtiness[t.id]};e.prototype.setDirtyForRenderer=function e(t,r){this._dirtiness[r.id]=t};e.prototype.setDirty=function e(t){for(var r in this._dirtiness){this._dirtiness[r]=t}};e.prototype.disposeRenderTextures=function e(){for(var t in this._renderTextures){this._renderTextures[t].dispose();delete this._renderTextures[t]}};e.prototype.dispose=function e(){this.disposeRenderTextures();this._stack.forEach(function(e){return e.dispose()});this._stack=[];this._blendFilter.dispose();this._sprite.dispose()};return e}();t.default=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=p(n);var i=r(2);var a=p(i);var s=r(1);var u=p(s);var l=r(3);var c=r(8);var d=p(c);var f=r(9);function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);var n=(0,a.default)(this,e.call(this));n._fragmentSource=r(232);return n}t.prototype._applyCanvas=function e(t,r,n){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var i=r.getCanvas();var a=r.getContext();var s=n.getContext();var u=a.getImageData(0,0,i.width,i.height);var l=this._options.brightness;if(l===0){return}l=l*255;for(var c=0;c<i.width*i.height;c++){var d=c*4;u.data[d]+=l;u.data[d+1]+=l;u.data[d+2]+=l}s.putImageData(u,0,0)};return t}(l.Engine.Filter);h.prototype.availableOptions={brightness:{type:f.OptionType.NUMBER,default:0,uniformType:f.UniformType.FLOAT}};var v=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._filter=new h;return s}t.prototype.update=function e(){this._filter.setBrightness(this._options.brightness)};return t}(d.default);v.prototype.availableOptions=h.prototype.availableOptions;t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=m(n);var i=r(2);var a=m(i);var s=r(1);var u=m(s);var l=r(3);var c=r(8);var d=m(c);var f=r(11);var p=m(f);var h=r(34);var v=m(h);function m(e){
return e&&e.__esModule?e:{default:e}}var _=l.Constants.OptionType,g=l.Constants.UniformType;var y=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);var n=(0,a.default)(this,e.call(this));n._fragmentSource=r(233);return n}t.prototype._applyCanvas=function e(t,r,n){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var i=r.getCanvas();var a=r.getContext();var s=n.getContext();var u=a.getImageData(0,0,i.width,i.height);var l=this._options.colormatrix;var c=new p.default(0,0,0,0);for(var d=0;d<i.width*i.height;d++){var f=d*4;c.r=u.data[f];c.g=u.data[f+1];c.b=u.data[f+2];c.a=u.data[f+3];c=l.apply(c);u.data[f]=c.r;u.data[f+1]=c.g;u.data[f+2]=c.b;u.data[f+3]=c.a}s.putImageData(u,0,0)};return t}(l.Engine.Filter);y.prototype.availableOptions={colormatrix:{type:_.COLOR_MATRIX,default:new v.default,uniformType:g.MAT4}};var b=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._filter=new y;return s}t.prototype.update=function e(){this._filter.setColormatrix(this._options.colormatrix)};return t}(d.default);b.prototype.availableOptions=y.prototype.availableOptions;t.default=b},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=f(n);var i=r(2);var a=f(i);var s=r(1);var u=f(s);var l=r(3);var c=r(8);var d=f(c);function f(e){return e&&e.__esModule?e:{default:e}}var p=l.Constants.OptionType,h=l.Constants.UniformType;var v=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);var n=(0,a.default)(this,e.call(this));n._fragmentSource=r(234);return n}t.prototype._applyCanvas=function e(t,r,n){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var i=r.getCanvas();var a=r.getContext();var s=n.getContext();var u=a.getImageData(0,0,i.width,i.height);var l=this._options.contrast;if(l===1){return}for(var c=0;c<i.width*i.height;c++){var d=c*4;u.data[d]=(u.data[d]-127)*l+127;u.data[d+1]=(u.data[d+1]-127)*l+127;u.data[d+2]=(u.data[d+2]-127)*l+127}s.putImageData(u,0,0)};return t}(l.Engine.Filter);v.prototype.availableOptions={contrast:{type:p.NUMBER,default:1,uniformType:h.FLOAT}};var m=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._filter=new v;return s}t.prototype.update=function e(){this._filter.setContrast(this._options.contrast)};return t}(d.default);m.prototype.availableOptions=v.prototype.availableOptions;t.default=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=h(n);var i=r(2);var a=h(i);var s=r(1);var u=h(s);var l=r(12);var c=h(l);var d=r(8);var f=h(d);var p=r(9);function h(e){return e&&e.__esModule?e:{default:e}}var v=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);var n=(0,a.default)(this,e.call(this));n._fragmentSource=r(235);return n}t.prototype._applyCanvas=function e(t,r,n){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var i=r.getCanvas();var a=r.getContext();var s=n.getContext();var u=a.getImageData(0,0,i.width,i.height);var l=this._options.desaturation;for(var c=0;c<i.width*i.height;c++){var d=c*4;var f=u.data[d]*.3+u.data[d+1]*.59+u.data[d+2]*.11;u.data[d]=f*(1-l)+u.data[d]*l;u.data[d+1]=f*(1-l)+u.data[d+1]*l;u.data[d+2]=f*(1-l)+u.data[d+2]*l}s.putImageData(u,0,0)};return t}(c.default.Filter);v.prototype.availableOptions={desaturation:{type:p.OptionType.NUMBER,default:1,uniformType:p.UniformType.FLOAT}};var m=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._filter=new v;return s}t.prototype.update=function e(){this._filter.setDesaturation(this._options.desaturation)};return t}(f.default);m.prototype.availableOptions=v.prototype.availableOptions;t.default=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=h(n);var i=r(2);var a=h(i);var s=r(1);var u=h(s);var l=r(3);var c=r(8);var d=h(c);var f=r(11);var p=h(f);function h(e){return e&&e.__esModule?e:{default:e}}var v=l.Constants.OptionType,m=l.Constants.UniformType;var _=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);var n=(0,a.default)(this,e.call(this));n._fragmentSource=r(236);return n}t.prototype._applyCanvas=function e(t,r,n){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var i=r.getCanvas();var a=r.getContext();var s=n.getContext();var u=a.getImageData(0,0,i.width,i.height);var l=this._options.gamma;var c=new Float32Array(256);for(var d=0;d<256;d++){c[d]=255*Math.pow(d/255,l.r)}var f=new Float32Array(256);for(var p=0;p<256;p++){f[p]=255*Math.pow(p/255,l.g)}var h=new Float32Array(256);for(var v=0;v<256;v++){h[v]=255*Math.pow(v/255,l.b)}for(var m=0;m<i.width*i.height;m++){var _=m*4;u.data[_]=c[u.data[_]];u.data[_+1]=f[u.data[_+1]];u.data[_+2]=h[u.data[_+2]]}s.putImageData(u,0,0)};return t}(l.Engine.Filter);_.prototype.availableOptions={gamma:{type:v.COLOR,default:p.default.WHITE,uniformType:m.FLOAT3}};var g=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._filter=new _;return s}t.prototype.update=function e(){this._filter.setGamma(this._options.gamma)};return t}(d.default);g.prototype.availableOptions=_.prototype.availableOptions;t.default=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=h(n);var i=r(2);var a=h(i);var s=r(1);var u=h(s);var l=r(8);var c=h(l);var d=r(11);var f=h(d);var p=r(3);function h(e){return e&&e.__esModule?e:{default:e}}var v=p.Constants.OptionType,m=p.Constants.UniformType;var _=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);var n=(0,a.default)(this,e.call(this));n._fragmentSource=r(237);return n}t.prototype._applyCanvas=function e(t,r,n){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var i=r.getCanvas();var a=r.getContext();var s=n.getContext();var u=a.getImageData(0,0,i.width,i.height);var l=this._options.color;var c;for(var d=0;d<i.width;d++){for(var f=0;f<i.height;f++){var p=(i.width*f+d)*4;var h=d/i.width;var v=f/i.height;var m=(h-.5)/.75;var _=(v-.5)/.75;var g=m*m;var y=_*_;c=1-(g+y);c=Math.min(Math.max(c,.1),1);u.data[p]=u.data[p]*(c*l.r);u.data[p+1]=u.data[p+1]*(c*l.g);u.data[p+2]=u.data[p+2]*(c*l.b);u.data[p+3]=255}}s.putImageData(u,0,0)};return t}(p.Engine.Filter);_.prototype.availableOptions={color:{type:v.COLOR,default:f.default.WHITE,uniformType:m.FLOAT3}};var g=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._filter=new _;return s}t.prototype.update=function e(){this._filter.setColor(this._options.color)};return t}(c.default);g.prototype.availableOptions=_.prototype.availableOptions;t.default=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=p(n);var i=r(2);var a=p(i);var s=r(1);var u=p(s);var l=r(12);var c=p(l);var d=r(8);var f=p(d);function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);var n=(0,a.default)(this,e.call(this));n._fragmentSource=r(238);return n}t.prototype._applyCanvas=function e(t,r,n){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var i=r.getCanvas();var a=r.getContext();var s=n.getContext();var u=a.getImageData(0,0,i.width,i.height);for(var l=0;l<i.width;l++){for(var c=0;c<i.height;c++){var d=(i.width*c+l)*4;u.data[d+2]=u.data[d+1]*.33;u.data[d]=u.data[d]*.6;u.data[d+2]+=u.data[d]*.33;u.data[d+1]=u.data[d+1]*.7;u.data[d+3]=255}}s.putImageData(u,0,0)};return t}(c.default.Filter);var v=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._filter=new h;return s}return t}(f.default);t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=p(n);var i=r(2);var a=p(i);var s=r(1);var u=p(s);var l=r(12);var c=p(l);var d=r(8);var f=p(d);function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);var n=(0,a.default)(this,e.call(this));n._fragmentSource=r(239);return n}t.prototype._applyCanvas=function e(t,r,n){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var i=r.getCanvas();var a=r.getContext();var s=n.getContext();var u=a.getImageData(0,0,i.width,i.height);for(var l=0;l<i.width;l++){for(var c=0;c<i.height;c++){var d=(i.width*c+l)*4;var f=u.data[d]*.2125+u.data[d+1]*.7154+u.data[d+2]*.0721;u.data[d]=f;u.data[d+1]=f;u.data[d+2]=f}}s.putImageData(u,0,0)};return t}(c.default.Filter);var v=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._filter=new h;return s}return t}(f.default);t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=v(n);var i=r(2);var a=v(i);var s=r(1);var u=v(s);var l=r(3);var c=r(12);var d=v(c);var f=r(8);var p=v(f);var h=r(9);function v(e){return e&&e.__esModule?e:{default:e}}var m=3;var _=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);var n=(0,a.default)(this,e.call(this));n._precomputeQuads();n._fragmentSource=r(240);return n}t.prototype._precomputeQuads=function e(){this._quads=[];for(var t=0;t<256;t++){var r=t/255*63;var n=new l.Vector2;n.y=(r|0)*.125|0;n.x=(r|0)-n.y*8;this._quads.push(n)}};t.prototype._applyCanvas=function e(t,r,n){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var i=r.getCanvas();var a=r.getContext();var s=n.getContext();var u=this._options.lookupTableImage;var c=this._createImageCanvas(u);var d=c.getContext("2d");var f=a.getImageData(0,0,i.width,i.height);var p=d.getImageData(0,0,u.width,u.height);var h=new l.Vector2;for(var v=0;v<i.width*i.height*4;v+=4){var m=f.data[v];var _=f.data[v+1];var g=f.data[v+2];var y=f.data[v+3]/255;var b=this._quads[g];var x=64;h.x=b.x*x;h.y=b.y*x;h.x+=Math.floor(m/4);h.y+=Math.floor(_/4);var E=(u.width*h.y+h.x)*4|0;var C=p.data[E];C=m*(1-y)+C*y;var w=p.data[E+1];w=_*(1-y)+w*y;var S=p.data[E+2];S=g*(1-y)+S*y;f.data[v]=C;f.data[v+1]=w;f.data[v+2]=S}s.putImageData(f,0,0)};t.prototype._createImageCanvas=function e(t){var r=l.Utils.createCanvas();r.width=t.width;r.height=t.height;var n=r.getContext("2d");n.drawImage(t,0,0);return r};return t}(d.default.Filter);_.prototype.availableOptions={lookupTable:{type:h.OptionType.NUMBER,default:m,uniformType:h.UniformType.INT},lookupTableImage:{type:h.OptionType.IMAGE,uniformType:null}};var g=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._filter=new _;s._textures={};return s}t.prototype.update=function e(t){var r=t.getRenderer();if(r.isOfType(h.RendererType.WEBGL)){this._updateWebGLTexture(t)}else if(r.isOfType(h.RendererType.CANVAS)){this._filter.setLookupTableImage(this._options.image)}};t.prototype._updateWebGLTexture=function e(t){var r=t.getRenderer();var n=r.id;if(!this._textures[n]){this._textures[n]=new d.default.BaseTexture}var o=this._textures[n];o.setSource(this._options.image);o.setGLUnit(m);r.updateTexture(o)};t.prototype.dispose=function t(){e.prototype.dispose.call(this);for(var r in this._textures){delete this._textures[r]}};return t}(p.default);g.prototype.availableOptions={image:{type:h.OptionType.IMAGE}};t.default=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=f(n);var i=r(2);var a=f(i);var s=r(1);var u=f(s);var l=r(8);var c=f(l);var d=r(3);function f(e){return e&&e.__esModule?e:{default:e}}var p=d.Constants.OptionType,h=d.Constants.UniformType;var v=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);var n=(0,a.default)(this,e.call(this));n._fragmentSource=r(242);return n}t.prototype._applyCanvas=function e(t,r,n){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var i=r.getCanvas();var a=r.getContext();var s=n.getContext();var u=a.getImageData(0,0,i.width,i.height);var l=this._options.saturation;for(var c=0;c<i.width;c++){for(var d=0;d<i.height;d++){var f=(i.width*d+c)*4;var p=u.data[f]*.2125+u.data[f+1]*.7154+u.data[f+2]*.0721;u.data[f]=p*(1-l)+u.data[f]*l;u.data[f+1]=p*(1-l)+u.data[f+1]*l;u.data[f+2]=p*(1-l)+u.data[f+2]*l}}s.putImageData(u,0,0)};return t}(d.Engine.Filter);v.prototype.availableOptions={saturation:{type:p.NUMBER,default:0,uniformType:h.FLOAT}};var m=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._filter=new v;return s}t.prototype.update=function e(){this._filter.setSaturation(this._options.saturation)};return t}(c.default);m.prototype.availableOptions=v.prototype.availableOptions;t.default=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=h(n);var i=r(2);var a=h(i);var s=r(1);var u=h(s);var l=r(8);var c=h(l);var d=r(11);var f=h(d);var p=r(3);function h(e){return e&&e.__esModule?e:{default:e}}var v=p.Constants.OptionType,m=p.Constants.UniformType;var _=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);var n=(0,a.default)(this,e.call(this));n._fragmentSource=r(243);return n}t.prototype._applyCanvas=function e(t,r,n){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var i=r.getCanvas();var a=r.getContext();var s=n.getContext();var u=a.getImageData(0,0,i.width,i.height);for(var l=0;l<i.width;l++){for(var c=0;c<i.height;c++){var d=(i.width*c+l)*4;u.data[d]=Math.max(this._options.color.r*255,u.data[d]);u.data[d+1]=Math.max(this._options.color.g*255,u.data[d+1]);u.data[d+2]=Math.max(this._options.color.b*255,u.data[d+2])}}s.putImageData(u,0,0)};return t}(p.Engine.Filter);_.prototype.availableOptions={color:{type:v.COLOR,default:f.default.WHITE,uniformType:m.FLOAT3}};var g=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._filter=new _;return s}t.prototype.update=function e(){this._filter.setColor(this._options.color)};return t}(c.default);g.prototype.availableOptions=_.prototype.availableOptions;t.default=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=f(n);var i=r(2);var a=f(i);var s=r(1);var u=f(s);var l=r(80);var c=f(l);var d=r(3);function f(e){return e&&e.__esModule?e:{default:e}}var p=d.Constants.OptionType;var h=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));if(!s._options.rgbControlPoints){s._options.rgbControlPoints={red:s._options.controlPoints,green:s._options.controlPoints,blue:s._options.controlPoints}}s._updateLookupTable();return s}t.prototype._updateLookupTable=function e(){var t=this._calculateSplineCurve(this._options.rgbControlPoints.red);var r=this._calculateSplineCurve(this._options.rgbControlPoints.green);var n=this._calculateSplineCurve(this._options.rgbControlPoints.blue);this._options.data=this._buildLookupTable(t,r,n)};t.prototype._buildLookupTable=function e(t,r,n){var o=[];for(var i=0;i<256;i++){o.push(Math.min(Math.max(i+t[i],0),255));o.push(Math.min(Math.max(i+r[i],0),255));o.push(Math.min(Math.max(i+n[i],0),255));o.push(255)}return o};t.prototype._calculateSplineCurve=function e(t){t=t.sort(function(e,t){return e[0]>t[0]});var r=this._getSplineCurve(t);var n=r[0];var o;if(n[0]>0){for(o=0;o<n[0];o++){r.unshift([0,0])}}var i=[];for(o=0;o<r.length;o++){var a=r[o];var s=[a[0],a[0]];var u=Math.sqrt(Math.pow(s[0]-a[0],2)+Math.pow(s[1]-a[1],2));if(s[1]>a[1]){u=-u}i.push(u)}return i};t.prototype._getSplineCurve=function e(t){var r=this._secondDerivative(t);var n=r.length;var o=[];var i;for(i=0;i<n;i++){o[i]=r[i]}var a=[];for(i=0;i<n-1;i++){var s=t[i];var u=t[i+1];for(var l=s[0];l<u[0];l++){var c=(l-s[0])/(u[0]-s[0]);var d=1-c;var f=c;var p=u[0]-s[0];var h=d*s[1]+f*u[1]+p*p/6*((d*d*d-d)*o[i]+(f*f*f-f)*o[i+1]);if(h>255){h=255}else if(h<0){h=0}a.push([l,h])}}if(a.length===255){a.push(t[t.length-1])}return a};t.prototype._secondDerivative=function e(t){var r=t.length;if(r<=0||r===1){return null}var n=[];var o=[];var i,a;n[0]=[0,1,0];for(i=1;i<r-1;i++){var s=t[i-1];var u=t[i];var l=t[i+1];n[i]=n[i]||[];n[i][0]=(u[0]-s[0])/6;n[i][1]=(l[0]-s[0])/3;n[i][2]=(l[0]-u[0])/6;o[i]=(l[1]-u[1])/(l[0]-u[0])-(u[1]-s[1])/(u[0]-s[0])}o[0]=0;o[r-1]=0;n[r-1]=[0,1,0];for(i=1;i<r;i++){a=n[1][0]/n[i-1][1];n[i][1]-=a*n[i-1][2];n[i][0]=0;o[i]-=a*o[i-1]}for(i=r-2;i>0;i--){a=n[i][2]/n[i+1][1];n[i][1]-=a*n[i+1][0];n[i][2]=0;o[i]-=a*o[i+1]}var c=[];for(i=0;i<r;i++){c[i]=o[i]/n[i][1]}return c};return t}(c.default);h.prototype.availableOptions={rgbControlPoints:{type:p.OBJECT},controlPoints:{type:p.ARRAY,default:[]}};t.default=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=p(n);var i=r(2);var a=p(i);var s=r(1);var u=p(s);var l=r(12);var c=p(l);var d=r(8);var f=p(d);function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);var n=(0,a.default)(this,e.call(this));n._fragmentSource=r(244);return n}t.prototype._applyCanvas=function e(t,r,n){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var i=r.getCanvas();var a=r.getContext();var s=n.getContext();var u=a.getImageData(0,0,i.width,i.height);for(var l=0;l<i.width;l++){for(var c=0;c<i.height;c++){var d=(i.width*c+l)*4;var f=u.data[d]/255*.3+u.data[d+1]/255*.3+u.data[d+2]/255*.3;f-=.2;f=Math.max(0,Math.min(1,f));f+=.15;f*=1.4;f*=255;u.data[d]=f;u.data[d+1]=f;u.data[d+2]=f}}s.putImageData(u,0,0)};return t}(c.default.Filter);var v=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._filter=new h;return s}return t}(f.default);t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=h(n);var i=r(2);var a=h(i);var s=r(1);var u=h(s);var l=r(4);var c=h(l);var d=r(5);var f=p(d);function p(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function h(e){return e&&e.__esModule?e:{default:e}}var v=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._stack.push(new f.Desaturation({desaturation:.65}));s._stack.push(new f.ToneCurve({rgbControlPoints:{red:[[0,50],[40,78],[118,170],[181,211],[255,255]],green:[[0,27],[28,45],[109,157],[157,195],[179,208],[206,212],[255,240]],blue:[[0,50],[12,55],[46,103],[103,162],[194,182],[241,201],[255,219]]}}));return s}return t}(c.default);v.identifier="quozi";v.displayName="Quozi";t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=h(n);var i=r(2);var a=h(i);var s=r(1);var u=h(s);var l=r(4);var c=h(l);var d=r(5);var f=p(d);function p(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function h(e){return e&&e.__esModule?e:{default:e}}var v=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._stack.push(new f.ToneCurve({rgbControlPoints:{red:[[0,129],[75,153],[181,227],[255,255]],green:[[0,8],[111,85],[212,158],[255,226]],blue:[[0,5],[75,22],[193,90],[255,229]]}}));s._stack.push(new f.Glow);return s}return t}(c.default);v.identifier="semired";v.displayName="Semired";t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=h(n);var i=r(2);var a=h(i);var s=r(1);var u=h(s);var l=r(4);var c=h(l);var d=r(5);var f=p(d);function p(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function h(e){return e&&e.__esModule?e:{default:e}}var v=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._stack.push(new f.ToneCurve({rgbControlPoints:{red:[[0,0],[62,82],[141,154],[255,255]],green:[[0,39],[56,96],[192,176],[255,255]],blue:[[0,0],[174,99],[255,235]]}}));s._stack.push(new f.ToneCurve({controlPoints:[[0,0],[55,20],[158,191],[255,255]]}));return s}return t}(c.default);v.identifier="sunny";v.displayName="Sunny";t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=h(n);var i=r(2);var a=h(i);var s=r(1);var u=h(s);var l=r(4);var c=h(l);var d=r(5);var f=p(d);function p(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function h(e){return e&&e.__esModule?e:{default:e}}var v=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._stack.push(new f.ToneCurve({rgbControlPoints:{red:[[0,72],[89,99],[176,212],[255,237]],green:[[0,49],[255,192]],blue:[[0,72],[255,151]]}}));return s}return t}(c.default);v.identifier="texas";v.displayName="Texas";t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=h(n);var i=r(2);var a=h(i);var s=r(1);var u=h(s);var l=r(4);var c=h(l);var d=r(5);var f=p(d);function p(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function h(e){return e&&e.__esModule?e:{default:e}}var v=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._stack.push(new f.X400);return s}return t}(c.default);v.identifier="x400";v.displayName="X400";t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=f(n);var i=r(2);var a=f(i);var s=r(1);var u=f(s);var l=r(3);var c=r(36);var d=f(c);function f(e){return e&&e.__esModule?e:{default:e}}var p=l.Constants.OptionType,h=l.Constants.UniformType;var v=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var n=arguments.length,i=Array(n),s=0;s<n;s++){i[s]=arguments[s]}var u=(0,a.default)(this,e.call.apply(e,[this].concat(i)));u._fragmentSource=r(225);u._lastBlurRadius=null;u._lastGradientRadius=null;u._lastStart=new l.Vector2;u._lastEnd=new l.Vector2;u._blurredRenderTarget=new l.Engine.CanvasRenderTarget(100,100,1);u._maskRenderTarget=new l.Engine.CanvasRenderTarget(100,100,1);return u}t.prototype._applyCanvas=function e(t,r,n){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var i=r.getDimensions();var a=!this._blurredRenderTarget.getDimensions().equals(i);this._blurredRenderTarget.setPixelRatio(r.getPixelRatio());this._blurredRenderTarget.resizeTo(r.getDimensions());this._maskRenderTarget.setPixelRatio(r.getPixelRatio());this._maskRenderTarget.resizeTo(r.getDimensions());if(!this._outputRenderTexture){this._outputRenderTexture=new l.Engine.RenderTexture(t,r.getWidth(),r.getHeight(),r.getPixelRatio())}if(!this._lastStart.equals(this._options.start)||!this._lastEnd.equals(this._options.end)||this._lastGradientRadius!==this._options.size||a){this._renderMask();this._lastStart=this._options.start.clone();this._lastEnd=this._options.end.clone();this._lastGradientRadius=this._options.size}if(this._lastBlurRadius!==this._options.blurRadius||a){this._blurImage(r);this._lastBlurRadius=this._options.blurRadius}this._applyMask(r,n)};t.prototype._blurImage=function e(t){var r=t.getCanvas();var n=t.getContext();var o=new l.Vector2(r.width,r.height);var i=n.getImageData(0,0,r.width,r.height);d.default.stackBlurCanvasRGBA(i,0,0,r.width,r.height,this._options.blurRadius*o.min());var a=this._blurredRenderTarget.getContext();a.putImageData(i,0,0)};t.prototype._renderMask=function e(){var t=this._maskRenderTarget.getCanvas();var r=this._maskRenderTarget.getContext();var n=this._maskRenderTarget.getPixelRatio();var o=new l.Vector2(t.width,t.height);var i=this._options.size*o.min()*n;var a=this._options.gradientSize*o.min()*n;var s=this._options.start.clone().multiply(o);var u=this._options.end.clone().multiply(o);var c=u.clone().subtract(s);var d=s.clone().add(c.clone().divide(2));var f=c.len();var p=c.clone().divide(f);var h=d.clone().add((i+a)*p.y,-(i+a)*p.x);var v=d.clone().add(-(i+a)*p.y,(i+a)*p.x);var m=r.createLinearGradient(h.x,h.y,v.x,v.y);var _=v.clone().subtract(h).len();m.addColorStop(0,"#000000");m.addColorStop(a/2/_,"#FFFFFF");m.addColorStop(1-a/2/_,"#FFFFFF");m.addColorStop(1,"#000000");r.fillStyle=m;r.fillRect(0,0,t.width,t.height)};t.prototype._applyMask=function e(t,r){var n=r.getContext();var o=t.getCanvas();var i=t.getContext();var a=this._blurredRenderTarget.getContext();var s=this._maskRenderTarget.getContext();var u=i.getImageData(0,0,o.width,o.height);var l=u.data;var c=a.getImageData(0,0,o.width,o.height).data;var d=s.getImageData(0,0,o.width,o.height).data;var f=void 0;for(var p=0;p<o.width*o.height*4;p+=4){f=d[p]/255;l[p]=f*l[p]+(1-f)*c[p];l[p+1]=f*l[p+1]+(1-f)*c[p+1];l[p+2]=f*l[p+2]+(1-f)*c[p+2]}n.putImageData(u,0,0)};return t}(l.Engine.Filter);v.prototype.availableOptions={blurRadius:{type:p.NUMBER,default:30,uniformType:h.FLOAT},size:{type:p.NUMBER,default:50,uniformType:h.FLOAT},gradientSize:{type:p.NUMBER,default:50,uniformType:h.FLOAT},start:{type:p.VECTOR2,default:new l.Vector2(0,.5),uniformType:h.FLOAT2},end:{type:p.VECTOR2,default:new l.Vector2(1,.5),uniformType:h.FLOAT2},delta:{type:p.VECTOR2,default:new l.Vector2(1,1),uniformType:h.FLOAT2},texSize:{type:p.VECTOR2,default:new l.Vector2(100,100),uniformType:h.FLOAT2}};t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=f(n);var i=r(2);var a=f(i);var s=r(1);var u=f(s);var l=r(3);var c=r(36);var d=f(c);function f(e){return e&&e.__esModule?e:{default:e}}var p=l.Constants.UniformType,h=l.Constants.OptionType;var v=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var n=arguments.length,i=Array(n),s=0;s<n;s++){i[s]=arguments[s]}var u=(0,a.default)(this,e.call.apply(e,[this].concat(i)));u._fragmentSource=r(226);u._lastBlurRadius=null;u._lastGradientRadius=null;u._lastPosition=new l.Vector2;u._blurredRenderTarget=new l.Engine.CanvasRenderTarget(100,100,1);u._maskRenderTarget=new l.Engine.CanvasRenderTarget(100,100,1);return u}t.prototype._applyCanvas=function e(t,r,n){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var i=r.getDimensions();var a=!this._blurredRenderTarget.getDimensions().equals(i);this._blurredRenderTarget.setPixelRatio(r.getPixelRatio());this._blurredRenderTarget.resizeTo(r.getDimensions());this._maskRenderTarget.setPixelRatio(r.getPixelRatio());this._maskRenderTarget.resizeTo(r.getDimensions());if(!this._outputRenderTexture){this._outputRenderTexture=new l.Engine.RenderTexture(t,r.getWidth(),r.getHeight(),r.getPixelRatio())}if(!this._lastPosition.equals(this._options.position)||this._lastGradientRadius!==this._options.gradientRadius||a){this._renderMask();this._lastPosition=this._options.position.clone();this._lastGradientRadius=this._options.gradientRadius}if(this._lastBlurRadius!==this._options.blurRadius||a){this._blurImage(r);this._lastBlurRadius=this._options.blurRadius}this._applyMask(r,n)};t.prototype._blurImage=function e(t){var r=t.getCanvas();var n=t.getContext();var o=new l.Vector2(r.width,r.height);var i=n.getImageData(0,0,r.width,r.height);d.default.stackBlurCanvasRGBA(i,0,0,r.width,r.height,this._options.blurRadius*o.min());var a=this._blurredRenderTarget.getContext();a.putImageData(i,0,0)};t.prototype._renderMask=function e(){var t=this._maskRenderTarget.getCanvas();var r=this._maskRenderTarget.getContext();var n=new l.Vector2(t.width,t.height);var o=this._maskRenderTarget.getPixelRatio();var i=this._options.position.clone().multiply(n);var a=this._options,s=a.radius,u=a.gradientRadius;s*=t.height;u*=t.height;var c=r.createRadialGradient(i.x,i.y,0,i.x,i.y,(s+u)*o);c.addColorStop(0,"#FFFFFF");c.addColorStop(s/(s+u),"#FFFFFF");c.addColorStop(1,"#000000");r.fillStyle=c;r.fillRect(0,0,n.x,n.y)};t.prototype._applyMask=function e(t,r){var n=r.getContext();var o=t.getCanvas();var i=t.getContext();var a=this._blurredRenderTarget.getContext();var s=this._maskRenderTarget.getContext();var u=i.getImageData(0,0,o.width,o.height);var l=u.data;var c=a.getImageData(0,0,o.width,o.height).data;var d=s.getImageData(0,0,o.width,o.height).data;var f=void 0;for(var p=0;p<o.width*o.height*4;p+=4){f=d[p]/255;l[p]=f*l[p]+(1-f)*c[p];l[p+1]=f*l[p+1]+(1-f)*c[p+1];l[p+2]=f*l[p+2]+(1-f)*c[p+2]}n.putImageData(u,0,0)};return t}(l.Engine.Filter);v.prototype.availableOptions={blurRadius:{type:h.NUMBER,default:30,uniformType:p.FLOAT},radius:{type:h.NUMBER,default:50,uniformType:p.FLOAT},gradientRadius:{type:h.NUMBER,default:25,uniformType:p.FLOAT},position:{type:h.VECTOR2,default:new l.Vector2(.5,.5),uniformType:p.FLOAT2},delta:{type:h.VECTOR2,default:new l.Vector2(1,1),uniformType:p.FLOAT2},texSize:{type:h.VECTOR2,default:new l.Vector2(100,100),uniformType:p.FLOAT2}};t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(21);var o=h(n);var i=r(0);var a=h(i);var s=r(2);var u=h(s);var l=r(1);var c=h(l);var d=r(3);var f=r(10);var p=h(f);function h(e){return e&&e.__esModule?e:{default:e}}var v=d.Constants.OptionType,m=d.Constants.RendererType;var _=void 0;if(true){_=window.Image}var g=function(e){(0,c.default)(t,e);function t(){(0,a.default)(this,t);for(var r=arguments.length,n=Array(r),o=0;o<r;o++){n[o]=arguments[o]}var i=(0,u.default)(this,e.call.apply(e,[this].concat(n)));i._colorOverlayFilter=new d.Engine.Filters.ColorOverlayFilter({color:i.getTintColor()});i._frameContainer=new d.Engine.Container;i._resetSprites();if(i._options.frame){i._createSpritesForFrame(i._options.frame)}return i}t.prototype._resetSprites=function e(){this._spriteGroups={top:{},left:{},right:{},bottom:{}};this._sprites=[];this._repeatSprites={top:[],left:[],right:[],bottom:[]}};t.prototype._createSpritesForFrame=function e(t){var r=this;if(!t)return this._disposeSprites();var n=t.imageGroups,o=t.layoutMode;this._layoutMode=o||"horizontal-inside";this._disposeSprites();["top","left","right","bottom"].forEach(function(e){if(typeof n[e]==="undefined")return;["start","mid","end"].forEach(function(t){if(typeof n[e][t]==="undefined")return;var o=n[e][t];if("image"in o){o=o.image}var i=d.Engine.Texture.fromImage(o);var a=new d.Engine.Sprite(i);r._spriteGroups[e][t]=a;r._sprites.push(a);r._frameContainer.addChild(a)})})};
t.prototype._render=function e(t){var r=this._renderTexture.getDimensions();if(this._options.frame){this._colorOverlayFilter.setColor(this.getTintColor());this._updateSprites(t)}if(!this._frameRenderTexture){this._frameRenderTexture=new d.Engine.RenderTexture(this._sdk.getRenderer(),r.x,r.y);this._frameSprite=new d.Engine.Sprite(this._frameRenderTexture);this._container.addChild(this._frameSprite)}else{this._frameRenderTexture.resizeTo(r)}var n=this._sdk.getRenderer().isOfType(m.WEBGL);if(n){if(this._options.frame&&this._options.frame.tintable){this._frameSprite.setFilters([this._colorOverlayFilter])}else{this._frameSprite.setFilters([])}}this._frameRenderTexture.clear();this._frameRenderTexture.render(this._frameContainer);this._renderTexture.render(this._container);return d.Promise.resolve(this._renderTexture)};t.prototype._updateSprites=function e(t){var r=t.getDimensions();this._frameWidth=Math.ceil(t.getDimensions().min()*this._options.scale);this._updateHorizontalSpriteGroup(t,"top",0);this._updateHorizontalSpriteGroup(t,"bottom",r.y-this._frameWidth);this._updateVerticalSpriteGroup(t,"left",0);this._updateVerticalSpriteGroup(t,"right",r.x-this._frameWidth)};t.prototype._updateHorizontalSpriteGroup=function e(t,r){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var o=t.getDimensions();var i=this._layoutMode==="horizontal-inside";var a=this._spriteGroups[r].start;var s=this._spriteGroups[r].mid;var u=this._spriteGroups[r].end;var l=0;var c=0;var f=void 0,p=void 0;if(a){f=a.getTexture().getDimensions();p=f.y/f.x;l=Math.floor(this._frameWidth/p);var h=new d.Vector2(0,n);h.x=i?this._frameWidth:0;a.setPosition(h);a.setHeight(this._frameWidth);a.setWidth(l)}if(u){f=u.getTexture().getDimensions();p=f.y/f.x;c=Math.floor(this._frameWidth*p);var v=new d.Vector2(o.x-c,n);v.x-=i?this._frameWidth:0;u.setPosition(v);u.setHeight(this._frameWidth);u.setWidth(c)}if(s){f=s.getTexture().getDimensions();p=f.y/f.x;var m=new d.Vector2(l,n);var _=o.x-l-c;if(i){m.x+=this._frameWidth;_-=this._frameWidth*2}s.setPosition(m);s.setWidth(_);s.setHeight(this._frameWidth);if(this._options.frame.imageGroups[r].mid.mode==="repeat"){var g=this._frameWidth/p;var y=Math.ceil(_/g);var b=0;if(y!==-1){var x=Math.round(_/y);s.setWidth(x);b+=x;this._ensureRepeatSpritesExist(y-1,r,s);for(var E=0;E<y-1;E++){x=Math.round((_-b)/(y-E-1));var C=this._repeatSprites[r][E];var w=m.clone().add(b,0).floor();C.setPosition(w);C.setWidth(x);C.setHeight(this._frameWidth);b+=x}}}}};t.prototype._ensureRepeatSpritesExist=function e(t,r,n){var o=this;n.getTexture().setMaxListeners(t+1);var i=this._repeatSprites[r].length;if(t>i){var a=t-i;for(var s=0;s<a;s++){var u=new d.Engine.Sprite(n.getTexture());this._repeatSprites[r].push(u);this._frameContainer.addChild(u);this._sprites.push(u)}}else if(t<i){var l=this._repeatSprites[r].splice(t);l.forEach(function(e){var t=o._sprites.indexOf(e);if(t===-1)return;o._sprites.splice(t,1);o._frameContainer.removeChild(e);e.dispose()})}};t.prototype._updateVerticalSpriteGroup=function e(t,r){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:0;var o=t.getDimensions();var i=this._layoutMode==="vertical-inside";var a=this._spriteGroups[r].start;var s=this._spriteGroups[r].mid;var u=this._spriteGroups[r].end;var l=0;var c=0;var f=void 0,p=void 0;if(a){f=a.getTexture().getDimensions();p=f.y/f.x;l=Math.floor(this._frameWidth*p);var h=new d.Vector2(n,0);h.y=i?this._frameWidth:0;a.setPosition(h);a.setWidth(this._frameWidth);a.setHeight(l)}if(u){f=u.getTexture().getDimensions();p=f.y/f.x;c=Math.floor(this._frameWidth*p);var v=new d.Vector2(n,o.y-c);v.y-=i?this._frameWidth:0;u.setPosition(v);u.setWidth(this._frameWidth);u.setHeight(c)}if(s){f=s.getTexture().getDimensions();p=f.y/f.x;var m=new d.Vector2(n,l);var _=o.y-l-c;if(i){m.y+=this._frameWidth;_-=this._frameWidth*2}s.setPosition(m);s.setHeight(_);s.setWidth(this._frameWidth);if(this._options.frame.imageGroups[r].mid.mode==="repeat"){var g=this._frameWidth*p;var y=Math.ceil(_/g);var b=0;if(y!==-1){var x=Math.round(_/y);s.setHeight(x);b+=x;this._ensureRepeatSpritesExist(y-1,r,s);for(var E=0;E<y-1;E++){x=Math.round((_-b)/(y-E-1));var C=this._repeatSprites[r][E];var w=m.clone().add(0,b).floor();C.setPosition(w);C.setHeight(x);C.setWidth(this._frameWidth);b+=x}}}}};t.prototype._disposeSprites=function e(){var t=this;this._sprites.forEach(function(e){t._frameContainer.removeChild(e);var r=e.getTexture().getBaseTexture();r.dispose();e.dispose()});this._resetSprites()};t.prototype.dispose=function t(){e.prototype.dispose.call(this);this._disposeSprites()};t.validateFrame=function e(t){if(!t)return;var r=t.imageGroups,n=t.layoutMode;if(typeof t.name!=="string"){throw new Error("Frame needs a property `name` of type String.")}if(typeof t.label!=="string"){throw new Error("Frame needs a property `label` of type String.")}if((0,o.default)(t.imageGroups)!=="object"){throw new Error("Frame needs a property `imageGroups` of type Object.")}var i=function e(t){var n=r[t],i=n.start,a=n.end,s=n.mid;if(typeof r[t]==="undefined")return;if((0,o.default)(r[t])!=="object"){throw new Error("Frame: `imageGroups."+t+"` needs to be of type Object.")}if(typeof i!=="undefined"&&!(i instanceof _||typeof HTMLImageElement!=="undefined"&&i instanceof HTMLImageElement)){throw new Error("Frame: `imageGroups."+t+".start` needs to be of type Image.")}if(typeof s!=="undefined"&&!(i instanceof _||typeof HTMLImageElement!=="undefined"&&i instanceof HTMLImageElement)&&(typeof s==="undefined"?"undefined":(0,o.default)(s))!=="object"){throw new Error("Frame: `imageGroups."+t+".mid` needs to be of type Image or Object.")}if(typeof a!=="undefined"&&!(a instanceof _||typeof HTMLImageElement!=="undefined"&&a instanceof HTMLImageElement)){throw new Error("Frame: `imageGroups."+t+".end` needs to be of type Image.")}};if(typeof n!=="undefined"&&["vertical-inside","horizontal-inside"].indexOf(n)===-1){throw new Error("Frame: `layoutMode` must be one of vertical-inside, horizontal-inside")}if(typeof tintable!=="undefined"&&typeof tintable!=="boolean"){throw new Error("Frame: `tintable` needs to be of type Boolean.")}i("top");i("left");i("right");i("bottom")};return t}(p.default);g.identifier="frame";g.prototype.availableOptions={frame:{type:v.OBJECT,validation:g.validateFrame,setter:function e(t,r){if(!r){this._createSpritesForFrame(t)}return t}},tintColor:{type:v.COLOR,default:new d.Color(1,1,1,0)},scale:{type:v.NUMBER,default:.1}};t.default=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=m(n);var i=r(2);var a=m(i);var s=r(1);var u=m(s);var l=r(3);var c=r(10);var d=m(c);var f=r(7);var p=m(f);var h=r(165);var v=m(h);function m(e){return e&&e.__esModule?e:{default:e}}var _=l.Constants.OptionType;var g=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._lastBlurRadius=s._options.blurRadius;s._lastSize=s._options.size;s._lastGradientSize=s._options.gradientSize;s._horizontalFilter=new v.default;s._verticalFilter=new v.default;s._sprite.setFilters([s._horizontalFilter,s._verticalFilter]);s._horizontalFilter.setDelta(new l.Vector2(1,1));s._verticalFilter.setDelta(new l.Vector2(-1,1));s._filter=new v.default;return s}t.prototype.rotate=function e(t){var r=this._options.start;var n=this._options.end;if(t===90){r.flip();r.x=1-r.x;n.flip();n.x=1-n.x}else if(t===-90){r.flip();r.y=1-r.y;n.flip();n.y=1-n.y}this.set({start:r,end:n})};t.prototype.flip=function e(t){var r=this._options.start;var n=this._options.end;switch(t){case"horizontal":r.x=1-r.x;n.x=1-n.x;break;case"vertical":r.y=1-r.y;n.y=1-n.y;break}this.set({start:r,end:n})};t.prototype._renderWebGL=function e(t){var r=t.getDimensions();var n=r.min();var o=this._options.start.clone();var i=this._options.end.clone();var a=this._options,s=a.blurRadius,u=a.size,l=a.gradientSize;var c={blurRadius:s*n,size:u*n,gradientSize:l*n,start:o.clone().multiply(r),end:i.clone().multiply(r),texSize:r};this._horizontalFilter.set(c);this._verticalFilter.set(c);this._renderTexture.render(this._container);return p.default.resolve()};t.prototype._renderCanvas=function e(t){var r=t.getDimensions();var n=this._options,o=n.blurRadius,i=n.size,a=n.gradientSize,s=n.start,u=n.end;this._filter.set({blurRadius:o,gradientSize:a,size:i,start:s.clone(),end:u.clone(),texSize:r});this._sprite.setFilters([this._filter]);this._renderTexture.render(this._container);return p.default.resolve()};t.prototype.dispose=function t(){e.prototype.dispose.call(this);this._filter.dispose();this._verticalFilter.dispose();this._horizontalFilter.dispose()};return t}(d.default);g.identifier="linear-focus";g.prototype.availableOptions={start:{type:_.VECTOR2,default:new l.Vector2(0,.5)},end:{type:_.VECTOR2,default:new l.Vector2(1,.5)},blurRadius:{type:_.NUMBER,default:.025},size:{type:_.NUMBER,default:.1},gradientSize:{type:_.NUMBER,default:.1}};t.default=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=m(n);var i=r(2);var a=m(i);var s=r(1);var u=m(s);var l=r(3);var c=r(7);var d=m(c);var f=r(20);var p=m(f);var h=r(10);var v=m(h);function m(e){return e&&e.__esModule?e:{default:e}}var _=l.Constants.OptionType;var g=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);return(0,a.default)(this,e.apply(this,arguments))}t.prototype._render=function e(t){var r=this._options.rotation%360;var n=r*(Math.PI/180);this._sprite.setScale(this._options.flipHorizontally?-1:1,this._options.flipVertically?-1:1);this._sprite.setRotation(n);this._sprite.setAnchor(.5,.5);this._sprite.updateTransform();var o=this._sprite.getBounds();this._renderTexture.resizeTo(new p.default(o.width,o.height));this._sprite.setPosition(this._renderTexture.getDimensions().divide(2));this._renderTexture.render(this._container);return d.default.resolve()};t.prototype.getNewDimensions=function e(t){t=t.clone();if(this._options.rotation%180){t.flip()}return t};t.prototype.flip=function e(t){var r=this._options.rotation;if(r===90||r===270){if(t==="vertical"){t="horizontal"}else{t="vertical"}}switch(t){case"vertical":this.setFlipVertically(!this.getFlipVertically());break;case"horizontal":this.setFlipHorizontally(!this.getFlipHorizontally());break}};return t}(v.default);g.identifier="orientation";g.prototype.availableOptions={rotation:{type:_.NUMBER,default:0,validation:function e(t){if(t%90!==0){throw new Error("OrientationOperation: `rotation` has to be a multiple of 90.")}},setter:function e(t){return(t+360)%360}},flipVertically:{type:_.BOOLEAN,default:false},flipHorizontally:{type:_.BOOLEAN,default:false}};t.default=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=m(n);var i=r(2);var a=m(i);var s=r(1);var u=m(s);var l=r(3);var c=r(10);var d=m(c);var f=r(7);var p=m(f);var h=r(166);var v=m(h);function m(e){return e&&e.__esModule?e:{default:e}}var _=l.Constants.OptionType;var g=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._lastBlurRadius=s._options.blurRadius;s._lastGradientRadius=s._options.gradientRadius;s._horizontalFilter=new v.default;s._verticalFilter=new v.default;s._sprite.setFilters([s._horizontalFilter,s._verticalFilter]);s._horizontalFilter.setDelta(new l.Vector2(1,1));s._verticalFilter.setDelta(new l.Vector2(-1,1));s._filter=new v.default;return s}t.prototype.rotate=function e(t){var r=this._options.position;if(t===90){r.flip();r.x=1-r.x}else if(t===-90){r.flip();r.y=1-r.y}this.set({position:r})};t.prototype.flip=function e(t){var r=this._options.position;switch(t){case"horizontal":r.x=1-r.x;break;case"vertical":r.y=1-r.y;break}this.set({position:r})};t.prototype._renderWebGL=function e(t){var r=t.getDimensions();var n=r.min();var o=this._options,i=o.position,a=o.blurRadius,s=o.radius,u=o.gradientRadius;var l={blurRadius:a*n,radius:s*n,gradientRadius:u*n,position:i.clone().multiply(r),texSize:r};this._horizontalFilter.set(l);this._verticalFilter.set(l);this._renderTexture.render(this._container);return p.default.resolve()};t.prototype._renderCanvas=function e(t){var r=this._options,n=r.blurRadius,o=r.radius,i=r.gradientRadius,a=r.position;var s=t.getDimensions();this._filter.set({blurRadius:n,radius:o,gradientRadius:i,position:a,texSize:s});this._sprite.setFilters([this._filter]);this._renderTexture.render(this._container);return p.default.resolve()};t.prototype.dispose=function t(){e.prototype.dispose.call(this);this._filter.dispose();this._verticalFilter.dispose();this._horizontalFilter.dispose()};return t}(d.default);g.identifier="radial-focus";g.prototype.availableOptions={position:{type:_.VECTOR2,default:new l.Vector2(.5,.5)},radius:{type:_.NUMBER,default:.25},gradientRadius:{type:_.NUMBER,default:.125},blurRadius:{type:_.NUMBER,default:.025}};t.default=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=b(n);var i=r(2);var a=b(i);var s=r(1);var u=b(s);var l=r(3);var c=r(10);var d=b(c);var f=r(81);var p=b(f);var h=r(7);var v=b(h);var m=r(172);var _=b(m);var g=r(173);var y=b(g);function b(e){return e&&e.__esModule?e:{default:e}}var x=l.Constants.OptionType,E=l.Constants.RendererType;var C=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));var u=s._sdk.getRenderer();s._lastBlurRadius=null;s._blurredRenderTexture=new l.Engine.RenderTexture(u,100,100,1);s._maskRenderTexture=new l.Engine.RenderTexture(u,100,100,1);s._brush=new p.default(s);s._brushContainer=new l.Engine.Container;var c=s._brush.getDisplayObject();s._brushContainer.addChild(c);s._outputSprite=new l.Engine.Sprite;s._outputContainer=new l.Engine.Container;s._outputContainer.addChild(s._outputSprite);s._maskFilter=new y.default;if(u.isOfType(E.WEBGL)){s._horizontalFilter=new _.default;s._verticalFilter=new _.default;s._sprite.setFilters([s._horizontalFilter,s._verticalFilter]);s._horizontalFilter.setDelta(new l.Vector2(1,1));s._verticalFilter.setDelta(new l.Vector2(-1,1));var d=s._maskRenderTexture.getBaseTexture();d.setGLUnit(s._maskFilter.getMaskImage());u.updateTexture(d,false);d=s._blurredRenderTexture.getBaseTexture();d.setGLUnit(s._maskFilter.getFilterImage());u.updateTexture(d,false)}else if(u.isOfType(E.CANVAS)){s._blurFilter=new _.default;s._sprite.setFilters([s._blurFilter]);s._maskFilter.setMaskCanvas(s._maskRenderTexture.getRenderTarget().getCanvas());s._maskFilter.setFilterCanvas(s._blurredRenderTexture.getRenderTarget().getCanvas())}s._outputSprite.setFilters([s._maskFilter]);return s}t.prototype.flip=function e(t){this._brush.applyFlip(t);this.setDirty(true,true);this._lastBlurRadius=null};t.prototype.rotate=function e(t){this._brush.applyRotation(t);this.setDirty(true,true);this._lastBlurRadius=null};t.prototype.crop=function e(t,r){this._brush.applyCrop(t,r);this.setDirty(true,true);this._lastBlurRadius=null};t.prototype._render=function e(t){this._renderBlur(t);this._renderMask(t);this._outputSprite.setTexture(t);this._renderTexture.render(this._outputContainer);return v.default.resolve()};t.prototype._renderMask=function e(t){var r=t.getDimensions();var n=this._maskRenderTexture.getDimensions();if(!n.equals(r)){this._maskRenderTexture.resizeTo(r)}this._brush.update(this._sdk,r);this._maskRenderTexture.clear(l.Color.BLACK);this._maskRenderTexture.render(this._brushContainer);var o=this._sdk.getRenderer();if(o.isOfType(E.WEBGL)){o.updateTexture(this._maskRenderTexture.getBaseTexture(),false)}};t.prototype._renderBlur=function e(t){var r=t.getDimensions();var n=this._blurredRenderTexture.getDimensions();if(!n.equals(r)){this._blurredRenderTexture.resizeTo(r)}var o=this._options.blurRadius;if(this._lastBlurRadius!==o||!n.equals(r)){var i=this._sdk.getRenderer();var a=void 0;if(i.isOfType(E.WEBGL)){var s=r.min();a={blurRadius:o*s,texSize:r};this._horizontalFilter.set(a);this._verticalFilter.set(a)}else if(i.isOfType(E.CANVAS)){a={blurRadius:o};this._blurFilter.set(a)}this._blurredRenderTexture.render(this._container);this._lastBlurRadius=o}};t.prototype.getBrush=function e(){return this._brush};t.prototype.createPath=function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:1;var n=this._brush.createPath(t,r,l.Color.WHITE);this._options.paths.push(n);this.setDirty(true);return n};t.prototype.setDirtyForRenderer=function t(r,n,o){e.prototype.setDirtyForRenderer.call(this,r,n,o);this._brush.setDirtyForRenderer(r,n,o)};t.prototype.dispose=function t(){e.prototype.dispose.call(this);var r=this._sdk.getRenderer();if(r.isOfType(E.WEBGL)){this._verticalFilter.dispose();this._horizontalFilter.dispose()}else{this._blurFilter.dispose()}this._brush.dispose();this._maskFilter.dispose();this._blurredRenderTexture.dispose();this._maskRenderTexture.dispose()};return t}(d.default);C.identifier="selective-blur";C.prototype.availableOptions={blurRadius:{type:x.NUMBER,default:.05},paths:{type:x.ARRAY,default:[],setter:function e(t){if(this._brush){this._brush.setPaths(t)}return t}}};t.default=C},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=f(n);var i=r(2);var a=f(i);var s=r(1);var u=f(s);var l=r(3);var c=r(36);var d=f(c);function f(e){return e&&e.__esModule?e:{default:e}}var p=l.Constants.OptionType,h=l.Constants.UniformType;var v=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var n=arguments.length,i=Array(n),s=0;s<n;s++){i[s]=arguments[s]}var u=(0,a.default)(this,e.call.apply(e,[this].concat(i)));u._fragmentSource=r(229);u._lastBlurRadius=null;return u}t.prototype._applyCanvas=function e(t,r,n){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var i=r.getDimensions();var a=!n.getDimensions().equals(i);n.setPixelRatio(r.getPixelRatio());n.resizeTo(r.getDimensions());if(this._lastBlurRadius!==this._options.blurRadius||a){this._blurImage(r,n);this._lastBlurRadius=this._options.blurRadius}};t.prototype._blurImage=function e(t,r){var n=t.getCanvas();var o=t.getContext();var i=new l.Vector2(n.width,n.height);var a=o.getImageData(0,0,n.width,n.height);d.default.stackBlurCanvasRGBA(a,0,0,n.width,n.height,this._options.blurRadius*i.min());var s=r.getContext();s.putImageData(a,0,0)};return t}(l.Engine.Filter);v.prototype.availableOptions={blurRadius:{type:p.NUMBER,default:30,uniformType:h.FLOAT},delta:{type:p.VECTOR2,default:new l.Vector2(1,1),uniformType:h.FLOAT2},texSize:{type:p.VECTOR2,default:new l.Vector2(100,100),uniformType:h.FLOAT2}};t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=c(n);var i=r(2);var a=c(i);var s=r(1);var u=c(s);var l=r(3);function c(e){return e&&e.__esModule?e:{default:e}}var d=l.Constants.OptionType,f=l.Constants.UniformType;var p=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);var n=(0,a.default)(this,e.call(this));n._fragmentSource=r(231);return n}t.prototype._applyCanvas=function e(t,r,n){var o=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;var i=r.getCanvas();var a=r.getContext();var s=n.getContext();var u=this._options,l=u.maskCanvas,c=u.filterCanvas;var d=l.getContext("2d");var f=c.getContext("2d");var p=d.getImageData(0,0,i.width,i.height).data;var h=a.getImageData(0,0,i.width,i.height);var v=h.data;var m=f.getImageData(0,0,i.width,i.height).data;var _=void 0;for(var g=0;g<i.width*i.height*4;g+=4){_=p[g]/255;v[g]=_*m[g]+(1-_)*v[g];v[g+1]=_*m[g+1]+(1-_)*v[g+1];v[g+2]=_*m[g+2]+(1-_)*v[g+2]}s.putImageData(h,0,0)};return t}(l.Engine.Filter);p.prototype.availableOptions={maskImage:{type:d.NUMBER,default:1,uniformType:f.INT},maskCanvas:{type:d.OBJECT,default:null},filterImage:{type:d.NUMBER,default:2,uniformType:f.INT},filterCanvas:{type:d.OBJECT,default:null}};t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=b(n);var i=r(2);var a=b(i);var s=r(1);var u=b(s);var l=r(3);var c=r(10);var d=b(c);var f=r(35);var p=b(f);var h=r(177);var v=b(h);var m=r(178);var _=b(m);var g=r(81);var y=b(g);function b(e){return e&&e.__esModule?e:{default:e}}var x=l.Constants.OptionType;var E=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._onSpriteUpdate=s._onSpriteUpdate.bind(s);var u=s._options.sprites.slice();u.forEach(function(e){s.removeSprite(e);s.addSprite(e)});return s}t.prototype.getSpritesOfType=function e(t){return this._options.sprites.filter(function(e){return e instanceof t})};t.prototype.rotate=function e(t){this._options.sprites.forEach(function(e){e.applyRotation(t)})};t.prototype.flip=function e(t){this._options.sprites.forEach(function(e){e.applyFlip(t)})};t.prototype._onSpriteUpdate=function e(t,r){this.setDirty(true)};t.prototype._applyRotation=function e(t,r){this._options.sprites.forEach(function(e){return e.applyRotation(t,r)})};t.prototype.crop=function e(t,r){this._options.sprites.forEach(function(e){return e.applyCrop(t,r)})};t.prototype._serializeOption=function t(r){if(r==="sprites"){return this._options.sprites.map(function(e){return e.serializeOptions()})}return e.prototype._serializeOption.call(this,r)};t.prototype.createSticker=function e(t){return new v.default(this,t)};t.prototype.createText=function e(t){return new _.default(this,t)};t.prototype.createBrush=function e(t){return new y.default(this,t)};t.prototype.addSprite=function e(t){this._options.sprites.push(t);this._container.addChild(t.getDisplayObject());this.setDirty(true);t.on("update",this._onSpriteUpdate)};t.prototype.removeSprite=function e(t){var r=this._options.sprites;var n=r.indexOf(t);if(n!==-1){t.off("update",this._onSpriteUpdate);this._container.removeChild(t.getDisplayObject());r.splice(n,1);this.setDirty(true);return true}return false};t.prototype._render=function e(t){var r=this;var n=this._container;var o=this._options.sprites;var i=t.getDimensions().clone().floor();return l.Promise.all(o.map(function(e){return e.validateSettings()})).then(function(){o.forEach(function(e){e.update(r._sdk,i)});r._renderTexture.clear();r._renderTexture.render(n)})};t.prototype.takeSpriteToFront=function e(t){var r=this._options.sprites;var n=r.indexOf(t);if(n===-1)return;l.Utils.moveArrayItem(r,n,r.length-1);var o=t.getDisplayObject();this._container.removeChild(o);this._container.addChild(o);this.setDirty(true)};t.prototype.getSpritesAtPosition=function e(t,r){var n=this;var o=[];this._options.sprites.forEach(function(e){return e.update(n._sdk,r)});var i=this._sdk.getSprite();var a=i.getWorldTransform().applyInverseToVector(t);var s=i.getTexture().getFrame(),u=s.width,l=s.height;var c=i.getAnchor().clone().multiply(-u,-l);a.subtract(c);var d=this._options.sprites.slice(0).reverse();for(var f=0,p=d.length;f<p;f++){var h=d[f];if(h.getDisplayObject().isAtPosition(a)){o.push(h)}}return o};t.prototype.setDirtyForRenderer=function t(r,n,o){e.prototype.setDirtyForRenderer.call(this,r,n,o);this._options.sprites.forEach(function(e){e.setDirtyForRenderer(r,n,o)})};t.prototype.dispose=function t(){e.prototype.dispose.call(this);this._options.sprites.forEach(function(e){e.dispose()})};return t}(d.default);E.Sticker=v.default;E.Text=_.default;E.Brush=y.default;E.identifier="sprite";E.prototype.availableOptions={sprites:{type:x.ARRAY,default:[],setter:function e(t,r){var n=this;t=t.map(function(e,t){if(e instanceof p.default){return e}var r=e.type;delete e.type;switch(r){case"text":return new _.default(n,e);case"sticker":return new v.default(n,e);case"brush":return new y.default(n,e);default:l.Log.error(n.constructor.name,"Invalid sprite type: "+e.type)}});if(!r){if(this._options.sprites){var o=this._options.sprites.slice();o.forEach(function(e){e.dispose();n.removeSprite(e)})}t.forEach(function(e){n.addSprite(e)})}return t}}};t.default=E},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=a(n);var i=r(3);function a(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(t,r){(0,o.default)(this,e);this._path=t;this._drawnCanvases=[];this._position=r}e.prototype.renderToCanvas=function e(t,r,n){if(this._drawnCanvases.indexOf(r)!==-1){return}var o=new i.Vector2(r.width,r.height);var a=r.getContext("2d");var s=this._position.clone().multiply(o);var u=n.getPosition().clone().multiply(o);var l=s.clone().subtract(u).len();var c=t.width/10;var d=0;while(d<=l){var f=Math.max(0,Math.min(1,d/l));var p=u.x+(s.x-u.x)*f;var h=u.y+(s.y-u.y)*f;a.drawImage(t,p-t.width/2,h-t.height/2);d+=c}this._drawnCanvases.push(r)};e.prototype.setPosition=function e(t){this._position=t};e.prototype.getPosition=function e(){return this._position.clone()};e.prototype.setDirty=function e(){this._drawnCanvases=[]};return e}();t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=f(n);var i=r(2);var a=f(i);var s=r(1);var u=f(s);var l=r(3);var c=r(175);var d=f(c);function f(e){return e&&e.__esModule?e:{default:e}}var p=l.Constants.OptionType;var h=function(e){(0,u.default)(t,e);function t(r,n,i){(0,o.default)(this,t);var s=(0,a.default)(this,e.call(this,n));s._operation=r;s._canvas=i||l.Utils.createCanvas();s._context=s._canvas.getContext("2d");return s}t.prototype.render=function e(t){var r=this._options,n=r.controlPoints,o=r.thickness;if(n.length<2){return}l.Utils.ensureCanvasDimensions(this._canvas,t);if(!this._brush||this._lastBrushThickness!==o||!t.equals(this._brushInputDimensions)){this._brush=this._createBrush(t);this._brushInputDimensions=t.clone();this._lastBrushThickness=o}var i=n[0];var a=i;for(var s=1;s<n.length;s++){a=n[s];a.renderToCanvas(this._brush,this._canvas,i);i=a}};t.prototype._createBrush=function e(t){var r=this._options,n=r.thickness,o=r.hardness,i=r.color;var a=l.Utils.createCanvas();a.width=a.height=Math.ceil(n*t.min());var s=a.getContext("2d");i=i.clone();i.a=1;if(a.width===1){s.fillStyle=i.toRGBA();s.fillRect(0,0,1,1)}else{var u=s.createRadialGradient(a.width/2,a.height/2,Math.min(a.width/2-1,a.width/2*o),a.width/2,a.height/2,a.width/2);u.addColorStop(0,i.toRGBA());var c=i.clone();c.a=0;u.addColorStop(1,c.toRGBA());s.fillStyle=u;s.fillRect(0,0,a.width,a.height)}return a};t.prototype.addControlPoint=function e(t){var r=new d.default(this,t);this._options.controlPoints.push(r);this.emit("update",this)};t.prototype.getCanvas=function e(){return this._canvas};t.prototype.setCanvas=function e(t){this._canvas=t;this._context=t.getContext("2d")};t.prototype.setDirty=function e(){this._context.clearRect(0,0,this._canvas.width,this._canvas.height);this._options.controlPoints.forEach(function(e){e.setDirty()})};t.prototype.forEachControlPoint=function e(t){this._options.controlPoints.forEach(t)};t.prototype.renderToCanvas=function e(t){var r=t.getContext("2d");r.save();r.globalAlpha=this._options.color.a;r.drawImage(this._canvas,0,0);r.restore()};t.prototype.getCanvasDimensions=function e(){return this._canvasDimensions};return t}(l.Configurable);h.prototype.availableOptions={id:{type:p.STRING,default:function e(){return l.Utils.getUUID()}},color:{type:p.COLOR,default:l.Color.RED},hardness:{type:p.NUMBER,default:1},thickness:{type:p.NUMBER,default:.05},controlPoints:{type:p.ARRAY,default:[]},closed:{type:p.BOOLEAN,default:false}};t.default=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=h(n);var i=r(2);var a=h(i);var s=r(1);var u=h(s);var l=r(3);var c=r(35);var d=h(c);var f=r(78);var p=h(f);function h(e){return e&&e.__esModule?e:{default:e}}var v=l.Constants.OptionType,m=l.Constants.RendererType;var _=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));if(s._options.image){s._onImageUpdate()}s._adjustmentsFilter=new p.default;s._onOptionsChange=s._onOptionsChange.bind(s);s._options.adjustments.on("updated",s._onOptionsChange);return s}t.prototype.serializeOptions=function t(r){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var o=e.prototype.serializeOptions.call(this,r,n);if(!r)o.type="sticker";return o};t.prototype._rendersToRenderTexture=function e(t){var r=this._options.smoothDownscaling&&t.getRenderer().isOfType(m.WEBGL);return r||this._hasAdjustments()};t.prototype._getTexture=function e(){return this._inputTexture};t.prototype.update=function e(t,r){var n=this._options,o=n.dimensions,i=n.image;if(o.equals(l.Vector2.NULL)){o.set(i.width,i.height)}if(this._rendersToRenderTexture(t)){this._prepareRenderTexture(t)}if(this._hasAdjustments()){this._renderTextureSprite.setFilters([this._adjustmentsFilter]);var a=this._options.adjustments;this._adjustmentsFilter.set({brightness:a.getBrightness(),saturation:a.getSaturation(),contrast:a.getContrast()})}this._updateSprite(r);if(this._rendersToRenderTexture(t)){this._renderToRenderTexture(t)}this._applyFlip();return l.Promise.resolve()};t.prototype._applyFlip=function e(){var t=this._sprite.getScale();if(this._options.flipVertically){t.y*=-1}if(this._options.flipHorizontally){t.x*=-1}this._sprite.setScale(t)};t.prototype.applyFlip=function t(r){e.prototype.applyFlip.call(this,r);var n={rotation:this._options.rotation};var o=n.rotation/Math.PI*180;var i=o*-1;n.rotation=i*Math.PI/180;switch(r){case"horizontal":n.flipHorizontally=!this._options.flipHorizontally;this.set(n);break;case"vertical":n.flipVertically=!this._options.flipVertically;this.set(n);break}};t.prototype._hasAdjustments=function e(){var t=this._options.adjustments;return t.getBrightness()!==0||t.getSaturation()!==1||t.getContrast()!==1};t.prototype._onImageUpdate=function e(){this._inputTexture=l.Engine.Texture.fromImage(this._options.image);this._identitySprite.setTexture(this._inputTexture);this._sprite.setTexture(this._inputTexture);this.setDirty(true)};t.prototype.setOption=function t(r,n){var o=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;e.prototype.setOption.call(this,r,n,o);if(r==="image"&&this._identitySprite){this._onImageUpdate()}};t.prototype._onOptionsChange=function e(){var t=this._dirtiness;for(var r in t){t[r]=true}};t.prototype.dispose=function t(){e.prototype.dispose.call(this);this._inputTexture.getBaseTexture().dispose();this._inputTexture=null;this._options.adjustments.off("updated",this._onOptionsChange)};return t}(d.default);_.prototype.availableOptions={id:{type:v.STRING,default:function e(){return l.Utils.getUUID()}},name:{type:v.STRING,default:""},image:{type:v.OBJECT,required:true},position:{type:v.VECTOR2,default:l.Vector2.NULL},dimensions:{type:v.VECTOR2,default:l.Vector2.NULL},anchor:{type:v.VECTOR2,default:new l.Vector2(0,0)},pivot:{type:v.VECTOR2,default:new l.Vector2(.5,.5)},rotation:{type:v.NUMBER,default:0},flipHorizontally:{type:v.BOOLEAN,default:false},flipVertically:{type:v.BOOLEAN,default:false},smoothDownscaling:{type:v.BOOLEAN,default:false},adjustments:{type:v.CONFIGURABLE,structure:{brightness:{type:v.NUMBER,default:0},saturation:{type:v.NUMBER,default:1},contrast:{type:v.NUMBER,default:1}}}};t.default=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=h(n);var i=r(2);var a=h(i);var s=r(1);var u=h(s);var l=r(3);var c=r(35);var d=h(c);var f=r(179);var p=h(f);function h(e){return e&&e.__esModule?e:{default:e}}var v=l.Constants.OptionType,m=l.Constants.RendererType;var _=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._textRenderer=new p.default(s,s._operation);s._sprite.setTexture(s._textRenderer.getTexture());
return s}t.prototype.serializeOptions=function t(r){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var o=e.prototype.serializeOptions.call(this,r,n);if(!r)o.type="text";return o};t.prototype.getDOMStyle=function e(t,r){var n=this.getFontSize()*r.y;return{fontWeight:this._options.fontWeight,fontSize:Math.round(n)+"px",fontStyle:this._options.fontStyle,fontFamily:this._options.fontFamily,lineHeight:Math.round(n*this.getLineHeight())+"px",color:this._options.color.toRGBA(),backgroundColor:this._options.backgroundColor.toRGBA(),textAlign:this._options.alignment}};t.prototype.getBoundingBox=function e(t,r){return this._textRenderer.getBoundingBox(t,r)};t.prototype.applyFlip=function t(r){e.prototype.applyFlip.call(this,r);var n=this._options.rotation;switch(r){case"horizontal":n+=(Math.PI-n)*2;this.setRotation(n);break;case"vertical":n+=(Math.PI/2-n)*2;this.setRotation(n);break}};t.prototype.applyCrop=function t(r,n){e.prototype.applyCrop.call(this,r,n);var o=r.getEnd().clone().subtract(r.getStart());var i=n.end.clone().subtract(n.start);var a=i.clone().divide(o);var s=n.scale/r.getScale();this.setFontSize(this.getFontSize()/a.y*s);this.setMaxWidth(this.getMaxWidth()/a.x*s)};t.prototype.applyRotation=function t(r){e.prototype.applyRotation.call(this,r);var n=this._operation.getInputDimensions();this.setMaxWidth(this.getMaxWidth()/n.x*n.y);this.setFontSize(this.getFontSize()/n.y*n.x)};t.prototype.update=function t(r,n){this._textRenderer.update(r,n);var o=this._textRenderer.getTexture();var i=o.getBaseTexture();i.update();var a=r.getRenderer();if(a.isOfType(m.WEBGL)){a.updateTexture(o.getBaseTexture())}e.prototype.update.call(this,r,n);return Promise.resolve()};t.prototype.dispose=function t(){e.prototype.dispose.call(this);this._textRenderer.dispose()};return t}(d.default);_.prototype.availableOptions={id:{type:v.STRING,default:function e(){return l.Utils.getUUID()}},fontSize:{type:v.NUMBER,default:.1},lineHeight:{type:v.NUMBER,default:1.1},fontFamily:{type:v.STRING,default:"Times New Roman"},fontWeight:{type:v.ALL,default:"normal"},fontStyle:{type:v.STRING,default:"normal"},outlineWidth:{type:v.NUMBER,default:0},outlineColor:{type:v.COLOR,default:l.Color.BLACK},alignment:{type:v.STRING,default:"left",available:["left","center","right"]},verticalAlignment:{type:v.STRING,default:"top",available:["top","center","bottom"]},color:{type:v.COLOR,default:new l.Color(1,0,0,1)},backgroundColor:{type:v.COLOR,default:l.Color.TRANSPARENT},position:{type:v.VECTOR2,default:new l.Vector2(.5,.5)},anchor:{type:v.VECTOR2,default:new l.Vector2(0,0)},pivot:{type:v.VECTOR2,default:new l.Vector2(.5,0)},rotation:{type:v.NUMBER,default:0},text:{type:v.STRING,required:true},maxWidth:{type:v.NUMBER,default:.5},maxHeight:{type:v.NUMBER,default:0}};t.default=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=u(n);var i=r(3);var a=r(180);var s=u(a);function u(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t,r){(0,o.default)(this,e);this._text=t;this._operation=r;this._textOptions={};this._createCanvas();this._createMeasurementCanvas();this._createTexture()}e.prototype._createCanvas=function e(){this._canvas=i.Utils.createCanvas();this._context=this._canvas.getContext("2d");this._textSplitter=new s.default(this._context)};e.prototype._createMeasurementCanvas=function e(){this._measurementCanvas=i.Utils.createCanvas();this._measurementContext=this._measurementCanvas.getContext("2d")};e.prototype._createTexture=function e(){this._texture=i.Engine.Texture.fromCanvas(this._canvas)};e.prototype._applyTextOptions=function e(t,r){r.font=this._text.getFontWeight()+" "+t.fontSize+"px "+this._text.getFontFamily();r.textBaseline="top";r.textAlign=this._text.getAlignment();r.fillStyle=this._text.getColor().toRGBA();r.strokeStyle=this._text.getOutlineColor().toRGBA();var n=this._text.getOutlineWidth();if(n>0){r.lineWidth=n}};e.prototype._buildOutputLines=function e(t){this._textSplitter.setText(this._text.getText());this._textSplitter.setMaxWidth(t);return this._textSplitter.getLines()};e.prototype._renderTextLine=function e(t,r){var n=this._text.getAlignment();var o=new i.Vector2(0,r);switch(n){case"center":o.x=this._canvas.width/2;break;case"right":o.x=this._canvas.width;break}this._context.fillText(t,o.x,o.y);var a=this._text.getOutlineWidth();if(a>0){this._context.miterLimit=2;this._context.strokeText(t,o.x,o.y)}};e.prototype.update=function e(t,r){var n=this.calculateFontStyles(t,r);var o=this._calculateText(t,n,r),i=o.boundingBox,a=o.lines;return this._renderText(t,i,a,n,r)};e.prototype._renderText=function e(t,r,n,o,a){var s=this;return new i.Promise(function(e,t){s._canvas.width=r.x;s._canvas.height=r.y;if(s._text.getMaxHeight()){s._canvas.height=Math.min(s._text.getMaxHeight()*a.y,s._canvas.height)}s._context=s._canvas.getContext("2d");s._context.fillStyle=s._text.getBackgroundColor().toRGBA();s._context.fillRect(0,0,r.x,r.y);s._applyTextOptions(o,s._context);for(var i=0;i<n.length;i++){var u=n[i];s._renderTextLine(u,o.lineHeight*i)}e()})};e.prototype.calculateFontStyles=function e(t,r){var n=this._text.getFontFamily();var o=Math.round(this._text.getFontSize()*r.y);var i=Math.round(this._text.getLineHeight()*o);var a={fontFamily:n,fontSize:o,lineHeight:i};if(this._textOptions.fontFamily!==n||this._textOptions.fontSize!==o||this._textOptions.lineHeight!==i){this._maxTextHeight=null;this._textOptions=a}return a};e.prototype._calculateText=function e(t,r,n){var o=this._text.getMaxWidth()*n.x;this._applyTextOptions(r,this._context);var a=new i.Vector2;var s=this._text.getText().split("\n");if(typeof o!=="undefined"){a.x=o;s=this._buildOutputLines(o)}else{for(var u=0;u<s.length;u++){var l=s[u];a.x=Math.max(a.x,this._context.measureText(l).width)}}var c=r.lineHeight;var d=this._getMaxTextHeight(t,r,n)*1.1;a.y+=s.length*c+(d-c);return{boundingBox:a,lines:s}};e.prototype._getMaxTextHeight=function e(t,r,n){if(this._maxTextHeight)return this._maxTextHeight;this._maxTextHeight=this._getMaxTextHeightUsingDOM(t,r,n);return this._maxTextHeight};e.prototype._getMaxTextHeightUsingDOM=function e(t,r,n){var o=document.createElement("span");var i=this._text.getDOMStyle(t,n);var a=["lineHeight"];for(var s in i){if(a.indexOf(s)!==-1){continue}o.style[s]=i[s]}o.style.position="absolute";o.style.left="-9999px";o.style.top="-9999px";o.style.whiteSpace="nowrap";document.body.appendChild(o);o.innerHTML="!\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~";var u=o.offsetHeight;document.body.removeChild(o);return u};e.prototype._getMaxTextHeightUsingCanvas=function e(t,r,n){var o=this._measurementCanvas;var i=this._measurementContext;var a=r.fontSize;o.width=a*10;o.height=a*2;this._applyTextOptions(r,this._measurementContext);i.textBaseline="middle";i.textAlign="center";i.fillStyle="black";i.clearRect(0,0,o.width,o.height);var s="!\"#$%&'()*+,-./0123456789:;<=>?@ABCDEFGHIJKLMNOPQRSTUVWXYZ[\\]^_`abcdefghijklmnopqrstuvwxyz{|}~";var u=s.length;var l=0;while(l<u){var c=s.substr(l,5);l+=5;i.fillText(c,o.width/2,o.height/2)}var d=i.getImageData(0,0,o.width,o.height),f=d.data;var p=void 0;var h=null;for(p=0;p<o.height;p++){var v=false;for(var m=0;m<o.width;m++){var _=(p*o.width+m)*4;var g=f[_]+f[_+1]+f[_+2]+f[_+3];if(g>0){v=true;break}}if(!v){h++;continue}break}var y=o.height;for(p=o.height-1;p>=0;p--){var b=false;for(var x=0;x<o.width;x++){var E=(p*o.width+x)*4;var C=f[E]+f[E+1]+f[E+2]+f[E+3];if(C>0){b=true;break}}if(!b){y--;continue}break}this._maxTextHeight=y-h;return this._maxTextHeight};e.prototype.getTexture=function e(){return this._texture};e.prototype.getBoundingBox=function e(t,r){var n=this.calculateFontStyles(t,r);var o=this._calculateText(t,n,r),i=o.boundingBox;return i};e.prototype.dispose=function e(){this._texture.getBaseTexture().dispose();this._texture=null};return e}();t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=i(n);function i(e){return e&&e.__esModule?e:{default:e}}var a=function(){function e(t){(0,o.default)(this,e);this._context=t;this._lastFontStyle={}}e.prototype.getLines=function e(){var t=[];var r=[];var n=this._lines.length;for(var o=0;o<n;o++){var i=this._lines[o];var a=this._buildWords(i);var s=a.length;for(var u=0;u<s;u++){var l=a[u];var c=r.concat(l).join("").replace(/\s+$/i,"");var d=this._getWidth(c);if(d>this._maxWidth){if(r.length>0){t.push(r.join(""));r=[l]}var f=l.replace(/\s+$/i,"");if(this._getWidth(f)>this._maxWidth){var p=this._splitWord(l);t=t.concat(p.lines);if(p.rest){r=[p.rest]}}}else{r.push(l)}}t.push(r.join(""));r=[]}return t};e.prototype._buildWords=function e(t){var r=[];var n="";var o=t.length;for(var i=0;i<o;i++){var a=t[i];n+=a;if(a===" "||a==="-"||i===o-1){r.push(n);n=""}}return r};e.prototype._splitWord=function e(t){var r={lines:[],rest:null};var n=t.length;var o=[];for(var i=0;i<n;i++){var a=t[i];if(this._getWidth(o.concat(a).join(""))>this._maxWidth){if(o.length>0){r.lines.push(o.join(""))}o=[a]}else{o.push(a)}if(i===n-1&&o.length>0){r.rest=o.join("")}}return r};e.prototype._fontStyleChanged=function e(){if(this._context.font!==this._lastFontStyle){this._lastFontStyle=this._context.font;return true}return false};e.prototype._getWidth=function e(t){return this._context.measureText(t).width};e.prototype.setText=function e(t){this._text=t;this._lines=t.split("\n")};e.prototype.setMaxWidth=function e(t){this._maxWidth=t};return e}();t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=f(n);var i=r(2);var a=f(i);var s=r(1);var u=f(s);var l=r(3);var c=r(10);var d=f(c);function f(e){return e&&e.__esModule?e:{default:e}}var p=l.Constants.OptionType;var h=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._watermarkSprite=new l.Engine.Sprite;s._watermarkSprite.setAnchor(.5,.5);s._container.addChild(s._watermarkSprite);return s}t.prototype._render=function e(t){if(!this._watermarkTexture){this._watermarkTexture=l.Engine.Texture.fromImage(this._options.image);this._watermarkSprite.setTexture(this._watermarkTexture)}var r=t.getDimensions();var n=this._options.image,o=n.width,i=n.height;var a=l.Utils.resizeVectorToFit(new l.Vector2(o,i),r);this._watermarkSprite.setPosition(r.clone().divide(2));this._watermarkSprite.setWidth(a.x);this._watermarkSprite.setHeight(a.y);this._renderTexture.render(this._container);return l.Promise.resolve()};t.prototype.dispose=function t(){e.prototype.dispose.call(this);this._watermarkSprite.dispose()};return t}(d.default);h.identifier="watermark";h.prototype.availableOptions={image:{type:p.OBJECT,required:true}};t.default=h},function(e,t){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=typeof window==="undefined"?e:window;var n=r.requestAnimationFrame;var o=r.cancelAnimationFrame;var i=0;var a=["ms","moz","webkit","o"];for(var s=0;s<a.length&&!n;++s){t.requestAnimationFrame=n=r[a[s]+"RequestAnimationFrame"];t.cancelAnimationFrame=o=r[a[s]+"CancelAnimationFrame"]||r[a[s]+"CancelRequestAnimationFrame"]}if(!n){t.requestAnimationFrame=n=function e(t,r){var n=(new Date).getTime();var o=Math.max(0,16-(n-i));var a=setTimeout(function(){t(n+o)},o);i=n+o;return a}}if(!o){t.cancelAnimationFrame=o=function e(t){clearTimeout(t)}}t.requestAnimationFrame=n;t.cancelAnimationFrame=o}).call(t,function(){return this}())},function(e,t,r){e.exports={default:r(187),__esModule:true}},function(e,t,r){e.exports={default:r(189),__esModule:true}},function(e,t,r){e.exports={default:r(190),__esModule:true}},function(e,t,r){e.exports={default:r(191),__esModule:true}},function(e,t,r){r(212);var n=r(22).Object;e.exports=function e(t,r){return n.create(t,r)}},function(e,t,r){r(213);var n=r(22).Object;e.exports=function e(t,r,o){return n.defineProperty(t,r,o)}},function(e,t,r){r(214);e.exports=r(22).Object.setPrototypeOf},function(e,t,r){r(217);r(215);r(218);r(219);e.exports=r(22).Symbol},function(e,t,r){r(216);r(220);e.exports=r(61).f("iterator")},function(e,t){e.exports=function(e){if(typeof e!="function")throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=function(){}},function(e,t,r){var n=r(18),o=r(209),i=r(208);e.exports=function(e){return function(t,r,a){var s=n(t),u=o(s.length),l=i(a,u),c;if(e&&r!=r)while(u>l){c=s[l++];if(c!=c)return true}else for(;u>l;l++)if(e||l in s){if(s[l]===r)return e||l||0}return!e&&-1}}},function(e,t,r){var n=r(39),o=r(91),i=r(54);e.exports=function(e){var t=n(e),r=o.f;if(r){var a=r(e),s=i.f,u=0,l;while(a.length>u)if(s.call(e,l=a[u++]))t.push(l)}return t}},function(e,t,r){e.exports=r(13).document&&document.documentElement},function(e,t,r){var n=r(84);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return n(e)=="String"?e.split(""):Object(e)}},function(e,t,r){var n=r(84);e.exports=Array.isArray||function e(t){return n(t)=="Array"}},function(e,t,r){"use strict";var n=r(53),o=r(40),i=r(55),a={};r(23)(a,r(24)("iterator"),function(){return this});e.exports=function(e,t,r){e.prototype=n(a,{next:o(1,r)});i(e,t+" Iterator")}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,r){var n=r(39),o=r(18);e.exports=function(e,t){var r=o(e),i=n(r),a=i.length,s=0,u;while(a>s)if(r[u=i[s++]]===t)return u}},function(e,t,r){var n=r(41)("meta"),o=r(30),i=r(16),a=r(17).f,s=0;var u=Object.isExtensible||function(){return true};var l=!r(38)(function(){return u(Object.preventExtensions({}))});var c=function(e){a(e,n,{value:{i:"O"+ ++s,w:{}}})};var d=function(e,t){if(!o(e))return typeof e=="symbol"?e:(typeof e=="string"?"S":"P")+e;if(!i(e,n)){if(!u(e))return"F";if(!t)return"E";c(e)}return e[n].i};var f=function(e,t){if(!i(e,n)){if(!u(e))return true;if(!t)return false;c(e)}return e[n].w};var p=function(e){if(l&&h.NEED&&u(e)&&!i(e,n))c(e);return e};var h=e.exports={KEY:n,NEED:false,fastKey:d,getWeak:f,onFreeze:p}},function(e,t,r){var n=r(17),o=r(28),i=r(39);e.exports=r(15)?Object.defineProperties:function e(t,r){o(t);var a=i(r),s=a.length,u=0,l;while(s>u)n.f(t,l=a[u++],r[l]);return t}},function(e,t,r){var n=r(18),o=r(90).f,i={}.toString;var a=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];var s=function(e){try{return o(e)}catch(e){return a.slice()}};e.exports.f=function e(t){return a&&i.call(t)=="[object Window]"?s(t):o(n(t))}},function(e,t,r){var n=r(16),o=r(210),i=r(56)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){e=o(e);if(n(e,i))return e[i];if(typeof e.constructor=="function"&&e instanceof e.constructor){return e.constructor.prototype}return e instanceof Object?a:null}},function(e,t,r){var n=r(30),o=r(28);var i=function(e,t){o(e);if(!n(t)&&t!==null)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,n){try{n=r(85)(Function.call,r(89).f(Object.prototype,"__proto__").set,2);n(e,[]);t=!(e instanceof Array)}catch(e){t=true}return function e(r,o){i(r,o);if(t)r.__proto__=o;else n(r,o);return r}}({},false):undefined),check:i}},function(e,t,r){var n=r(58),o=r(49);e.exports=function(e){return function(t,r){var i=String(o(t)),a=n(r),s=i.length,u,l;if(a<0||a>=s)return e?"":undefined;u=i.charCodeAt(a);return u<55296||u>56319||a+1===s||(l=i.charCodeAt(a+1))<56320||l>57343?e?i.charAt(a):u:e?i.slice(a,a+2):(u-55296<<10)+(l-56320)+65536}}},function(e,t,r){var n=r(58),o=Math.max,i=Math.min;e.exports=function(e,t){e=n(e);return e<0?o(e+t,0):i(e,t)}},function(e,t,r){var n=r(58),o=Math.min;e.exports=function(e){return e>0?o(n(e),9007199254740991):0}},function(e,t,r){var n=r(49);e.exports=function(e){return Object(n(e))}},function(e,t,r){"use strict";var n=r(193),o=r(200),i=r(51),a=r(18);e.exports=r(88)(Array,"Array",function(e,t){this._t=a(e);this._i=0;this._k=t},function(){var e=this._t,t=this._k,r=this._i++;if(!e||r>=e.length){this._t=undefined;return o(1)}if(t=="keys")return o(0,r);if(t=="values")return o(0,e[r]);return o(0,[r,e[r]])},"values");i.Arguments=i.Array;n("keys");n("values");n("entries")},function(e,t,r){var n=r(29);n(n.S,"Object",{create:r(53)})},function(e,t,r){var n=r(29);n(n.S+n.F*!r(15),"Object",{defineProperty:r(17).f})},function(e,t,r){var n=r(29);n(n.S,"Object",{setPrototypeOf:r(206).set})},function(e,t){},function(e,t,r){"use strict";var n=r(207)(true);r(88)(String,"String",function(e){this._t=String(e);this._i=0},function(){var e=this._t,t=this._i,r;if(t>=e.length)return{value:undefined,done:true};r=n(e,t);this._i+=r.length;return{value:r,done:false}})},function(e,t,r){"use strict";var n=r(13),o=r(16),i=r(15),a=r(29),s=r(93),u=r(202).KEY,l=r(38),c=r(57),d=r(55),f=r(41),p=r(24),h=r(61),v=r(60),m=r(201),_=r(195),g=r(198),y=r(28),b=r(18),x=r(59),E=r(40),C=r(53),w=r(204),S=r(89),T=r(17),R=r(39),M=S.f,O=T.f,k=w.f,P=n.Symbol,D=n.JSON,B=D&&D.stringify,F="prototype",A=p("_hidden"),I=p("toPrimitive"),N={}.propertyIsEnumerable,L=c("symbol-registry"),U=c("symbols"),j=c("op-symbols"),V=Object[F],z=typeof P=="function",W=n.QObject;var H=!W||!W[F]||!W[F].findChild;var G=i&&l(function(){return C(O({},"a",{get:function(){return O(this,"a",{value:7}).a}})).a!=7})?function(e,t,r){var n=M(V,t);if(n)delete V[t];O(e,t,r);if(n&&e!==V)O(V,t,n)}:O;var K=function(e){var t=U[e]=C(P[F]);t._k=e;return t};var q=z&&typeof P.iterator=="symbol"?function(e){return typeof e=="symbol"}:function(e){return e instanceof P};var $=function e(t,r,n){if(t===V)$(j,r,n);y(t);r=x(r,true);y(n);if(o(U,r)){if(!n.enumerable){if(!o(t,A))O(t,A,E(1,{}));t[A][r]=true}else{if(o(t,A)&&t[A][r])t[A][r]=false;n=C(n,{enumerable:E(0,false)})}return G(t,r,n)}return O(t,r,n)};var Y=function e(t,r){y(t);var n=_(r=b(r)),o=0,i=n.length,a;while(i>o)$(t,a=n[o++],r[a]);return t};var X=function e(t,r){return r===undefined?C(t):Y(C(t),r)};var Z=function e(t){var r=N.call(this,t=x(t,true));if(this===V&&o(U,t)&&!o(j,t))return false;return r||!o(this,t)||!o(U,t)||o(this,A)&&this[A][t]?r:true};var J=function e(t,r){t=b(t);r=x(r,true);if(t===V&&o(U,r)&&!o(j,r))return;var n=M(t,r);if(n&&o(U,r)&&!(o(t,A)&&t[A][r]))n.enumerable=true;return n};var Q=function e(t){var r=k(b(t)),n=[],i=0,a;while(r.length>i){if(!o(U,a=r[i++])&&a!=A&&a!=u)n.push(a)}return n};var ee=function e(t){var r=t===V,n=k(r?j:b(t)),i=[],a=0,s;while(n.length>a){if(o(U,s=n[a++])&&(r?o(V,s):true))i.push(U[s])}return i};if(!z){P=function e(){if(this instanceof P)throw TypeError("Symbol is not a constructor!");var t=f(arguments.length>0?arguments[0]:undefined);var r=function(e){if(this===V)r.call(j,e);if(o(this,A)&&o(this[A],t))this[A][t]=false;G(this,t,E(1,e))};if(i&&H)G(V,t,{configurable:true,set:r});return K(t)};s(P[F],"toString",function e(){return this._k});S.f=J;T.f=$;r(90).f=w.f=Q;r(54).f=Z;r(91).f=ee;if(i&&!r(52)){s(V,"propertyIsEnumerable",Z,true)}h.f=function(e){return K(p(e))}}a(a.G+a.W+a.F*!z,{Symbol:P});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),re=0;te.length>re;)p(te[re++]);for(var te=R(p.store),re=0;te.length>re;)v(te[re++]);a(a.S+a.F*!z,"Symbol",{for:function(e){return o(L,e+="")?L[e]:L[e]=P(e)},keyFor:function e(t){if(q(t))return m(L,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){H=true},useSimple:function(){H=false}});a(a.S+a.F*!z,"Object",{create:X,defineProperty:$,defineProperties:Y,getOwnPropertyDescriptor:J,getOwnPropertyNames:Q,getOwnPropertySymbols:ee});D&&a(a.S+a.F*(!z||l(function(){var e=P();return B([e])!="[null]"||B({a:e})!="{}"||B(Object(e))!="{}"})),"JSON",{stringify:function e(t){if(t===undefined||q(t))return;var r=[t],n=1,o,i;while(arguments.length>n)r.push(arguments[n++]);o=r[1];if(typeof o=="function")i=o;if(i||!g(o))o=function(e,t){if(i)t=i.call(this,e,t);if(!q(t))return t};r[1]=o;return B.apply(D,r)}});P[F][I]||r(23)(P[F],I,P[F].valueOf);d(P,"Symbol");d(Math,"Math",true);d(n.JSON,"JSON",true)},function(e,t,r){r(60)("asyncIterator")},function(e,t,r){r(60)("observable")},function(e,t,r){r(211);var n=r(13),o=r(23),i=r(51),a=r(24)("toStringTag");for(var s=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],u=0;u<5;u++){var l=s[u],c=n[l],d=c&&c.prototype;if(d&&!d[a])o(d,a,l);i[l]=i.Array}},function(e,t){e.exports="uniform sampler2D u_image;\nvarying vec2 v_texCoord;\nuniform vec4 u_color;\n\nvoid main() {\n  vec4 color = texture2D(u_image, v_texCoord);\n  gl_FragColor = vec4(mix(color.rgb, u_color.rgb, u_color.a), color.a) * color.a;\n}\n"},function(e,t){e.exports="uniform sampler2D u_image;\nvarying vec2 v_texCoord;\nvarying vec4 v_color;\n\nvoid main() {\n  vec4 color = texture2D(u_image, v_texCoord);\n  gl_FragColor = vec4(color.a > 0. ? color.rgb / color.a : vec3(0), color.a);\n}\n"},function(e,t){e.exports="uniform sampler2D u_image;\nvarying vec2 v_texCoord;\nvarying vec4 v_color;\n\nvoid main() {\n  gl_FragColor = texture2D(u_image, v_texCoord) * v_color;\n}\n"},function(e,t){e.exports="attribute vec2 a_position;\nattribute vec2 a_texCoord;\nattribute vec4 a_color;\nvarying vec2 v_texCoord;\nvarying vec4 v_color;\nuniform mat3 u_projMatrix;\n\nvoid main() {\n  gl_Position = vec4((u_projMatrix * vec3(a_position, 1)).xy, 0, 1);\n  v_texCoord = a_texCoord;\n  v_color = vec4(a_color.rgb * a_color.a, a_color.a);\n}\n"},function(e,t){e.exports="/*\n * Based on evanw's glfx.js tilt shift shader:\n * https://github.com/evanw/glfx.js/blob/master/src/filters/blur/tiltshift.js\n * @license\n */\n\nuniform sampler2D u_image;\nuniform float u_blurRadius;\nuniform float u_gradientSize;\nuniform float u_size;\nuniform vec2 u_start;\nuniform vec2 u_end;\nuniform vec2 u_delta;\nuniform vec2 u_texSize;\nvarying vec2 v_texCoord;\n\nfloat random(vec2 co)\n{\n    highp float a = 12.9898;\n    highp float b = 78.233;\n    highp float c = 43758.5453;\n    highp float dt = dot(co.xy,vec2(a,b));\n    highp float sn = mod(dt, 3.14);\n    return fract(sin(sn) * c);\n}\n\nvoid main() {\n    vec4 color = vec4(0.0);\n    float total = 0.0;\n\n    float offset = random(gl_FragCoord.xy / u_texSize.xy);\n\n    vec2 normal = normalize(vec2(u_start.y - u_end.y, u_end.x - u_start.x));\n    float radius = smoothstep(0.0, 1.0,\n      (abs(\n        dot(v_texCoord * u_texSize - u_start, normal)\n      ) - u_size) / u_gradientSize\n    ) * u_blurRadius;\n\n    for (float t = -30.0; t <= 30.0; t++) {\n        float percent = (t + offset - 0.5) / 30.0;\n        float weight = 1.0 - abs(percent);\n        vec4 sample = texture2D(u_image, v_texCoord + u_delta * percent * radius / u_texSize);\n\n        sample.rgb *= sample.a;\n\n        color += sample * weight;\n        total += weight;\n    }\n\n    gl_FragColor = color / total;\n    gl_FragColor.rgb /= gl_FragColor.a + 0.00001;\n}\n"},function(e,t){e.exports="/*\n * Based on evanw's glfx.js tilt shift shader:\n * https://github.com/evanw/glfx.js/blob/master/src/filters/blur/tiltshift.js\n * @license\n */\n\nuniform sampler2D u_image;\nuniform float u_radius;\nuniform float u_blurRadius;\nuniform float u_gradientRadius;\nuniform vec2 u_position;\nuniform vec2 u_delta;\nuniform vec2 u_texSize;\nvarying vec2 v_texCoord;\n\nfloat random(vec2 co)\n{\n    highp float a = 12.9898;\n    highp float b = 78.233;\n    highp float c = 43758.5453;\n    highp float dt = dot(co.xy,vec2(a,b));\n    highp float sn = mod(dt, 3.14);\n    return fract(sin(sn) * c);\n}\n\nvoid main() {\n    vec4 color = vec4(0.0);\n    float total = 0.0;\n\n    float offset = random(gl_FragCoord.xy / u_texSize.xy);\n    float radius = smoothstep(\n      0.0, 1.0,\n      (abs(\n        distance(v_texCoord * u_texSize, u_position)\n      ) - u_radius) / (u_gradientRadius * 2.0)\n    ) * u_blurRadius;\n    for (float t = -30.0; t <= 30.0; t++) {\n        float percent = (t + offset - 0.5) / 30.0;\n        float weight = 1.0 - abs(percent);\n        vec4 sample = texture2D(u_image, v_texCoord + u_delta * percent * radius / u_texSize);\n\n        sample.rgb *= sample.a;\n\n        color += sample * weight;\n        total += weight;\n    }\n\n    gl_FragColor = color / total;\n    gl_FragColor.rgb /= gl_FragColor.a + 0.00001;\n}\n"},function(e,t){e.exports="varying vec2 v_texCoord;\nuniform sampler2D u_image;\nuniform float u_brightness;\nuniform float u_saturation;\nuniform float u_contrast;\nuniform float u_gamma;\nuniform float u_exposure;\nuniform float u_shadows;\nuniform float u_highlights;\n\nconst vec3 luminanceWeighting = vec3(0.2125, 0.7154, 0.0721);\n\nvoid main() {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n\n  vec4 color = texColor;\n\n  // Apply gamma\n  color.rgb = pow(color.rgb, vec3(1.0 / u_gamma));\n\n  // Apply shadows and highlights\n  float luminance = dot(color.rgb, luminanceWeighting);\n  float shadow = clamp((pow(luminance, 1.0/(u_shadows+1.0)) + (-0.76)*pow(luminance, 2.0/(u_shadows+1.0))) - luminance, 0.0, 1.0);\n  float highlight = clamp((1.0 - (pow(1.0-luminance, 1.0/(2.0-u_highlights)) + (-0.8)*pow(1.0-luminance, 2.0/(2.0-u_highlights)))) - luminance, -1.0, 0.0);\n  color.rgb = (luminance + shadow + highlight) * (color.rgb / luminance );\n\n  // Apply exposure\n  color.rgb = color.rgb * pow(2.0, u_exposure);\n\n  // Apply brightness\n  color.rgb = (color.rgb + u_brightness);\n\n  // Apply saturation\n  vec3 greyScaleColor = vec3(luminance);\n  color.rgb = mix(greyScaleColor, color.rgb, u_saturation);\n\n  // Apply contrast\n  color.rgb = (color.rgb - 0.5) * u_contrast + 0.5;\n\n  // Apply alpha\n  color = vec4(color.rgb * texColor.a, texColor.a);\n\n  gl_FragColor = color;\n}\n"},function(e,t){e.exports="varying vec2 v_texCoord;\nuniform sampler2D u_image;\nuniform sampler2D u_filteredImage;\nuniform float u_intensity;\n\nvoid main() {\n  vec4 color0 = texture2D(u_image, v_texCoord);\n  vec4 color1 = texture2D(u_filteredImage, v_texCoord);\n  gl_FragColor = mix(color0, color1, u_intensity);\n}\n"},function(e,t){e.exports="/*\n * Based on evanw's glfx.js tilt shift shader:\n * https://github.com/evanw/glfx.js/blob/master/src/filters/blur/tiltshift.js\n * @license\n */\n\nuniform sampler2D u_image;\nuniform float u_blurRadius;\nuniform vec2 u_delta;\nuniform vec2 u_texSize;\nvarying vec2 v_texCoord;\n\nfloat random(vec2 co)\n{\n    highp float a = 12.9898;\n    highp float b = 78.233;\n    highp float c = 43758.5453;\n    highp float dt = dot(co.xy,vec2(a,b));\n    highp float sn = mod(dt, 3.14);\n    return fract(sin(sn) * c);\n}\n\nvoid main() {\n    vec4 color = vec4(0.0);\n    float total = 0.0;\n\n    float offset = random(gl_FragCoord.xy / u_texSize.xy);\n\n    float radius = u_blurRadius;\n\n    for (float t = -30.0; t <= 30.0; t++) {\n        float percent = (t + offset - 0.5) / 30.0;\n        float weight = 1.0 - abs(percent);\n        vec4 sample = texture2D(u_image, v_texCoord + u_delta * percent * radius / u_texSize);\n\n        sample.rgb *= sample.a;\n\n        color += sample * weight;\n        total += weight;\n    }\n\n    gl_FragColor = color / total;\n    gl_FragColor.rgb /= gl_FragColor.a + 0.00001;\n}\n"},function(e,t){e.exports="varying vec2 v_texCoord;\nuniform sampler2D u_image;\nuniform float u_clarity;\nuniform vec2 u_texSize;\n\nfloat random(vec3 scale, float seed) {\n  return fract(sin(dot(gl_FragCoord.xyz + seed, scale)) * 43758.5453 + seed);\n}\n\nvoid main() {\n  vec4 original = texture2D(u_image, v_texCoord);\n\n  vec4 color = texture2D(u_image, v_texCoord);\n  color +=  texture2D(u_image, v_texCoord + vec2(-1.0, 0.0) * u_texSize);\n  color +=  texture2D(u_image, v_texCoord + vec2(1.0, 0.0) * u_texSize);\n\n  color +=  texture2D(u_image, v_texCoord + vec2(0.0, 1.0) * u_texSize);\n  color +=  texture2D(u_image, v_texCoord + vec2(-1.0, 1.0) * u_texSize);\n  color +=  texture2D(u_image, v_texCoord + vec2(1.0, 1.0) * u_texSize);\n\n  color +=  texture2D(u_image, v_texCoord + vec2(0.0, -1.0) * u_texSize);\n  color +=  texture2D(u_image, v_texCoord + vec2(-1.0, -1.0) * u_texSize);\n  color +=  texture2D(u_image, v_texCoord + vec2(1.0, -1.0) * u_texSize);\n\n  // apply unsharp mask\n  vec4 blurred = color / 9.0;\n  color = mix(blurred, original, 1.0 + u_clarity);\n\n  // desaturation, to emphesize the effect\n  vec3 grayXfer = vec3(0.3, 0.59, 0.11);\n  vec3 gray = vec3(dot(grayXfer, color.xyz));\n  float desaturation = clamp(u_clarity * 0.13, 0.0, 1.0);\n  gl_FragColor = vec4(mix(color.xyz, gray, desaturation) * color.a, color.a);\n}\n"},function(e,t){e.exports="varying vec2 v_texCoord;\nuniform sampler2D u_image;\nuniform sampler2D u_filterImage;\nuniform sampler2D u_maskImage;\n\nvoid main() {\n  vec4 color0 = texture2D(u_image, v_texCoord);\n  vec4 color1 = texture2D(u_filterImage, v_texCoord);\n  vec4 mask = texture2D(u_maskImage, v_texCoord);\n  gl_FragColor = mix(color0, color1, mask);\n}\n"},function(e,t){e.exports="varying vec2 v_texCoord;\nuniform sampler2D u_image;\nuniform float u_brightness;\n\nvoid main() {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  gl_FragColor = vec4((texColor.rgb + vec3(u_brightness) * texColor.a), texColor.a);;\n}\n"},function(e,t){e.exports="varying vec2 v_texCoord;\nuniform sampler2D u_image;\nuniform mat4 u_colormatrix;\nuniform vec4 u_colormatrix_vec;\n\nvoid main() {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  gl_FragColor = texColor * u_colormatrix + u_colormatrix_vec;\n}\n"},function(e,t){e.exports="varying vec2 v_texCoord;\nuniform sampler2D u_image;\nuniform float u_contrast;\n\nvoid main() {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  gl_FragColor = vec4(((texColor.rgb - vec3(0.5)) * u_contrast + vec3(0.5) * texColor.a), texColor.a);\n}\n"},function(e,t){e.exports="varying vec2 v_texCoord;\nuniform sampler2D u_image;\nuniform float u_desaturation;\n\nconst vec3 luminanceWeighting = vec3(0.2125, 0.7154, 0.0721);\n\nvoid main() {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  vec3 grayXfer = vec3(0.3, 0.59, 0.11);\n  vec3 gray = vec3(dot(grayXfer, texColor.xyz));\n  gl_FragColor = vec4(mix(texColor.xyz, gray, u_desaturation) * texColor.a, texColor.a);\n}\n"},function(e,t){e.exports="varying vec2 v_texCoord;\nuniform sampler2D u_image;\nuniform vec3 u_gamma;\n\nvoid main() {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  vec3 rgb = vec3(texColor.r, texColor.g, texColor.b);\n  rgb = pow(rgb, u_gamma);\n  gl_FragColor = vec4(rgb * texColor.a, texColor.a);;\n}\n"},function(e,t){e.exports="varying vec2 v_texCoord;\nuniform sampler2D u_image;\n\nuniform vec3 u_color;\n\nvoid main() {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n\n  vec2 textureCoord = v_texCoord - vec2(0.5, 0.5);\n  textureCoord /= 0.75;\n\n  float d = 1.0 - dot(textureCoord, textureCoord);\n  d = clamp(d, 0.2, 1.0);\n  vec3 newColor = texColor.rgb * d * u_color.rgb;\n  gl_FragColor = vec4(vec3(newColor) * texColor.a, texColor.a);\n}\n"},function(e,t){e.exports="varying vec2 v_texCoord;\nuniform sampler2D u_image;\n\nvoid main() {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  texColor.b = texColor.g * 0.33;\n  texColor.r = texColor.r * 0.6;\n  texColor.b += texColor.r * 0.33;\n  texColor.g = texColor.g * 0.7;\n  gl_FragColor = texColor;\n}\n"},function(e,t){e.exports="varying vec2 v_texCoord;\nuniform sampler2D u_image;\nvec3 W = vec3(0.2125, 0.7154, 0.0721);\n\nvoid main() {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  float luminance = dot(texColor.rgb, W);\n  gl_FragColor = vec4(vec3(luminance) * texColor.a, texColor.a);\n}\n"},function(e,t){e.exports="/**\n * Based off of GPUImage's LookupFilter:\n * https://github.com/BradLarson/GPUImage/blob/master/framework/Source/GPUImageLookupFilter.m\n */\n\nvarying vec2 v_texCoord;\nuniform sampler2D u_image;\nuniform sampler2D u_lookupTable;\n\nvoid main() {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  float blueColor = texColor.b * 63.0;\n\n  vec2 quad1;\n  quad1.y = floor(floor(blueColor) / 8.0);\n  quad1.x = floor(blueColor) - (quad1.y * 8.0);\n\n  vec2 quad2;\n  quad2.y = floor(ceil(blueColor) / 8.0);\n  quad2.x = ceil(blueColor) - (quad2.y * 8.0);\n\n  vec2 texCoord1;\n  texCoord1.x = (quad1.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * texColor.r);\n  texCoord1.y = (quad1.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * texColor.g);\n\n  vec2 texCoord2;\n  texCoord2.x = (quad2.x * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * texColor.r);\n  texCoord2.y = (quad2.y * 0.125) + 0.5/512.0 + ((0.125 - 1.0/512.0) * texColor.g);\n\n  vec4 newColor1 = texture2D(u_lookupTable, texCoord1);\n  vec4 newColor2 = texture2D(u_lookupTable, texCoord2);\n\n  vec4 newColor = mix(newColor1, newColor2, fract(blueColor));\n  gl_FragColor = mix(texColor, vec4(newColor.rgb, texColor.w), texColor.a);\n}\n";
},function(e,t){e.exports="varying vec2 v_texCoord;\nuniform sampler2D u_image;\nuniform sampler2D u_lookupTable;\n\nvoid main() {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  float r = texture2D(u_lookupTable, vec2(texColor.r, 0.0)).r;\n  float g = texture2D(u_lookupTable, vec2(texColor.g, 0.0)).g;\n  float b = texture2D(u_lookupTable, vec2(texColor.b, 0.0)).b;\n\n  gl_FragColor = vec4(vec3(r, g, b) * texColor.a, texColor.a);\n}\n"},function(e,t){e.exports="varying vec2 v_texCoord;\nuniform sampler2D u_image;\nuniform float u_saturation;\n\nconst vec3 luminanceWeighting = vec3(0.2125, 0.7154, 0.0721);\n\nvoid main() {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  float luminance = dot(texColor.rgb, luminanceWeighting);\n\n  vec3 greyScaleColor = vec3(luminance);\n\n  gl_FragColor = vec4(mix(greyScaleColor, texColor.rgb, u_saturation) * texColor.a, texColor.a);\n}\n"},function(e,t){e.exports="varying vec2 v_texCoord;\nuniform sampler2D u_image;\nuniform vec3 u_color;\n\nvoid main() {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  vec4 overlayVec4 = vec4(u_color, texColor.a);\n  gl_FragColor = max(overlayVec4 * texColor.a, texColor);\n}\n"},function(e,t){e.exports="varying vec2 v_texCoord;\nuniform sampler2D u_image;\n\nvoid main() {\n  vec4 texColor = texture2D(u_image, v_texCoord);\n  float gray = texColor.r * 0.3 + texColor.g * 0.3 + texColor.b * 0.3;\n  gray -= 0.2;\n  gray = clamp(gray, 0.0, 1.0);\n  gray += 0.15;\n  gray *= 1.4;\n  gl_FragColor = vec4(vec3(gray) * texColor.a, texColor.a);\n}\n"}])})},845:function(e,t,r){var n;var n;(function(t){if(true){e.exports=t()}else if(typeof define==="function"&&define.amd){define([],t)}else{var r;if(typeof window!=="undefined"){r=window}else if(typeof global!=="undefined"){r=global}else if(typeof self!=="undefined"){r=self}else{r=this}r.React=t()}})(function(){var e,t,r;return function e(t,r,o){function i(s,u){if(!r[s]){if(!t[s]){var l=typeof n=="function"&&n;if(!u&&l)return n(s,!0);if(a)return a(s,!0);var c=new Error("Cannot find module '"+s+"'");throw c.code="MODULE_NOT_FOUND",c}var d=r[s]={exports:{}};t[s][0].call(d.exports,function(e){var r=t[s][1][e];return i(r?r:e)},d,d.exports,e,t,r,o)}return r[s].exports}var a=typeof n=="function"&&n;for(var s=0;s<o.length;s++)i(o[s]);return i}({1:[function(e,t,r){"use strict";var n=e(42);var o=e(156);var i={focusDOMComponent:function(){o(n.getNodeFromInstance(this))}};t.exports=i},{156:156,42:42}],2:[function(e,t,r){"use strict";var n=e(16);var o=e(20);var i=e(148);var a=e(21);var s=e(103);var u=e(107);var l=e(166);var c=[9,13,27,32];var d=229;var f=i.canUseDOM&&"CompositionEvent"in window;var p=null;if(i.canUseDOM&&"documentMode"in document){p=document.documentMode}var h=i.canUseDOM&&"TextEvent"in window&&!p&&!m();var v=i.canUseDOM&&(!f||p&&p>8&&p<=11);function m(){var e=window.opera;return typeof e==="object"&&typeof e.version==="function"&&parseInt(e.version(),10)<=12}var _=32;var g=String.fromCharCode(_);var y=n.topLevelTypes;var b={beforeInput:{phasedRegistrationNames:{bubbled:l({onBeforeInput:null}),captured:l({onBeforeInputCapture:null})},dependencies:[y.topCompositionEnd,y.topKeyPress,y.topTextInput,y.topPaste]},compositionEnd:{phasedRegistrationNames:{bubbled:l({onCompositionEnd:null}),captured:l({onCompositionEndCapture:null})},dependencies:[y.topBlur,y.topCompositionEnd,y.topKeyDown,y.topKeyPress,y.topKeyUp,y.topMouseDown]},compositionStart:{phasedRegistrationNames:{bubbled:l({onCompositionStart:null}),captured:l({onCompositionStartCapture:null})},dependencies:[y.topBlur,y.topCompositionStart,y.topKeyDown,y.topKeyPress,y.topKeyUp,y.topMouseDown]},compositionUpdate:{phasedRegistrationNames:{bubbled:l({onCompositionUpdate:null}),captured:l({onCompositionUpdateCapture:null})},dependencies:[y.topBlur,y.topCompositionUpdate,y.topKeyDown,y.topKeyPress,y.topKeyUp,y.topMouseDown]}};var x=false;function E(e){return(e.ctrlKey||e.altKey||e.metaKey)&&!(e.ctrlKey&&e.altKey)}function C(e){switch(e){case y.topCompositionStart:return b.compositionStart;case y.topCompositionEnd:return b.compositionEnd;case y.topCompositionUpdate:return b.compositionUpdate}}function w(e,t){return e===y.topKeyDown&&t.keyCode===d}function S(e,t){switch(e){case y.topKeyUp:return c.indexOf(t.keyCode)!==-1;case y.topKeyDown:return t.keyCode!==d;case y.topKeyPress:case y.topMouseDown:case y.topBlur:return true;default:return false}}function T(e){var t=e.detail;if(typeof t==="object"&&"data"in t){return t.data}return null}var R=null;function M(e,t,r,n){var i;var u;if(f){i=C(e)}else if(!R){if(w(e,r)){i=b.compositionStart}}else if(S(e,r)){i=b.compositionEnd}if(!i){return null}if(v){if(!R&&i===b.compositionStart){R=a.getPooled(n)}else if(i===b.compositionEnd){if(R){u=R.getData()}}}var l=s.getPooled(i,t,r,n);if(u){l.data=u}else{var c=T(r);if(c!==null){l.data=c}}o.accumulateTwoPhaseDispatches(l);return l}function O(e,t){switch(e){case y.topCompositionEnd:return T(t);case y.topKeyPress:var r=t.which;if(r!==_){return null}x=true;return g;case y.topTextInput:var n=t.data;if(n===g&&x){return null}return n;default:return null}}function k(e,t){if(R){if(e===y.topCompositionEnd||!f&&S(e,t)){var r=R.getData();a.release(R);R=null;return r}return null}switch(e){case y.topPaste:return null;case y.topKeyPress:if(t.which&&!E(t)){return String.fromCharCode(t.which)}return null;case y.topCompositionEnd:return v?null:t.data;default:return null}}function P(e,t,r,n){var i;if(h){i=O(e,r)}else{i=k(e,r)}if(!i){return null}var a=u.getPooled(b.beforeInput,t,r,n);a.data=i;o.accumulateTwoPhaseDispatches(a);return a}var D={eventTypes:b,extractEvents:function(e,t,r,n){return[M(e,t,r,n),P(e,t,r,n)]}};t.exports=D},{103:103,107:107,148:148,16:16,166:166,20:20,21:21}],3:[function(e,t,r){"use strict";var n={animationIterationCount:true,borderImageOutset:true,borderImageSlice:true,borderImageWidth:true,boxFlex:true,boxFlexGroup:true,boxOrdinalGroup:true,columnCount:true,flex:true,flexGrow:true,flexPositive:true,flexShrink:true,flexNegative:true,flexOrder:true,gridRow:true,gridColumn:true,fontWeight:true,lineClamp:true,lineHeight:true,opacity:true,order:true,orphans:true,tabSize:true,widows:true,zIndex:true,zoom:true,fillOpacity:true,floodOpacity:true,stopOpacity:true,strokeDasharray:true,strokeDashoffset:true,strokeMiterlimit:true,strokeOpacity:true,strokeWidth:true};function o(e,t){return e+t.charAt(0).toUpperCase()+t.substring(1)}var i=["Webkit","ms","Moz","O"];Object.keys(n).forEach(function(e){i.forEach(function(t){n[o(t,e)]=n[e]})});var a={background:{backgroundAttachment:true,backgroundColor:true,backgroundImage:true,backgroundPositionX:true,backgroundPositionY:true,backgroundRepeat:true},backgroundPosition:{backgroundPositionX:true,backgroundPositionY:true},border:{borderWidth:true,borderStyle:true,borderColor:true},borderBottom:{borderBottomWidth:true,borderBottomStyle:true,borderBottomColor:true},borderLeft:{borderLeftWidth:true,borderLeftStyle:true,borderLeftColor:true},borderRight:{borderRightWidth:true,borderRightStyle:true,borderRightColor:true},borderTop:{borderTopWidth:true,borderTopStyle:true,borderTopColor:true},font:{fontStyle:true,fontVariant:true,fontWeight:true,fontSize:true,lineHeight:true,fontFamily:true},outline:{outlineWidth:true,outlineStyle:true,outlineColor:true}};var s={isUnitlessNumber:n,shorthandPropertyExpansions:a};t.exports=s},{}],4:[function(e,t,r){"use strict";var n=e(3);var o=e(148);var i=e(73);var a=e(150);var s=e(121);var u=e(161);var l=e(167);var c=e(171);var d=l(function(e){return u(e)});var f=false;var p="cssFloat";if(o.canUseDOM){var h=document.createElement("div").style;try{h.font=""}catch(e){f=true}if(document.documentElement.style.cssFloat===undefined){p="styleFloat"}}if(true){var v=/^(?:webkit|moz|o)[A-Z]/;var m=/;\s*$/;var _={};var g={};var y=false;var b=function(e,t){if(_.hasOwnProperty(e)&&_[e]){return}_[e]=true;true?c(false,"Unsupported style property %s. Did you mean %s?%s",e,a(e),w(t)):void 0};var x=function(e,t){if(_.hasOwnProperty(e)&&_[e]){return}_[e]=true;true?c(false,"Unsupported vendor-prefixed style property %s. Did you mean %s?%s",e,e.charAt(0).toUpperCase()+e.slice(1),w(t)):void 0};var E=function(e,t,r){if(g.hasOwnProperty(t)&&g[t]){return}g[t]=true;true?c(false,"Style property values shouldn't contain a semicolon.%s "+'Try "%s: %s" instead.',w(r),e,t.replace(m,"")):void 0};var C=function(e,t,r){if(y){return}y=true;true?c(false,"`NaN` is an invalid value for the `%s` css style property.%s",e,w(r)):void 0};var w=function(e){if(e){var t=e.getName();if(t){return" Check the render method of `"+t+"`."}}return""};var S=function(e,t,r){var n;if(r){n=r._currentElement._owner}if(e.indexOf("-")>-1){b(e,n)}else if(v.test(e)){x(e,n)}else if(m.test(t)){E(e,t,n)}if(typeof t==="number"&&isNaN(t)){C(e,t,n)}}}var T={createMarkupForStyles:function(e,t){var r="";for(var n in e){if(!e.hasOwnProperty(n)){continue}var o=e[n];if(true){S(n,o,t)}if(o!=null){r+=d(n)+":";r+=s(n,o,t)+";"}}return r||null},setValueForStyles:function(e,t,r){if(true){i.debugTool.onHostOperation(r._debugID,"update styles",t)}var o=e.style;for(var a in t){if(!t.hasOwnProperty(a)){continue}if(true){S(a,t[a],r)}var u=s(a,t[a],r);if(a==="float"||a==="cssFloat"){a=p}if(u){o[a]=u}else{var l=f&&n.shorthandPropertyExpansions[a];if(l){for(var c in l){o[c]=""}}else{o[a]=""}}}}};t.exports=T},{121:121,148:148,150:150,161:161,167:167,171:171,3:3,73:73}],5:[function(e,t,r){"use strict";var n=e(140),o=e(172);var i=e(25);var a=e(162);function s(){this._callbacks=null;this._contexts=null}o(s.prototype,{enqueue:function(e,t){this._callbacks=this._callbacks||[];this._contexts=this._contexts||[];this._callbacks.push(e);this._contexts.push(t)},notifyAll:function(){var e=this._callbacks;var t=this._contexts;if(e){!(e.length===t.length)?true?a(false,"Mismatched list of contexts in callback queue"):n("24"):void 0;this._callbacks=null;this._contexts=null;for(var r=0;r<e.length;r++){e[r].call(t[r])}e.length=0;t.length=0}},checkpoint:function(){return this._callbacks?this._callbacks.length:0},rollback:function(e){if(this._callbacks){this._callbacks.length=e;this._contexts.length=e}},reset:function(){this._callbacks=null;this._contexts=null},destructor:function(){this.reset()}});i.addPoolingTo(s);t.exports=s},{140:140,162:162,172:172,25:25}],6:[function(e,t,r){"use strict";var n=e(16);var o=e(17);var i=e(20);var a=e(148);var s=e(42);var u=e(96);var l=e(105);var c=e(129);var d=e(136);var f=e(137);var p=e(166);var h=n.topLevelTypes;var v={change:{phasedRegistrationNames:{bubbled:p({onChange:null}),captured:p({onChangeCapture:null})},dependencies:[h.topBlur,h.topChange,h.topClick,h.topFocus,h.topInput,h.topKeyDown,h.topKeyUp,h.topSelectionChange]}};var m=null;var _=null;var g=null;var y=null;function b(e){var t=e.nodeName&&e.nodeName.toLowerCase();return t==="select"||t==="input"&&e.type==="file"}var x=false;if(a.canUseDOM){x=d("change")&&(!document.documentMode||document.documentMode>8)}function E(e){var t=l.getPooled(v.change,_,e,c(e));i.accumulateTwoPhaseDispatches(t);u.batchedUpdates(C,t)}function C(e){o.enqueueEvents(e);o.processEventQueue(false)}function w(e,t){m=e;_=t;m.attachEvent("onchange",E)}function S(){if(!m){return}m.detachEvent("onchange",E);m=null;_=null}function T(e,t){if(e===h.topChange){return t}}function R(e,t,r){if(e===h.topFocus){S();w(t,r)}else if(e===h.topBlur){S()}}var M=false;if(a.canUseDOM){M=d("input")&&(!document.documentMode||document.documentMode>11)}var O={get:function(){return y.get.call(this)},set:function(e){g=""+e;y.set.call(this,e)}};function k(e,t){m=e;_=t;g=e.value;y=Object.getOwnPropertyDescriptor(e.constructor.prototype,"value");Object.defineProperty(m,"value",O);if(m.attachEvent){m.attachEvent("onpropertychange",D)}else{m.addEventListener("propertychange",D,false)}}function P(){if(!m){return}delete m.value;if(m.detachEvent){m.detachEvent("onpropertychange",D)}else{m.removeEventListener("propertychange",D,false)}m=null;_=null;g=null;y=null}function D(e){if(e.propertyName!=="value"){return}var t=e.srcElement.value;if(t===g){return}g=t;E(e)}function B(e,t){if(e===h.topInput){return t}}function F(e,t,r){if(e===h.topFocus){P();k(t,r)}else if(e===h.topBlur){P()}}function A(e,t){if(e===h.topSelectionChange||e===h.topKeyUp||e===h.topKeyDown){if(m&&m.value!==g){g=m.value;return _}}}function I(e){return e.nodeName&&e.nodeName.toLowerCase()==="input"&&(e.type==="checkbox"||e.type==="radio")}function N(e,t){if(e===h.topClick){return t}}var L={eventTypes:v,extractEvents:function(e,t,r,n){var o=t?s.getNodeFromInstance(t):window;var a,u;if(b(o)){if(x){a=T}else{u=R}}else if(f(o)){if(M){a=B}else{a=A;u=F}}else if(I(o)){a=N}if(a){var c=a(e,t);if(c){var d=l.getPooled(v.change,c,r,n);d.type="change";i.accumulateTwoPhaseDispatches(d);return d}}if(u){u(e,o,t)}}};t.exports=L},{105:105,129:129,136:136,137:137,148:148,16:16,166:166,17:17,20:20,42:42,96:96}],7:[function(e,t,r){"use strict";var n=e(8);var o=e(12);var i=e(78);var a=e(42);var s=e(73);var u=e(120);var l=e(142);var c=e(143);function d(e,t){if(Array.isArray(t)){t=t[1]}return t?t.nextSibling:e.firstChild}var f=u(function(e,t,r){e.insertBefore(t,r)});function p(e,t,r){n.insertTreeBefore(e,t,r)}function h(e,t,r){if(Array.isArray(t)){m(e,t[0],t[1],r)}else{f(e,t,r)}}function v(e,t){if(Array.isArray(t)){var r=t[1];t=t[0];_(e,t,r);e.removeChild(r)}e.removeChild(t)}function m(e,t,r,n){var o=t;while(true){var i=o.nextSibling;f(e,o,n);if(o===r){break}o=i}}function _(e,t,r){while(true){var n=t.nextSibling;if(n===r){break}else{e.removeChild(n)}}}function g(e,t,r){var n=e.parentNode;var o=e.nextSibling;if(o===t){if(r){f(n,document.createTextNode(r),o)}}else{if(r){c(o,r);_(n,o,t)}else{_(n,e,t)}}if(true){s.debugTool.onHostOperation(a.getInstanceFromNode(e)._debugID,"replace text",r)}}var y=o.dangerouslyReplaceNodeWithMarkup;if(true){y=function(e,t,r){o.dangerouslyReplaceNodeWithMarkup(e,t);if(r._debugID!==0){s.debugTool.onHostOperation(r._debugID,"replace with",t.toString())}else{var n=a.getInstanceFromNode(t.node);if(n._debugID!==0){s.debugTool.onHostOperation(n._debugID,"mount",t.toString())}}}}var b={dangerouslyReplaceNodeWithMarkup:y,replaceDelimitedText:g,processUpdates:function(e,t){if(true){var r=a.getInstanceFromNode(e)._debugID}for(var n=0;n<t.length;n++){var o=t[n];switch(o.type){case i.INSERT_MARKUP:p(e,o.content,d(e,o.afterNode));if(true){s.debugTool.onHostOperation(r,"insert child",{toIndex:o.toIndex,content:o.content.toString()})}break;case i.MOVE_EXISTING:h(e,o.fromNode,d(e,o.afterNode));if(true){s.debugTool.onHostOperation(r,"move child",{fromIndex:o.fromIndex,toIndex:o.toIndex})}break;case i.SET_MARKUP:l(e,o.content);if(true){s.debugTool.onHostOperation(r,"replace children",o.content.toString())}break;case i.TEXT_CONTENT:c(e,o.content);if(true){s.debugTool.onHostOperation(r,"replace text",o.content.toString())}break;case i.REMOVE_NODE:v(e,o.fromNode);if(true){s.debugTool.onHostOperation(r,"remove child",{fromIndex:o.fromIndex})}break}}}};t.exports=b},{12:12,120:120,142:142,143:143,42:42,73:73,78:78,8:8}],8:[function(e,t,r){"use strict";var n=e(9);var o=e(142);var i=e(120);var a=e(143);var s=1;var u=11;var l=typeof document!=="undefined"&&typeof document.documentMode==="number"||typeof navigator!=="undefined"&&typeof navigator.userAgent==="string"&&/\bEdge\/\d/.test(navigator.userAgent);function c(e){if(!l){return}var t=e.node;var r=e.children;if(r.length){for(var n=0;n<r.length;n++){d(t,r[n],null)}}else if(e.html!=null){o(t,e.html)}else if(e.text!=null){a(t,e.text)}}var d=i(function(e,t,r){if(t.node.nodeType===u||t.node.nodeType===s&&t.node.nodeName.toLowerCase()==="object"&&(t.node.namespaceURI==null||t.node.namespaceURI===n.html)){c(t);e.insertBefore(t.node,r)}else{e.insertBefore(t.node,r);c(t)}});function f(e,t){e.parentNode.replaceChild(t.node,e);c(t)}function p(e,t){if(l){e.children.push(t)}else{e.node.appendChild(t.node)}}function h(e,t){if(l){e.html=t}else{o(e.node,t)}}function v(e,t){if(l){e.text=t}else{a(e.node,t)}}function m(){return this.node.nodeName}function _(e){return{node:e,children:[],html:null,text:null,toString:m}}_.insertTreeBefore=d;_.replaceChildWithTree=f;_.queueChild=p;_.queueHTML=h;_.queueText=v;t.exports=_},{120:120,142:142,143:143,9:9}],9:[function(e,t,r){"use strict";var n={html:"http://www.w3.org/1999/xhtml",mathml:"http://www.w3.org/1998/Math/MathML",svg:"http://www.w3.org/2000/svg"};t.exports=n},{}],10:[function(e,t,r){"use strict";var n=e(140);var o=e(162);function i(e,t){return(e&t)===t}var a={MUST_USE_PROPERTY:1,HAS_BOOLEAN_VALUE:4,HAS_NUMERIC_VALUE:8,HAS_POSITIVE_NUMERIC_VALUE:16|8,HAS_OVERLOADED_BOOLEAN_VALUE:32,injectDOMPropertyConfig:function(e){var t=a;var r=e.Properties||{};var s=e.DOMAttributeNamespaces||{};var l=e.DOMAttributeNames||{};var c=e.DOMPropertyNames||{};var d=e.DOMMutationMethods||{};if(e.isCustomAttribute){u._isCustomAttributeFunctions.push(e.isCustomAttribute)}for(var f in r){!!u.properties.hasOwnProperty(f)?true?o(false,"injectDOMPropertyConfig(...): You're trying to inject DOM property '%s' which has already been injected. You may be accidentally injecting the same DOM property config twice, or you may be injecting two configs that have conflicting property names.",f):n("48",f):void 0;var p=f.toLowerCase();var h=r[f];var v={attributeName:p,attributeNamespace:null,propertyName:f,mutationMethod:null,mustUseProperty:i(h,t.MUST_USE_PROPERTY),hasBooleanValue:i(h,t.HAS_BOOLEAN_VALUE),hasNumericValue:i(h,t.HAS_NUMERIC_VALUE),hasPositiveNumericValue:i(h,t.HAS_POSITIVE_NUMERIC_VALUE),hasOverloadedBooleanValue:i(h,t.HAS_OVERLOADED_BOOLEAN_VALUE)};!(v.hasBooleanValue+v.hasNumericValue+v.hasOverloadedBooleanValue<=1)?true?o(false,"DOMProperty: Value can be one of boolean, overloaded boolean, or numeric value, but not a combination: %s",f):n("50",f):void 0;if(true){u.getPossibleStandardName[p]=f}if(l.hasOwnProperty(f)){var m=l[f];v.attributeName=m;if(true){u.getPossibleStandardName[m]=f}}if(s.hasOwnProperty(f)){v.attributeNamespace=s[f]}if(c.hasOwnProperty(f)){v.propertyName=c[f]}if(d.hasOwnProperty(f)){v.mutationMethod=d[f]}u.properties[f]=v}}};var s=":A-Z_a-z\\u00C0-\\u00D6\\u00D8-\\u00F6\\u00F8-\\u02FF\\u0370-\\u037D\\u037F-\\u1FFF\\u200C-\\u200D\\u2070-\\u218F\\u2C00-\\u2FEF\\u3001-\\uD7FF\\uF900-\\uFDCF\\uFDF0-\\uFFFD";var u={ID_ATTRIBUTE_NAME:"data-reactid",ROOT_ATTRIBUTE_NAME:"data-reactroot",ATTRIBUTE_NAME_START_CHAR:s,ATTRIBUTE_NAME_CHAR:s+"\\-.0-9\\u00B7\\u0300-\\u036F\\u203F-\\u2040",properties:{},getPossibleStandardName:true?{}:null,_isCustomAttributeFunctions:[],isCustomAttribute:function(e){for(var t=0;t<u._isCustomAttributeFunctions.length;t++){var r=u._isCustomAttributeFunctions[t];if(r(e)){return true}}return false},injection:a};t.exports=u},{140:140,162:162}],11:[function(e,t,r){"use strict";var n=e(10);var o=e(42);var i=e(73);var a=e(139);var s=e(171);var u=new RegExp("^["+n.ATTRIBUTE_NAME_START_CHAR+"]["+n.ATTRIBUTE_NAME_CHAR+"]*$");var l={};var c={};function d(e){if(c.hasOwnProperty(e)){return true}if(l.hasOwnProperty(e)){return false}if(u.test(e)){c[e]=true;return true}l[e]=true;true?s(false,"Invalid attribute name: `%s`",e):void 0;return false}function f(e,t){return t==null||e.hasBooleanValue&&!t||e.hasNumericValue&&isNaN(t)||e.hasPositiveNumericValue&&t<1||e.hasOverloadedBooleanValue&&t===false}var p={createMarkupForID:function(e){return n.ID_ATTRIBUTE_NAME+"="+a(e)},setAttributeForID:function(e,t){e.setAttribute(n.ID_ATTRIBUTE_NAME,t)},createMarkupForRoot:function(){return n.ROOT_ATTRIBUTE_NAME+'=""'},setAttributeForRoot:function(e){e.setAttribute(n.ROOT_ATTRIBUTE_NAME,"")},createMarkupForProperty:function(e,t){var r=n.properties.hasOwnProperty(e)?n.properties[e]:null;if(r){if(f(r,t)){return""}var o=r.attributeName;if(r.hasBooleanValue||r.hasOverloadedBooleanValue&&t===true){return o+'=""'}return o+"="+a(t)}else if(n.isCustomAttribute(e)){if(t==null){return""}return e+"="+a(t)}return null},createMarkupForCustomAttribute:function(e,t){if(!d(e)||t==null){return""}return e+"="+a(t)},setValueForProperty:function(e,t,r){var a=n.properties.hasOwnProperty(t)?n.properties[t]:null;if(a){var s=a.mutationMethod;if(s){s(e,r)}else if(f(a,r)){this.deleteValueForProperty(e,t);return}else if(a.mustUseProperty){e[a.propertyName]=r}else{var u=a.attributeName;var l=a.attributeNamespace;if(l){e.setAttributeNS(l,u,""+r)}else if(a.hasBooleanValue||a.hasOverloadedBooleanValue&&r===true){e.setAttribute(u,"")}else{e.setAttribute(u,""+r)}}}else if(n.isCustomAttribute(t)){p.setValueForAttribute(e,t,r);return}if(true){var c={};c[t]=r;i.debugTool.onHostOperation(o.getInstanceFromNode(e)._debugID,"update attribute",c)}},setValueForAttribute:function(e,t,r){if(!d(t)){return}if(r==null){e.removeAttribute(t)}else{e.setAttribute(t,""+r)}if(true){var n={};n[t]=r;i.debugTool.onHostOperation(o.getInstanceFromNode(e)._debugID,"update attribute",n)}},deleteValueForAttribute:function(e,t){e.removeAttribute(t);if(true){i.debugTool.onHostOperation(o.getInstanceFromNode(e)._debugID,"remove attribute",t)}},deleteValueForProperty:function(e,t){var r=n.properties.hasOwnProperty(t)?n.properties[t]:null;if(r){var a=r.mutationMethod;if(a){a(e,undefined)}else if(r.mustUseProperty){var s=r.propertyName;if(r.hasBooleanValue){e[s]=false}else{e[s]=""}}else{e.removeAttribute(r.attributeName)}}else if(n.isCustomAttribute(t)){e.removeAttribute(t)}if(true){i.debugTool.onHostOperation(o.getInstanceFromNode(e)._debugID,"remove attribute",t)}}};t.exports=p},{10:10,139:139,171:171,42:42,73:73}],12:[function(e,t,r){"use strict";var n=e(140);var o=e(8);var i=e(148);var a=e(153);var s=e(154);var u=e(162);var l={dangerouslyReplaceNodeWithMarkup:function(e,t){!i.canUseDOM?true?u(false,"dangerouslyReplaceNodeWithMarkup(...): Cannot render markup in a worker thread. Make sure `window` and `document` are available globally before requiring React when unit testing or use ReactDOMServer.renderToString() for server rendering."):n("56"):void 0;!t?true?u(false,"dangerouslyReplaceNodeWithMarkup(...): Missing markup."):n("57"):void 0;!(e.nodeName!=="HTML")?true?u(false,"dangerouslyReplaceNodeWithMarkup(...): Cannot replace markup of the <html> node. This is because browser quirks make this unreliable and/or slow. If you want to render to the root you must use server rendering. See ReactDOMServer.renderToString()."):n("58"):void 0;if(typeof t==="string"){var r=a(t,s)[0];e.parentNode.replaceChild(r,e)}else{o.replaceChildWithTree(e,t)}}};t.exports=l},{140:140,148:148,153:153,154:154,162:162,8:8}],13:[function(e,t,r){"use strict";var n=e(166);var o=[n({ResponderEventPlugin:null}),n({SimpleEventPlugin:null}),n({TapEventPlugin:null}),n({EnterLeaveEventPlugin:null}),n({ChangeEventPlugin:null}),n({SelectEventPlugin:null}),n({BeforeInputEventPlugin:null})];t.exports=o},{166:166}],14:[function(e,t,r){"use strict";var n={onClick:true,onDoubleClick:true,onMouseDown:true,onMouseMove:true,onMouseUp:true,onClickCapture:true,onDoubleClickCapture:true,onMouseDownCapture:true,onMouseMoveCapture:true,onMouseUpCapture:true};var o={getHostProps:function(e,t){if(!t.disabled){return t}var r={};for(var o in t){if(!n[o]&&t.hasOwnProperty(o)){r[o]=t[o]}}return r}};t.exports=o},{}],15:[function(e,t,r){"use strict";var n=e(16);var o=e(20);var i=e(42);var a=e(109);var s=e(166);var u=n.topLevelTypes;var l={mouseEnter:{registrationName:s({onMouseEnter:null}),dependencies:[u.topMouseOut,u.topMouseOver]},mouseLeave:{registrationName:s({onMouseLeave:null}),dependencies:[u.topMouseOut,u.topMouseOver]}};var c={eventTypes:l,extractEvents:function(e,t,r,n){if(e===u.topMouseOver&&(r.relatedTarget||r.fromElement)){return null}if(e!==u.topMouseOut&&e!==u.topMouseOver){return null}var s;if(n.window===n){s=n}else{var c=n.ownerDocument;if(c){s=c.defaultView||c.parentWindow}else{s=window}}var d;var f;if(e===u.topMouseOut){d=t;var p=r.relatedTarget||r.toElement;f=p?i.getClosestInstanceFromNode(p):null}else{d=null;f=t}if(d===f){return null}var h=d==null?s:i.getNodeFromInstance(d);var v=f==null?s:i.getNodeFromInstance(f);var m=a.getPooled(l.mouseLeave,d,r,n);m.type="mouseleave";m.target=h;m.relatedTarget=v;var _=a.getPooled(l.mouseEnter,f,r,n);_.type="mouseenter";_.target=v;_.relatedTarget=h;o.accumulateEnterLeaveDispatches(m,_,d,f);return[m,_]}};t.exports=c},{109:109,16:16,166:166,20:20,42:42}],16:[function(e,t,r){"use strict";var n=e(165);var o=n({bubbled:null,captured:null});var i=n({topAbort:null,topAnimationEnd:null,topAnimationIteration:null,topAnimationStart:null,topBlur:null,topCanPlay:null,topCanPlayThrough:null,topChange:null,topClick:null,topCompositionEnd:null,topCompositionStart:null,topCompositionUpdate:null,topContextMenu:null,topCopy:null,topCut:null,topDoubleClick:null,topDrag:null,topDragEnd:null,topDragEnter:null,topDragExit:null,topDragLeave:null,topDragOver:null,topDragStart:null,topDrop:null,topDurationChange:null,topEmptied:null,topEncrypted:null,topEnded:null,topError:null,topFocus:null,topInput:null,topInvalid:null,topKeyDown:null,topKeyPress:null,topKeyUp:null,topLoad:null,topLoadedData:null,topLoadedMetadata:null,topLoadStart:null,topMouseDown:null,topMouseMove:null,topMouseOut:null,topMouseOver:null,topMouseUp:null,topPaste:null,topPause:null,topPlay:null,topPlaying:null,topProgress:null,topRateChange:null,topReset:null,topScroll:null,topSeeked:null,topSeeking:null,topSelectionChange:null,topStalled:null,topSubmit:null,topSuspend:null,topTextInput:null,topTimeUpdate:null,topTouchCancel:null,topTouchEnd:null,topTouchMove:null,topTouchStart:null,topTransitionEnd:null,topVolumeChange:null,topWaiting:null,topWheel:null});var a={topLevelTypes:i,PropagationPhases:o};t.exports=a},{165:165}],17:[function(e,t,r){"use strict";var n=e(140);var o=e(18);var i=e(19);var a=e(64);var s=e(116);var u=e(125);var l=e(162);var c={};var d=null;var f=function(e,t){if(e){i.executeDispatchesInOrder(e,t);if(!e.isPersistent()){e.constructor.release(e)}}};var p=function(e){return f(e,true)};var h=function(e){return f(e,false)};var v=function(e){return"."+e._rootNodeID};var m={injection:{injectEventPluginOrder:o.injectEventPluginOrder,injectEventPluginsByName:o.injectEventPluginsByName},putListener:function(e,t,r){!(typeof r==="function")?true?l(false,"Expected %s listener to be a function, instead got type %s",t,typeof r):n("94",t,typeof r):void 0;var i=v(e);var a=c[t]||(c[t]={});a[i]=r;var s=o.registrationNameModules[t];if(s&&s.didPutListener){s.didPutListener(e,t,r)}},getListener:function(e,t){var r=c[t];var n=v(e);return r&&r[n]},deleteListener:function(e,t){var r=o.registrationNameModules[t];if(r&&r.willDeleteListener){r.willDeleteListener(e,t)}var n=c[t];if(n){var i=v(e);delete n[i]}},deleteAllListeners:function(e){var t=v(e);for(var r in c){if(!c.hasOwnProperty(r)){continue}if(!c[r][t]){continue}var n=o.registrationNameModules[r];if(n&&n.willDeleteListener){n.willDeleteListener(e,r)}delete c[r][t]}},extractEvents:function(e,t,r,n){var i;var a=o.plugins;for(var u=0;u<a.length;u++){var l=a[u];if(l){var c=l.extractEvents(e,t,r,n);if(c){i=s(i,c)}}}return i},enqueueEvents:function(e){if(e){d=s(d,e)}},processEventQueue:function(e){var t=d;d=null;if(e){u(t,p)}else{u(t,h)}!!d?true?l(false,"processEventQueue(): Additional events were enqueued while processing an event queue. Support for this has not yet been implemented."):n("95"):void 0;a.rethrowCaughtError()},__purge:function(){c={}},__getListenerBank:function(){return c}};t.exports=m},{116:116,125:125,140:140,162:162,18:18,19:19,64:64}],18:[function(e,t,r){"use strict";var n=e(140);var o=e(162);var i=null;var a={};function s(){if(!i){return}for(var e in a){var t=a[e];var r=i.indexOf(e);!(r>-1)?true?o(false,"EventPluginRegistry: Cannot inject event plugins that do not exist in the plugin ordering, `%s`.",e):n("96",e):void 0;if(c.plugins[r]){continue}!t.extractEvents?true?o(false,"EventPluginRegistry: Event plugins must implement an `extractEvents` method, but `%s` does not.",e):n("97",e):void 0;c.plugins[r]=t;var s=t.eventTypes;for(var l in s){!u(s[l],t,l)?true?o(false,"EventPluginRegistry: Failed to publish event `%s` for plugin `%s`.",l,e):n("98",l,e):void 0}}}function u(e,t,r){!!c.eventNameDispatchConfigs.hasOwnProperty(r)?true?o(false,"EventPluginHub: More than one plugin attempted to publish the same event name, `%s`.",r):n("99",r):void 0;c.eventNameDispatchConfigs[r]=e;var i=e.phasedRegistrationNames;if(i){for(var a in i){if(i.hasOwnProperty(a)){var s=i[a];l(s,t,r)}}return true}else if(e.registrationName){l(e.registrationName,t,r);return true}return false}function l(e,t,r){!!c.registrationNameModules[e]?true?o(false,"EventPluginHub: More than one plugin attempted to publish the same registration name, `%s`.",e):n("100",e):void 0;c.registrationNameModules[e]=t;c.registrationNameDependencies[e]=t.eventTypes[r].dependencies;if(true){var i=e.toLowerCase();c.possibleRegistrationNames[i]=e;if(e==="onDoubleClick"){c.possibleRegistrationNames.ondblclick=e}}}var c={plugins:[],eventNameDispatchConfigs:{},registrationNameModules:{},registrationNameDependencies:{},possibleRegistrationNames:true?{}:null,injectEventPluginOrder:function(e){!!i?true?o(false,"EventPluginRegistry: Cannot inject event plugin ordering more than once. You are likely trying to load more than one copy of React."):n("101"):void 0;i=Array.prototype.slice.call(e);s()},injectEventPluginsByName:function(e){var t=false;for(var r in e){if(!e.hasOwnProperty(r)){continue}var i=e[r];if(!a.hasOwnProperty(r)||a[r]!==i){!!a[r]?true?o(false,"EventPluginRegistry: Cannot inject two different event plugins using the same name, `%s`.",r):n("102",r):void 0;a[r]=i;t=true}}if(t){s()}},getPluginModuleForEvent:function(e){var t=e.dispatchConfig;if(t.registrationName){return c.registrationNameModules[t.registrationName]||null}for(var r in t.phasedRegistrationNames){if(!t.phasedRegistrationNames.hasOwnProperty(r)){continue}var n=c.registrationNameModules[t.phasedRegistrationNames[r]];if(n){return n}}return null},_resetEventPlugins:function(){i=null;for(var e in a){if(a.hasOwnProperty(e)){delete a[e]}}c.plugins.length=0;var t=c.eventNameDispatchConfigs;for(var r in t){if(t.hasOwnProperty(r)){delete t[r]}}var n=c.registrationNameModules;for(var o in n){if(n.hasOwnProperty(o)){delete n[o]}}if(true){var s=c.possibleRegistrationNames;for(var u in s){if(s.hasOwnProperty(u)){delete s[u]}}}}};t.exports=c},{140:140,162:162}],19:[function(e,t,r){"use strict";var n=e(140);var o=e(16);var i=e(64);var a=e(162);var s=e(171);var u;var l;var c={injectComponentTree:function(e){u=e;if(true){true?s(e&&e.getNodeFromInstance&&e.getInstanceFromNode,"EventPluginUtils.injection.injectComponentTree(...): Injected "+"module is missing getNodeFromInstance or getInstanceFromNode."):void 0}},injectTreeTraversal:function(e){l=e;if(true){true?s(e&&e.isAncestor&&e.getLowestCommonAncestor,"EventPluginUtils.injection.injectTreeTraversal(...): Injected "+"module is missing isAncestor or getLowestCommonAncestor."):void 0}}};var d=o.topLevelTypes;function f(e){return e===d.topMouseUp||e===d.topTouchEnd||e===d.topTouchCancel}function p(e){return e===d.topMouseMove||e===d.topTouchMove}function h(e){return e===d.topMouseDown||e===d.topTouchStart}var v;if(true){v=function(e){var t=e._dispatchListeners;var r=e._dispatchInstances;var n=Array.isArray(t);var o=n?t.length:t?1:0;var i=Array.isArray(r);var a=i?r.length:r?1:0;true?s(i===n&&a===o,"EventPluginUtils: Invalid `event`."):void 0}}function m(e,t,r,n){var o=e.type||"unknown-event";e.currentTarget=E.getNodeFromInstance(n);if(t){i.invokeGuardedCallbackWithCatch(o,r,e)}else{i.invokeGuardedCallback(o,r,e)}e.currentTarget=null}function _(e,t){var r=e._dispatchListeners;var n=e._dispatchInstances;if(true){v(e)}if(Array.isArray(r)){for(var o=0;o<r.length;o++){if(e.isPropagationStopped()){break}m(e,t,r[o],n[o])}}else if(r){m(e,t,r,n)}e._dispatchListeners=null;e._dispatchInstances=null}function g(e){var t=e._dispatchListeners;var r=e._dispatchInstances;if(true){v(e)}if(Array.isArray(t)){for(var n=0;n<t.length;n++){if(e.isPropagationStopped()){break}if(t[n](e,r[n])){return r[n]}}}else if(t){if(t(e,r)){return r}}return null}function y(e){var t=g(e);
e._dispatchInstances=null;e._dispatchListeners=null;return t}function b(e){if(true){v(e)}var t=e._dispatchListeners;var r=e._dispatchInstances;!!Array.isArray(t)?true?a(false,"executeDirectDispatch(...): Invalid `event`."):n("103"):void 0;e.currentTarget=t?E.getNodeFromInstance(r):null;var o=t?t(e):null;e.currentTarget=null;e._dispatchListeners=null;e._dispatchInstances=null;return o}function x(e){return!!e._dispatchListeners}var E={isEndish:f,isMoveish:p,isStartish:h,executeDirectDispatch:b,executeDispatchesInOrder:_,executeDispatchesInOrderStopAtTrue:y,hasDispatches:x,getInstanceFromNode:function(e){return u.getInstanceFromNode(e)},getNodeFromInstance:function(e){return u.getNodeFromInstance(e)},isAncestor:function(e,t){return l.isAncestor(e,t)},getLowestCommonAncestor:function(e,t){return l.getLowestCommonAncestor(e,t)},getParentInstance:function(e){return l.getParentInstance(e)},traverseTwoPhase:function(e,t,r){return l.traverseTwoPhase(e,t,r)},traverseEnterLeave:function(e,t,r,n,o){return l.traverseEnterLeave(e,t,r,n,o)},injection:c};t.exports=E},{140:140,16:16,162:162,171:171,64:64}],20:[function(e,t,r){"use strict";var n=e(16);var o=e(17);var i=e(19);var a=e(116);var s=e(125);var u=e(171);var l=n.PropagationPhases;var c=o.getListener;function d(e,t,r){var n=t.dispatchConfig.phasedRegistrationNames[r];return c(e,n)}function f(e,t,r){if(true){true?u(e,"Dispatching inst must not be null"):void 0}var n=t?l.bubbled:l.captured;var o=d(e,r,n);if(o){r._dispatchListeners=a(r._dispatchListeners,o);r._dispatchInstances=a(r._dispatchInstances,e)}}function p(e){if(e&&e.dispatchConfig.phasedRegistrationNames){i.traverseTwoPhase(e._targetInst,f,e)}}function h(e){if(e&&e.dispatchConfig.phasedRegistrationNames){var t=e._targetInst;var r=t?i.getParentInstance(t):null;i.traverseTwoPhase(r,f,e)}}function v(e,t,r){if(r&&r.dispatchConfig.registrationName){var n=r.dispatchConfig.registrationName;var o=c(e,n);if(o){r._dispatchListeners=a(r._dispatchListeners,o);r._dispatchInstances=a(r._dispatchInstances,e)}}}function m(e){if(e&&e.dispatchConfig.registrationName){v(e._targetInst,null,e)}}function _(e){s(e,p)}function g(e){s(e,h)}function y(e,t,r,n){i.traverseEnterLeave(r,n,v,e,t)}function b(e){s(e,m)}var x={accumulateTwoPhaseDispatches:_,accumulateTwoPhaseDispatchesSkipTarget:g,accumulateDirectDispatches:b,accumulateEnterLeaveDispatches:y};t.exports=x},{116:116,125:125,16:16,17:17,171:171,19:19}],21:[function(e,t,r){"use strict";var n=e(172);var o=e(25);var i=e(133);function a(e){this._root=e;this._startText=this.getText();this._fallbackText=null}n(a.prototype,{destructor:function(){this._root=null;this._startText=null;this._fallbackText=null},getText:function(){if("value"in this._root){return this._root.value}return this._root[i()]},getData:function(){if(this._fallbackText){return this._fallbackText}var e;var t=this._startText;var r=t.length;var n;var o=this.getText();var i=o.length;for(e=0;e<r;e++){if(t[e]!==o[e]){break}}var a=r-e;for(n=1;n<=a;n++){if(t[r-n]!==o[i-n]){break}}var s=n>1?1-n:undefined;this._fallbackText=o.slice(e,s);return this._fallbackText}});o.addPoolingTo(a);t.exports=a},{133:133,172:172,25:25}],22:[function(e,t,r){"use strict";var n=e(10);var o=n.injection.MUST_USE_PROPERTY;var i=n.injection.HAS_BOOLEAN_VALUE;var a=n.injection.HAS_NUMERIC_VALUE;var s=n.injection.HAS_POSITIVE_NUMERIC_VALUE;var u=n.injection.HAS_OVERLOADED_BOOLEAN_VALUE;var l={isCustomAttribute:RegExp.prototype.test.bind(new RegExp("^(data|aria)-["+n.ATTRIBUTE_NAME_CHAR+"]*$")),Properties:{accept:0,acceptCharset:0,accessKey:0,action:0,allowFullScreen:i,allowTransparency:0,alt:0,as:0,async:i,autoComplete:0,autoPlay:i,capture:i,cellPadding:0,cellSpacing:0,charSet:0,challenge:0,checked:o|i,cite:0,classID:0,className:0,cols:s,colSpan:0,content:0,contentEditable:0,contextMenu:0,controls:i,coords:0,crossOrigin:0,data:0,dateTime:0,default:i,defer:i,dir:0,disabled:i,download:u,draggable:0,encType:0,form:0,formAction:0,formEncType:0,formMethod:0,formNoValidate:i,formTarget:0,frameBorder:0,headers:0,height:0,hidden:i,high:0,href:0,hrefLang:0,htmlFor:0,httpEquiv:0,icon:0,id:0,inputMode:0,integrity:0,is:0,keyParams:0,keyType:0,kind:0,label:0,lang:0,list:0,loop:i,low:0,manifest:0,marginHeight:0,marginWidth:0,max:0,maxLength:0,media:0,mediaGroup:0,method:0,min:0,minLength:0,multiple:o|i,muted:o|i,name:0,nonce:0,noValidate:i,open:i,optimum:0,pattern:0,placeholder:0,playsInline:i,poster:0,preload:0,profile:0,radioGroup:0,readOnly:i,referrerPolicy:0,rel:0,required:i,reversed:i,role:0,rows:s,rowSpan:a,sandbox:0,scope:0,scoped:i,scrolling:0,seamless:i,selected:o|i,shape:0,size:s,sizes:0,span:s,spellCheck:0,src:0,srcDoc:0,srcLang:0,srcSet:0,start:a,step:0,style:0,summary:0,tabIndex:0,target:0,title:0,type:0,useMap:0,value:0,width:0,wmode:0,wrap:0,about:0,datatype:0,inlist:0,prefix:0,property:0,resource:0,typeof:0,vocab:0,autoCapitalize:0,autoCorrect:0,autoSave:0,color:0,itemProp:0,itemScope:i,itemType:0,itemID:0,itemRef:0,results:0,security:0,unselectable:0},DOMAttributeNames:{acceptCharset:"accept-charset",className:"class",htmlFor:"for",httpEquiv:"http-equiv"},DOMPropertyNames:{}};t.exports=l},{10:10}],23:[function(e,t,r){"use strict";function n(e){var t=/[=:]/g;var r={"=":"=0",":":"=2"};var n=(""+e).replace(t,function(e){return r[e]});return"$"+n}function o(e){var t=/(=0|=2)/g;var r={"=0":"=","=2":":"};var n=e[0]==="."&&e[1]==="$"?e.substring(2):e.substring(1);return(""+n).replace(t,function(e){return r[e]})}var i={escape:n,unescape:o};t.exports=i},{}],24:[function(e,t,r){"use strict";var n=e(140);var o=e(84);var i=e(83);var a=e(85);var s=e(162);var u=e(171);var l={button:true,checkbox:true,image:true,hidden:true,radio:true,reset:true,submit:true};function c(e){!(e.checkedLink==null||e.valueLink==null)?true?s(false,"Cannot provide a checkedLink and a valueLink. If you want to use checkedLink, you probably don't want to use valueLink and vice versa."):n("87"):void 0}function d(e){c(e);!(e.value==null&&e.onChange==null)?true?s(false,"Cannot provide a valueLink and a value or onChange event. If you want to use value or onChange, you probably don't want to use valueLink."):n("88"):void 0}function f(e){c(e);!(e.checked==null&&e.onChange==null)?true?s(false,"Cannot provide a checkedLink and a checked property or onChange event. If you want to use checked or onChange, you probably don't want to use checkedLink"):n("89"):void 0}var p={value:function(e,t,r){if(!e[t]||l[e.type]||e.onChange||e.readOnly||e.disabled){return null}return new Error("You provided a `value` prop to a form field without an "+"`onChange` handler. This will render a read-only field. If "+"the field should be mutable use `defaultValue`. Otherwise, "+"set either `onChange` or `readOnly`.")},checked:function(e,t,r){if(!e[t]||e.onChange||e.readOnly||e.disabled){return null}return new Error("You provided a `checked` prop to a form field without an "+"`onChange` handler. This will render a read-only field. If "+"the field should be mutable use `defaultChecked`. Otherwise, "+"set either `onChange` or `readOnly`.")},onChange:o.func};var h={};function v(e){if(e){var t=e.getName();if(t){return" Check the render method of `"+t+"`."}}return""}var m={checkPropTypes:function(e,t,r){for(var n in p){if(p.hasOwnProperty(n)){var o=p[n](t,n,e,i.prop,null,a)}if(o instanceof Error&&!(o.message in h)){h[o.message]=true;var s=v(r);true?u(false,"Failed form propType: %s%s",o.message,s):void 0}}},getValue:function(e){if(e.valueLink){d(e);return e.valueLink.value}return e.value},getChecked:function(e){if(e.checkedLink){f(e);return e.checkedLink.value}return e.checked},executeOnChange:function(e,t){if(e.valueLink){d(e);return e.valueLink.requestChange(t.target.value)}else if(e.checkedLink){f(e);return e.checkedLink.requestChange(t.target.checked)}else if(e.onChange){return e.onChange.call(undefined,t)}}};t.exports=m},{140:140,162:162,171:171,83:83,84:84,85:85}],25:[function(e,t,r){"use strict";var n=e(140);var o=e(162);var i=function(e){var t=this;if(t.instancePool.length){var r=t.instancePool.pop();t.call(r,e);return r}else{return new t(e)}};var a=function(e,t){var r=this;if(r.instancePool.length){var n=r.instancePool.pop();r.call(n,e,t);return n}else{return new r(e,t)}};var s=function(e,t,r){var n=this;if(n.instancePool.length){var o=n.instancePool.pop();n.call(o,e,t,r);return o}else{return new n(e,t,r)}};var u=function(e,t,r,n){var o=this;if(o.instancePool.length){var i=o.instancePool.pop();o.call(i,e,t,r,n);return i}else{return new o(e,t,r,n)}};var l=function(e,t,r,n,o){var i=this;if(i.instancePool.length){var a=i.instancePool.pop();i.call(a,e,t,r,n,o);return a}else{return new i(e,t,r,n,o)}};var c=function(e){var t=this;!(e instanceof t)?true?o(false,"Trying to release an instance into a pool of a different type."):n("25"):void 0;e.destructor();if(t.instancePool.length<t.poolSize){t.instancePool.push(e)}};var d=10;var f=i;var p=function(e,t){var r=e;r.instancePool=[];r.getPooled=t||f;if(!r.poolSize){r.poolSize=d}r.release=c;return r};var h={addPoolingTo:p,oneArgumentPooler:i,twoArgumentPooler:a,threeArgumentPooler:s,fourArgumentPooler:u,fiveArgumentPooler:l};t.exports=h},{140:140,162:162}],26:[function(e,t,r){"use strict";var n=e(172);var o=e(29);var i=e(32);var a=e(86);var s=e(31);var u=e(45);var l=e(61);var c=e(84);var d=e(97);var f=e(138);var p=e(171);var h=l.createElement;var v=l.createFactory;var m=l.cloneElement;if(true){var _=e(62);h=_.createElement;v=_.createFactory;m=_.cloneElement}var g=n;if(true){var y=false;g=function(){true?p(y,"React.__spread is deprecated and should not be used. Use "+"Object.assign directly or another helper function with similar "+"semantics. You may be seeing this warning due to your compiler. "+"See https://fb.me/react-spread-deprecation for more details."):void 0;y=true;return n.apply(null,arguments)}}var b={Children:{map:o.map,forEach:o.forEach,count:o.count,toArray:o.toArray,only:f},Component:i,PureComponent:a,createElement:h,cloneElement:m,isValidElement:l.isValidElement,PropTypes:c,createClass:s.createClass,createFactory:v,createMixin:function(e){return e},DOM:u,version:d,__spread:g};t.exports=b},{138:138,171:171,172:172,29:29,31:31,32:32,45:45,61:61,62:62,84:84,86:86,97:97}],27:[function(e,t,r){"use strict";var n=e(172);var o=e(16);var i=e(18);var a=e(65);var s=e(115);var u=e(134);var l=e(136);var c;var d={};var f=false;var p=0;var h={topAbort:"abort",topAnimationEnd:u("animationend")||"animationend",topAnimationIteration:u("animationiteration")||"animationiteration",topAnimationStart:u("animationstart")||"animationstart",topBlur:"blur",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topChange:"change",topClick:"click",topCompositionEnd:"compositionend",topCompositionStart:"compositionstart",topCompositionUpdate:"compositionupdate",topContextMenu:"contextmenu",topCopy:"copy",topCut:"cut",topDoubleClick:"dblclick",topDrag:"drag",topDragEnd:"dragend",topDragEnter:"dragenter",topDragExit:"dragexit",topDragLeave:"dragleave",topDragOver:"dragover",topDragStart:"dragstart",topDrop:"drop",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topFocus:"focus",topInput:"input",topKeyDown:"keydown",topKeyPress:"keypress",topKeyUp:"keyup",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topMouseDown:"mousedown",topMouseMove:"mousemove",topMouseOut:"mouseout",topMouseOver:"mouseover",topMouseUp:"mouseup",topPaste:"paste",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topScroll:"scroll",topSeeked:"seeked",topSeeking:"seeking",topSelectionChange:"selectionchange",topStalled:"stalled",topSuspend:"suspend",topTextInput:"textInput",topTimeUpdate:"timeupdate",topTouchCancel:"touchcancel",topTouchEnd:"touchend",topTouchMove:"touchmove",topTouchStart:"touchstart",topTransitionEnd:u("transitionend")||"transitionend",topVolumeChange:"volumechange",topWaiting:"waiting",topWheel:"wheel"};var v="_reactListenersID"+String(Math.random()).slice(2);function m(e){if(!Object.prototype.hasOwnProperty.call(e,v)){e[v]=p++;d[e[v]]={}}return d[e[v]]}var _=n({},a,{ReactEventListener:null,injection:{injectReactEventListener:function(e){e.setHandleTopLevel(_.handleTopLevel);_.ReactEventListener=e}},setEnabled:function(e){if(_.ReactEventListener){_.ReactEventListener.setEnabled(e)}},isEnabled:function(){return!!(_.ReactEventListener&&_.ReactEventListener.isEnabled())},listenTo:function(e,t){var r=t;var n=m(r);var a=i.registrationNameDependencies[e];var s=o.topLevelTypes;for(var u=0;u<a.length;u++){var c=a[u];if(!(n.hasOwnProperty(c)&&n[c])){if(c===s.topWheel){if(l("wheel")){_.ReactEventListener.trapBubbledEvent(s.topWheel,"wheel",r)}else if(l("mousewheel")){_.ReactEventListener.trapBubbledEvent(s.topWheel,"mousewheel",r)}else{_.ReactEventListener.trapBubbledEvent(s.topWheel,"DOMMouseScroll",r)}}else if(c===s.topScroll){if(l("scroll",true)){_.ReactEventListener.trapCapturedEvent(s.topScroll,"scroll",r)}else{_.ReactEventListener.trapBubbledEvent(s.topScroll,"scroll",_.ReactEventListener.WINDOW_HANDLE)}}else if(c===s.topFocus||c===s.topBlur){if(l("focus",true)){_.ReactEventListener.trapCapturedEvent(s.topFocus,"focus",r);_.ReactEventListener.trapCapturedEvent(s.topBlur,"blur",r)}else if(l("focusin")){_.ReactEventListener.trapBubbledEvent(s.topFocus,"focusin",r);_.ReactEventListener.trapBubbledEvent(s.topBlur,"focusout",r)}n[s.topBlur]=true;n[s.topFocus]=true}else if(h.hasOwnProperty(c)){_.ReactEventListener.trapBubbledEvent(c,h[c],r)}n[c]=true}}},trapBubbledEvent:function(e,t,r){return _.ReactEventListener.trapBubbledEvent(e,t,r)},trapCapturedEvent:function(e,t,r){return _.ReactEventListener.trapCapturedEvent(e,t,r)},supportsEventPageXY:function(){if(!document.createEvent){return false}var e=document.createEvent("MouseEvent");return e!=null&&"pageX"in e},ensureScrollValueMonitoring:function(){if(c===undefined){c=_.supportsEventPageXY()}if(!c&&!f){var e=s.refreshScrollValues;_.ReactEventListener.monitorScrollValue(e);f=true}}});t.exports=_},{115:115,134:134,136:136,16:16,172:172,18:18,65:65}],28:[function(e,t,r){(function(r){"use strict";var n=e(88);var o=e(135);var i=e(23);var a=e(144);var s=e(145);var u=e(171);var l;if(typeof r!=="undefined"&&r.env&&"development"==="test"){l=e(35)}function c(t,r,n,a){var s=t[n]===undefined;if(true){if(!l){l=e(35)}if(!s){true?u(false,"flattenChildren(...): Encountered two children with the same key, "+"`%s`. Child keys must be unique; when two children share a key, only "+"the first child will be used.%s",i.unescape(n),l.getStackAddendumByID(a)):void 0}}if(r!=null&&s){t[n]=o(r,true)}}var d={instantiateChildren:function(e,t,r,n){if(e==null){return null}var o={};if(true){s(e,function(e,t,r){return c(e,t,r,n)},o)}else{s(e,c,o)}return o},updateChildren:function(e,t,r,i,s,u,l,c,d){if(!t&&!e){return}var f;var p;for(f in t){if(!t.hasOwnProperty(f)){continue}p=e&&e[f];var h=p&&p._currentElement;var v=t[f];if(p!=null&&a(h,v)){n.receiveComponent(p,v,s,c);t[f]=p}else{if(p){i[f]=n.getHostNode(p);n.unmountComponent(p,false)}var m=o(v,true);t[f]=m;var _=n.mountComponent(m,s,u,l,c,d);r.push(_)}}for(f in e){if(e.hasOwnProperty(f)&&!(t&&t.hasOwnProperty(f))){p=e[f];i[f]=n.getHostNode(p);n.unmountComponent(p,false)}}},unmountChildren:function(e,t){for(var r in e){if(e.hasOwnProperty(r)){var o=e[r];n.unmountComponent(o,t)}}}};t.exports=d}).call(this,undefined)},{135:135,144:144,145:145,171:171,23:23,35:35,88:88}],29:[function(e,t,r){"use strict";var n=e(25);var o=e(61);var i=e(154);var a=e(145);var s=n.twoArgumentPooler;var u=n.fourArgumentPooler;var l=/\/+/g;function c(e){return(""+e).replace(l,"$&/")}function d(e,t){this.func=e;this.context=t;this.count=0}d.prototype.destructor=function(){this.func=null;this.context=null;this.count=0};n.addPoolingTo(d,s);function f(e,t,r){var n=e.func;var o=e.context;n.call(o,t,e.count++)}function p(e,t,r){if(e==null){return e}var n=d.getPooled(t,r);a(e,f,n);d.release(n)}function h(e,t,r,n){this.result=e;this.keyPrefix=t;this.func=r;this.context=n;this.count=0}h.prototype.destructor=function(){this.result=null;this.keyPrefix=null;this.func=null;this.context=null;this.count=0};n.addPoolingTo(h,u);function v(e,t,r){var n=e.result;var a=e.keyPrefix;var s=e.func;var u=e.context;var l=s.call(u,t,e.count++);if(Array.isArray(l)){m(l,n,r,i.thatReturnsArgument)}else if(l!=null){if(o.isValidElement(l)){l=o.cloneAndReplaceKey(l,a+(l.key&&(!t||t.key!==l.key)?c(l.key)+"/":"")+r)}n.push(l)}}function m(e,t,r,n,o){var i="";if(r!=null){i=c(r)+"/"}var s=h.getPooled(t,i,n,o);a(e,v,s);h.release(s)}function _(e,t,r){if(e==null){return e}var n=[];m(e,n,null,t,r);return n}function g(e,t,r){return null}function y(e,t){return a(e,g,null)}function b(e){var t=[];m(e,t,null,i.thatReturnsArgument);return t}var x={forEach:p,map:_,mapIntoWithKeyPrefixInternal:m,count:y,toArray:b};t.exports=x},{145:145,154:154,25:25,61:61}],30:[function(e,t,r){"use strict";var n=e(35);var o=e(171);function i(e,t){if(t==null){return}if(t._shadowChildren===undefined){return}if(t._shadowChildren===t.props.children){return}var r=false;if(Array.isArray(t._shadowChildren)){if(t._shadowChildren.length===t.props.children.length){for(var i=0;i<t._shadowChildren.length;i++){if(t._shadowChildren[i]!==t.props.children[i]){r=true}}}else{r=true}}if(!Array.isArray(t._shadowChildren)||r){true?o(false,"Component's children should not be mutated.%s",n.getStackAddendumByID(e)):void 0}}var a={onMountComponent:function(e){i(e,n.getElement(e))},onUpdateComponent:function(e){i(e,n.getElement(e))}};t.exports=a},{171:171,35:35}],31:[function(e,t,r){"use strict";var n=e(140),o=e(172);var i=e(32);var a=e(61);var s=e(83);var u=e(82);var l=e(80);var c=e(155);var d=e(162);var f=e(165);var p=e(166);var h=e(171);var v=p({mixins:null});var m=f({DEFINE_ONCE:null,DEFINE_MANY:null,OVERRIDE_BASE:null,DEFINE_MANY_MERGED:null});var _=[];var g={mixins:m.DEFINE_MANY,statics:m.DEFINE_MANY,propTypes:m.DEFINE_MANY,contextTypes:m.DEFINE_MANY,childContextTypes:m.DEFINE_MANY,getDefaultProps:m.DEFINE_MANY_MERGED,getInitialState:m.DEFINE_MANY_MERGED,getChildContext:m.DEFINE_MANY_MERGED,render:m.DEFINE_ONCE,componentWillMount:m.DEFINE_MANY,componentDidMount:m.DEFINE_MANY,componentWillReceiveProps:m.DEFINE_MANY,shouldComponentUpdate:m.DEFINE_ONCE,componentWillUpdate:m.DEFINE_MANY,componentDidUpdate:m.DEFINE_MANY,componentWillUnmount:m.DEFINE_MANY,updateComponent:m.OVERRIDE_BASE};var y={displayName:function(e,t){e.displayName=t},mixins:function(e,t){if(t){for(var r=0;r<t.length;r++){E(e,t[r])}}},childContextTypes:function(e,t){if(true){b(e,t,s.childContext)}e.childContextTypes=o({},e.childContextTypes,t)},contextTypes:function(e,t){if(true){b(e,t,s.context)}e.contextTypes=o({},e.contextTypes,t)},getDefaultProps:function(e,t){if(e.getDefaultProps){e.getDefaultProps=S(e.getDefaultProps,t)}else{e.getDefaultProps=t}},propTypes:function(e,t){if(true){b(e,t,s.prop)}e.propTypes=o({},e.propTypes,t)},statics:function(e,t){C(e,t)},autobind:function(){}};function b(e,t,r){for(var n in t){if(t.hasOwnProperty(n)){true?h(typeof t[n]==="function","%s: %s type `%s` is invalid; it must be a function, usually from "+"React.PropTypes.",e.displayName||"ReactClass",u[r],n):void 0}}}function x(e,t){var r=g.hasOwnProperty(t)?g[t]:null;if(O.hasOwnProperty(t)){!(r===m.OVERRIDE_BASE)?true?d(false,"ReactClassInterface: You are attempting to override `%s` from your class specification. Ensure that your method names do not overlap with React methods.",t):n("73",t):void 0}if(e){!(r===m.DEFINE_MANY||r===m.DEFINE_MANY_MERGED)?true?d(false,"ReactClassInterface: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",t):n("74",t):void 0}}function E(e,t){if(!t){if(true){var r=typeof t;var o=r==="object"&&t!==null;true?h(o,"%s: You're attempting to include a mixin that is either null "+"or not an object. Check the mixins included by the component, "+"as well as any mixins they include themselves. "+"Expected object but got %s.",e.displayName||"ReactClass",t===null?null:r):void 0}return}!(typeof t!=="function")?true?d(false,"ReactClass: You're attempting to use a component class or function as a mixin. Instead, just use a regular object."):n("75"):void 0;!!a.isValidElement(t)?true?d(false,"ReactClass: You're attempting to use a component as a mixin. Instead, just use a regular object."):n("76"):void 0;var i=e.prototype;var s=i.__reactAutoBindPairs;if(t.hasOwnProperty(v)){y.mixins(e,t.mixins)}for(var u in t){if(!t.hasOwnProperty(u)){continue}if(u===v){continue}var l=t[u];var c=i.hasOwnProperty(u);x(c,u);if(y.hasOwnProperty(u)){y[u](e,l)}else{var f=g.hasOwnProperty(u);var p=typeof l==="function";var _=p&&!f&&!c&&t.autobind!==false;if(_){s.push(u,l);i[u]=l}else{if(c){var b=g[u];!(f&&(b===m.DEFINE_MANY_MERGED||b===m.DEFINE_MANY))?true?d(false,"ReactClass: Unexpected spec policy %s for key %s when mixing in component specs.",b,u):n("77",b,u):void 0;if(b===m.DEFINE_MANY_MERGED){i[u]=S(i[u],l)}else if(b===m.DEFINE_MANY){i[u]=T(i[u],l)}}else{i[u]=l;if(true){if(typeof l==="function"&&t.displayName){i[u].displayName=t.displayName+"_"+u}}}}}}}function C(e,t){if(!t){return}for(var r in t){var o=t[r];if(!t.hasOwnProperty(r)){continue}var i=r in y;!!i?true?d(false,'ReactClass: You are attempting to define a reserved property, `%s`, that shouldn\'t be on the "statics" key. Define it as an instance property instead; it will still be accessible on the constructor.',r):n("78",r):void 0;var a=r in e;!!a?true?d(false,"ReactClass: You are attempting to define `%s` on your component more than once. This conflict may be due to a mixin.",r):n("79",r):void 0;e[r]=o}}function w(e,t){!(e&&t&&typeof e==="object"&&typeof t==="object")?true?d(false,"mergeIntoWithNoDuplicateKeys(): Cannot merge non-objects."):n("80"):void 0;for(var r in t){if(t.hasOwnProperty(r)){!(e[r]===undefined)?true?d(false,"mergeIntoWithNoDuplicateKeys(): Tried to merge two objects with the same key: `%s`. This conflict may be due to a mixin; in particular, this may be caused by two getInitialState() or getDefaultProps() methods returning objects with clashing keys.",r):n("81",r):void 0;e[r]=t[r]}}return e}function S(e,t){return function r(){var n=e.apply(this,arguments);var o=t.apply(this,arguments);if(n==null){return o}else if(o==null){return n}var i={};w(i,n);w(i,o);return i}}function T(e,t){return function r(){e.apply(this,arguments);t.apply(this,arguments)}}function R(e,t){var r=t.bind(e);if(true){r.__reactBoundContext=e;r.__reactBoundMethod=t;r.__reactBoundArguments=null;var n=e.constructor.displayName;var o=r.bind;r.bind=function(i){for(var a=arguments.length,s=Array(a>1?a-1:0),u=1;u<a;u++){s[u-1]=arguments[u]}if(i!==e&&i!==null){true?h(false,"bind(): React component methods may only be bound to the "+"component instance. See %s",n):void 0}else if(!s.length){true?h(false,"bind(): You are binding a component method to the component. "+"React does this for you automatically in a high-performance "+"way, so you can safely remove this call. See %s",n):void 0;return r}var l=o.apply(r,arguments);l.__reactBoundContext=e;l.__reactBoundMethod=t;l.__reactBoundArguments=s;return l}}return r}function M(e){var t=e.__reactAutoBindPairs;for(var r=0;r<t.length;r+=2){var n=t[r];var o=t[r+1];e[n]=R(e,o)}}var O={replaceState:function(e,t){this.updater.enqueueReplaceState(this,e);if(t){this.updater.enqueueCallback(this,t,"replaceState")}},isMounted:function(){return this.updater.isMounted(this)}};var k=function(){};o(k.prototype,i.prototype,O);var P={createClass:function(e){var t=function(e,r,o){if(true){true?h(this instanceof t,"Something is calling a React component directly. Use a factory or "+"JSX instead. See: https://fb.me/react-legacyfactory"):void 0}if(this.__reactAutoBindPairs.length){M(this)}this.props=e;this.context=r;this.refs=c;this.updater=o||l;this.state=null;var i=this.getInitialState?this.getInitialState():null;if(true){if(i===undefined&&this.getInitialState._isMockFunction){i=null}}!(typeof i==="object"&&!Array.isArray(i))?true?d(false,"%s.getInitialState(): must return an object or null",t.displayName||"ReactCompositeComponent"):n("82",t.displayName||"ReactCompositeComponent"):void 0;this.state=i};t.prototype=new k;t.prototype.constructor=t;t.prototype.__reactAutoBindPairs=[];_.forEach(E.bind(null,t));E(t,e);if(t.getDefaultProps){t.defaultProps=t.getDefaultProps()}if(true){if(t.getDefaultProps){t.getDefaultProps.isReactClassApproved={}}if(t.prototype.getInitialState){t.prototype.getInitialState.isReactClassApproved={}}}!t.prototype.render?true?d(false,"createClass(...): Class specification must implement a `render` method."):n("83"):void 0;if(true){true?h(!t.prototype.componentShouldUpdate,"%s has a method called "+"componentShouldUpdate(). Did you mean shouldComponentUpdate()? "+"The name is phrased as a question because the function is "+"expected to return a value.",e.displayName||"A component"):void 0;true?h(!t.prototype.componentWillRecieveProps,"%s has a method called "+"componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",e.displayName||"A component"):void 0}for(var r in g){if(!t.prototype[r]){t.prototype[r]=null}}return t},injection:{injectMixin:function(e){_.push(e)}}};t.exports=P},{140:140,155:155,162:162,165:165,166:166,171:171,172:172,32:32,61:61,80:80,82:82,83:83}],32:[function(e,t,r){"use strict";var n=e(140);var o=e(80);var i=e(118);var a=e(155);var s=e(162);var u=e(171);function l(e,t,r){this.props=e;this.context=t;this.refs=a;this.updater=r||o}l.prototype.isReactComponent={};l.prototype.setState=function(e,t){!(typeof e==="object"||typeof e==="function"||e==null)?true?s(false,"setState(...): takes an object of state variables to update or a function which returns an object of state variables."):n("85"):void 0;this.updater.enqueueSetState(this,e);if(t){this.updater.enqueueCallback(this,t,"setState")}};l.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this);if(e){this.updater.enqueueCallback(this,e,"forceUpdate")}};if(true){var c={isMounted:["isMounted","Instead, make sure to clean up subscriptions and pending requests in "+"componentWillUnmount to prevent memory leaks."],replaceState:["replaceState","Refactor your code to use setState instead (see "+"https://github.com/facebook/react/issues/3236)."]};var d=function(e,t){if(i){Object.defineProperty(l.prototype,e,{get:function(){true?u(false,"%s(...) is deprecated in plain JavaScript React classes. %s",t[0],t[1]):void 0;return undefined}})}};for(var f in c){if(c.hasOwnProperty(f)){d(f,c[f])}}}t.exports=l},{118:118,140:140,155:155,162:162,171:171,80:80}],33:[function(e,t,r){"use strict";var n=e(7);var o=e(47);var i={processChildrenUpdates:o.dangerouslyProcessChildrenUpdates,replaceNodeWithMarkup:n.dangerouslyReplaceNodeWithMarkup};t.exports=i},{47:47,7:7}],34:[function(e,t,r){"use strict";var n=e(140);var o=e(162);var i=false;var a={replaceNodeWithMarkup:null,processChildrenUpdates:null,injection:{injectEnvironment:function(e){!!i?true?o(false,"ReactCompositeComponent: injectEnvironment() can only be called once."):n("104"):void 0;a.replaceNodeWithMarkup=e.replaceNodeWithMarkup;a.processChildrenUpdates=e.processChildrenUpdates;i=true}}};t.exports=a},{140:140,162:162}],35:[function(e,t,r){"use strict";var n=e(140);var o=e(37);var i=e(162);var a=e(171);function s(e){var t=Function.prototype.toString;var r=Object.prototype.hasOwnProperty;var n=RegExp("^"+t.call(r).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");try{var o=t.call(e);return n.test(o)}catch(e){return false}}var u=typeof Array.from==="function"&&typeof Map==="function"&&s(Map)&&Map.prototype!=null&&typeof Map.prototype.keys==="function"&&s(Map.prototype.keys)&&typeof Set==="function"&&s(Set)&&Set.prototype!=null&&typeof Set.prototype.keys==="function"&&s(Set.prototype.keys);var l;var c;var d;var f;if(u){l=new Map;c=new Set}else{d={};f={}}var p=[];function h(e){return"."+e}function v(e){return parseInt(e.substr(1),10)}function m(e){if(u){return l.get(e)}else{var t=h(e);return d[t]}}function _(e){if(u){l["delete"](e)}else{var t=h(e);delete d[t]}}function g(e,t,r){var n={element:t,parentID:r,text:null,childIDs:[],isMounted:false,updateCount:0};if(u){l.set(e,n)}else{var o=h(e);d[o]=n}}function y(e){if(u){c.add(e)}else{var t=h(e);f[t]=true}}function b(e){if(u){c["delete"](e)}else{var t=h(e);delete f[t]}}function x(){if(u){return Array.from(l.keys())}else{return Object.keys(d).map(v)}}function E(){if(u){return Array.from(c.keys())}else{return Object.keys(f).map(v)}}function C(e){var t=m(e);if(t){var r=t.childIDs;_(e);r.forEach(C)}}function w(e,t,r){return"\n    in "+e+(t?" (at "+t.fileName.replace(/^.*[\\\/]/,"")+":"+t.lineNumber+")":r?" (created by "+r+")":"")}function S(e){if(e==null){return"#empty"}else if(typeof e==="string"||typeof e==="number"){return"#text"}else if(typeof e.type==="string"){return e.type}else{return e.type.displayName||e.type.name||"Unknown"}}function T(e){var t=R.getDisplayName(e);var r=R.getElement(e);var n=R.getOwnerID(e);var o;if(n){o=R.getDisplayName(n)}true?a(r,"ReactComponentTreeHook: Missing React element for debugID %s when "+"building stack",e):void 0;return w(t,r&&r._source,o)}var R={onSetChildren:function(e,t){var r=m(e);r.childIDs=t;for(var o=0;o<t.length;o++){var a=t[o];var s=m(a);!s?true?i(false,"Expected hook events to fire for the child before its parent includes it in onSetChildren()."):n("140"):void 0;!(s.childIDs!=null||typeof s.element!=="object"||s.element==null)?true?i(false,"Expected onSetChildren() to fire for a container child before its parent includes it in onSetChildren()."):n("141"):void 0;!s.isMounted?true?i(false,"Expected onMountComponent() to fire for the child before its parent includes it in onSetChildren()."):n("71"):void 0;if(s.parentID==null){s.parentID=e}!(s.parentID===e)?true?i(false,"Expected onBeforeMountComponent() parent and onSetChildren() to be consistent (%s has parents %s and %s).",a,s.parentID,e):n("142",a,s.parentID,e):void 0}},onBeforeMountComponent:function(e,t,r){g(e,t,r)},onBeforeUpdateComponent:function(e,t){var r=m(e);if(!r||!r.isMounted){return}r.element=t},onMountComponent:function(e){var t=m(e);t.isMounted=true;var r=t.parentID===0;if(r){y(e)}},onUpdateComponent:function(e){var t=m(e);if(!t||!t.isMounted){return}t.updateCount++},onUnmountComponent:function(e){var t=m(e);if(t){t.isMounted=false;var r=t.parentID===0;if(r){b(e)}}p.push(e)},purgeUnmountedComponents:function(){if(R._preventPurging){return}for(var e=0;e<p.length;e++){var t=p[e];C(t)}p.length=0},isMounted:function(e){var t=m(e);return t?t.isMounted:false},getCurrentStackAddendum:function(e){var t="";if(e){var r=e.type;var n=typeof r==="function"?r.displayName||r.name:r;var i=e._owner;t+=w(n||"Unknown",e._source,i&&i.getName())}var a=o.current;var s=a&&a._debugID;t+=R.getStackAddendumByID(s);return t},getStackAddendumByID:function(e){var t="";while(e){t+=T(e);e=R.getParentID(e)}return t},getChildIDs:function(e){var t=m(e);return t?t.childIDs:[]},getDisplayName:function(e){var t=R.getElement(e);if(!t){return null}return S(t)},getElement:function(e){var t=m(e);return t?t.element:null},getOwnerID:function(e){var t=R.getElement(e);if(!t||!t._owner){return null}return t._owner._debugID},getParentID:function(e){var t=m(e);return t?t.parentID:null},getSource:function(e){var t=m(e);var r=t?t.element:null;var n=r!=null?r._source:null;return n},getText:function(e){var t=R.getElement(e);if(typeof t==="string"){return t}else if(typeof t==="number"){return""+t}else{return null}},getUpdateCount:function(e){var t=m(e);return t?t.updateCount:0},getRegisteredIDs:x,getRootIDs:E};t.exports=R},{140:140,162:162,171:171,37:37}],36:[function(e,t,r){"use strict";var n=e(140),o=e(172);var i=e(34);var a=e(37);var s=e(61);var u=e(64);var l=e(72);var c=e(73);var d=e(79);var f=e(83);var p=e(88);var h=e(119);var v=e(155);var m=e(162);var _=e(170);var g=e(144);var y=e(171);var b={ImpureClass:0,
PureClass:1,StatelessFunctional:2};function x(e){}x.prototype.render=function(){var e=l.get(this)._currentElement.type;var t=e(this.props,this.context,this.updater);E(e,t);return t};function E(e,t){if(true){true?y(t===null||t===false||s.isValidElement(t),"%s(...): A valid React element (or null) must be returned. You may have "+"returned undefined, an array or some other invalid object.",e.displayName||e.name||"Component"):void 0;true?y(!e.childContextTypes,"%s(...): childContextTypes cannot be defined on a functional component.",e.displayName||e.name||"Component"):void 0}}function C(e){return!!(e.prototype&&e.prototype.isReactComponent)}function w(e){return!!(e.prototype&&e.prototype.isPureReactComponent)}function S(e,t,r){if(t===0){return e()}c.debugTool.onBeginLifeCycleTimer(t,r);try{return e()}finally{c.debugTool.onEndLifeCycleTimer(t,r)}}var T=1;var R={construct:function(e){this._currentElement=e;this._rootNodeID=0;this._compositeType=null;this._instance=null;this._hostParent=null;this._hostContainerInfo=null;this._updateBatchNumber=null;this._pendingElement=null;this._pendingStateQueue=null;this._pendingReplaceState=false;this._pendingForceUpdate=false;this._renderedNodeType=null;this._renderedComponent=null;this._context=null;this._mountOrder=0;this._topLevelWrapper=null;this._pendingCallbacks=null;this._calledComponentWillUnmount=false;if(true){this._warnedAboutRefsInRender=false}},mountComponent:function(e,t,r,o){var i=this;this._context=o;this._mountOrder=T++;this._hostParent=t;this._hostContainerInfo=r;var a=this._currentElement.props;var u=this._processContext(o);var c=this._currentElement.type;var d=e.getUpdateQueue();var f=C(c);var p=this._constructComponent(f,a,u,d);var h;if(!f&&(p==null||p.render==null)){h=p;E(c,h);!(p===null||p===false||s.isValidElement(p))?true?m(false,"%s(...): A valid React element (or null) must be returned. You may have returned undefined, an array or some other invalid object.",c.displayName||c.name||"Component"):n("105",c.displayName||c.name||"Component"):void 0;p=new x(c);this._compositeType=b.StatelessFunctional}else{if(w(c)){this._compositeType=b.PureClass}else{this._compositeType=b.ImpureClass}}if(true){if(p.render==null){true?y(false,"%s(...): No `render` method found on the returned component "+"instance: you may have forgotten to define `render`.",c.displayName||c.name||"Component"):void 0}var _=p.props!==a;var g=c.displayName||c.name||"Component";true?y(p.props===undefined||!_,"%s(...): When calling super() in `%s`, make sure to pass "+"up the same props that your component's constructor was passed.",g,g):void 0}p.props=a;p.context=u;p.refs=v;p.updater=d;this._instance=p;l.set(p,this);if(true){true?y(!p.getInitialState||p.getInitialState.isReactClassApproved,"getInitialState was defined on %s, a plain JavaScript class. "+"This is only supported for classes created using React.createClass. "+"Did you mean to define a state property instead?",this.getName()||"a component"):void 0;true?y(!p.getDefaultProps||p.getDefaultProps.isReactClassApproved,"getDefaultProps was defined on %s, a plain JavaScript class. "+"This is only supported for classes created using React.createClass. "+"Use a static property to define defaultProps instead.",this.getName()||"a component"):void 0;true?y(!p.propTypes,"propTypes was defined as an instance property on %s. Use a static "+"property to define propTypes instead.",this.getName()||"a component"):void 0;true?y(!p.contextTypes,"contextTypes was defined as an instance property on %s. Use a "+"static property to define contextTypes instead.",this.getName()||"a component"):void 0;true?y(typeof p.componentShouldUpdate!=="function","%s has a method called "+"componentShouldUpdate(). Did you mean shouldComponentUpdate()? "+"The name is phrased as a question because the function is "+"expected to return a value.",this.getName()||"A component"):void 0;true?y(typeof p.componentDidUnmount!=="function","%s has a method called "+"componentDidUnmount(). But there is no such lifecycle method. "+"Did you mean componentWillUnmount()?",this.getName()||"A component"):void 0;true?y(typeof p.componentWillRecieveProps!=="function","%s has a method called "+"componentWillRecieveProps(). Did you mean componentWillReceiveProps()?",this.getName()||"A component"):void 0}var R=p.state;if(R===undefined){p.state=R=null}!(typeof R==="object"&&!Array.isArray(R))?true?m(false,"%s.state: must be set to an object or null",this.getName()||"ReactCompositeComponent"):n("106",this.getName()||"ReactCompositeComponent"):void 0;this._pendingStateQueue=null;this._pendingReplaceState=false;this._pendingForceUpdate=false;var M;if(p.unstable_handleError){M=this.performInitialMountWithErrorHandling(h,t,r,e,o)}else{M=this.performInitialMount(h,t,r,e,o)}if(p.componentDidMount){if(true){e.getReactMountReady().enqueue(function(){S(function(){return p.componentDidMount()},i._debugID,"componentDidMount")})}else{e.getReactMountReady().enqueue(p.componentDidMount,p)}}return M},_constructComponent:function(e,t,r,n){if(true){a.current=this;try{return this._constructComponentWithoutOwner(e,t,r,n)}finally{a.current=null}}else{return this._constructComponentWithoutOwner(e,t,r,n)}},_constructComponentWithoutOwner:function(e,t,r,n){var o=this._currentElement.type;if(e){if(true){return S(function(){return new o(t,r,n)},this._debugID,"ctor")}else{return new o(t,r,n)}}if(true){return S(function(){return o(t,r,n)},this._debugID,"render")}else{return o(t,r,n)}},performInitialMountWithErrorHandling:function(e,t,r,n,o){var i;var a=n.checkpoint();try{i=this.performInitialMount(e,t,r,n,o)}catch(s){n.rollback(a);this._instance.unstable_handleError(s);if(this._pendingStateQueue){this._instance.state=this._processPendingState(this._instance.props,this._instance.context)}a=n.checkpoint();this._renderedComponent.unmountComponent(true);n.rollback(a);i=this.performInitialMount(e,t,r,n,o)}return i},performInitialMount:function(e,t,r,n,o){var i=this._instance;var a=0;if(true){a=this._debugID}if(i.componentWillMount){if(true){S(function(){return i.componentWillMount()},a,"componentWillMount")}else{i.componentWillMount()}if(this._pendingStateQueue){i.state=this._processPendingState(i.props,i.context)}}if(e===undefined){e=this._renderValidatedComponent()}var s=d.getType(e);this._renderedNodeType=s;var u=this._instantiateReactComponent(e,s!==d.EMPTY);this._renderedComponent=u;var l=p.mountComponent(u,n,t,r,this._processChildContext(o),a);if(true){if(a!==0){var f=u._debugID!==0?[u._debugID]:[];c.debugTool.onSetChildren(a,f)}}return l},getHostNode:function(){return p.getHostNode(this._renderedComponent)},unmountComponent:function(e){if(!this._renderedComponent){return}var t=this._instance;if(t.componentWillUnmount&&!t._calledComponentWillUnmount){t._calledComponentWillUnmount=true;if(e){var r=this.getName()+".componentWillUnmount()";u.invokeGuardedCallback(r,t.componentWillUnmount.bind(t))}else{if(true){S(function(){return t.componentWillUnmount()},this._debugID,"componentWillUnmount")}else{t.componentWillUnmount()}}}if(this._renderedComponent){p.unmountComponent(this._renderedComponent,e);this._renderedNodeType=null;this._renderedComponent=null;this._instance=null}this._pendingStateQueue=null;this._pendingReplaceState=false;this._pendingForceUpdate=false;this._pendingCallbacks=null;this._pendingElement=null;this._context=null;this._rootNodeID=0;this._topLevelWrapper=null;l.remove(t)},_maskContext:function(e){var t=this._currentElement.type;var r=t.contextTypes;if(!r){return v}var n={};for(var o in r){n[o]=e[o]}return n},_processContext:function(e){var t=this._maskContext(e);if(true){var r=this._currentElement.type;if(r.contextTypes){this._checkContextTypes(r.contextTypes,t,f.context)}}return t},_processChildContext:function(e){var t=this._currentElement.type;var r=this._instance;var i;if(r.getChildContext){if(true){c.debugTool.onBeginProcessingChildContext();try{i=r.getChildContext()}finally{c.debugTool.onEndProcessingChildContext()}}else{i=r.getChildContext()}}if(i){!(typeof t.childContextTypes==="object")?true?m(false,"%s.getChildContext(): childContextTypes must be defined in order to use getChildContext().",this.getName()||"ReactCompositeComponent"):n("107",this.getName()||"ReactCompositeComponent"):void 0;if(true){this._checkContextTypes(t.childContextTypes,i,f.childContext)}for(var a in i){!(a in t.childContextTypes)?true?m(false,'%s.getChildContext(): key "%s" is not defined in childContextTypes.',this.getName()||"ReactCompositeComponent",a):n("108",this.getName()||"ReactCompositeComponent",a):void 0}return o({},e,i)}return e},_checkContextTypes:function(e,t,r){h(e,t,r,this.getName(),null,this._debugID)},receiveComponent:function(e,t,r){var n=this._currentElement;var o=this._context;this._pendingElement=null;this.updateComponent(t,n,e,o,r)},performUpdateIfNecessary:function(e){if(this._pendingElement!=null){p.receiveComponent(this,this._pendingElement,e,this._context)}else if(this._pendingStateQueue!==null||this._pendingForceUpdate){this.updateComponent(e,this._currentElement,this._currentElement,this._context,this._context)}else{this._updateBatchNumber=null}},updateComponent:function(e,t,r,o,i){var a=this._instance;!(a!=null)?true?m(false,"Attempted to update component `%s` that has already been unmounted (or failed to mount).",this.getName()||"ReactCompositeComponent"):n("136",this.getName()||"ReactCompositeComponent"):void 0;var s=false;var u;if(this._context===i){u=a.context}else{u=this._processContext(i);s=true}var l=t.props;var c=r.props;if(t!==r){s=true}if(s&&a.componentWillReceiveProps){if(true){S(function(){return a.componentWillReceiveProps(c,u)},this._debugID,"componentWillReceiveProps")}else{a.componentWillReceiveProps(c,u)}}var d=this._processPendingState(c,u);var f=true;if(!this._pendingForceUpdate){if(a.shouldComponentUpdate){if(true){f=S(function(){return a.shouldComponentUpdate(c,d,u)},this._debugID,"shouldComponentUpdate")}else{f=a.shouldComponentUpdate(c,d,u)}}else{if(this._compositeType===b.PureClass){f=!_(l,c)||!_(a.state,d)}}}if(true){true?y(f!==undefined,"%s.shouldComponentUpdate(): Returned undefined instead of a "+"boolean value. Make sure to return true or false.",this.getName()||"ReactCompositeComponent"):void 0}this._updateBatchNumber=null;if(f){this._pendingForceUpdate=false;this._performComponentUpdate(r,c,d,u,e,i)}else{this._currentElement=r;this._context=i;a.props=c;a.state=d;a.context=u}},_processPendingState:function(e,t){var r=this._instance;var n=this._pendingStateQueue;var i=this._pendingReplaceState;this._pendingReplaceState=false;this._pendingStateQueue=null;if(!n){return r.state}if(i&&n.length===1){return n[0]}var a=o({},i?n[0]:r.state);for(var s=i?1:0;s<n.length;s++){var u=n[s];o(a,typeof u==="function"?u.call(r,a,e,t):u)}return a},_performComponentUpdate:function(e,t,r,n,o,i){var a=this;var s=this._instance;var u=Boolean(s.componentDidUpdate);var l;var c;var d;if(u){l=s.props;c=s.state;d=s.context}if(s.componentWillUpdate){if(true){S(function(){return s.componentWillUpdate(t,r,n)},this._debugID,"componentWillUpdate")}else{s.componentWillUpdate(t,r,n)}}this._currentElement=e;this._context=i;s.props=t;s.state=r;s.context=n;this._updateRenderedComponent(o,i);if(u){if(true){o.getReactMountReady().enqueue(function(){S(s.componentDidUpdate.bind(s,l,c,d),a._debugID,"componentDidUpdate")})}else{o.getReactMountReady().enqueue(s.componentDidUpdate.bind(s,l,c,d),s)}}},_updateRenderedComponent:function(e,t){var r=this._renderedComponent;var n=r._currentElement;var o=this._renderValidatedComponent();var i=0;if(true){i=this._debugID}if(g(n,o)){p.receiveComponent(r,o,e,this._processChildContext(t))}else{var a=p.getHostNode(r);p.unmountComponent(r,false);var s=d.getType(o);this._renderedNodeType=s;var u=this._instantiateReactComponent(o,s!==d.EMPTY);this._renderedComponent=u;var l=p.mountComponent(u,e,this._hostParent,this._hostContainerInfo,this._processChildContext(t),i);if(true){if(i!==0){var f=u._debugID!==0?[u._debugID]:[];c.debugTool.onSetChildren(i,f)}}this._replaceNodeWithMarkup(a,l,r)}},_replaceNodeWithMarkup:function(e,t,r){i.replaceNodeWithMarkup(e,t,r)},_renderValidatedComponentWithoutOwnerOrContext:function(){var e=this._instance;var t;if(true){t=S(function(){return e.render()},this._debugID,"render")}else{t=e.render()}if(true){if(t===undefined&&e.render._isMockFunction){t=null}}return t},_renderValidatedComponent:function(){var e;if(true){a.current=this;try{e=this._renderValidatedComponentWithoutOwnerOrContext()}finally{a.current=null}}else{e=this._renderValidatedComponentWithoutOwnerOrContext()}!(e===null||e===false||s.isValidElement(e))?true?m(false,"%s.render(): A valid React element (or null) must be returned. You may have returned undefined, an array or some other invalid object.",this.getName()||"ReactCompositeComponent"):n("109",this.getName()||"ReactCompositeComponent"):void 0;return e},attachRef:function(e,t){var r=this.getPublicInstance();!(r!=null)?true?m(false,"Stateless function components cannot have refs."):n("110"):void 0;var o=t.getPublicInstance();if(true){var i=t&&t.getName?t.getName():"a component";true?y(o!=null||t._compositeType!==b.StatelessFunctional,"Stateless function components cannot be given refs "+'(See ref "%s" in %s created by %s). '+"Attempts to access this ref will fail.",e,i,this.getName()):void 0}var a=r.refs===v?r.refs={}:r.refs;a[e]=o},detachRef:function(e){var t=this.getPublicInstance().refs;delete t[e]},getName:function(){var e=this._currentElement.type;var t=this._instance&&this._instance.constructor;return e.displayName||t&&t.displayName||e.name||t&&t.name||null},getPublicInstance:function(){var e=this._instance;if(this._compositeType===b.StatelessFunctional){return null}return e},_instantiateReactComponent:null};var M={Mixin:R};t.exports=M},{119:119,140:140,144:144,155:155,162:162,170:170,171:171,172:172,34:34,37:37,61:61,64:64,72:72,73:73,79:79,83:83,88:88}],37:[function(e,t,r){"use strict";var n={current:null};t.exports=n},{}],38:[function(e,t,r){"use strict";var n=e(42);var o=e(60);var i=e(76);var a=e(88);var s=e(96);var u=e(97);var l=e(123);var c=e(130);var d=e(141);var f=e(171);o.inject();var p={findDOMNode:l,render:i.render,unmountComponentAtNode:i.unmountComponentAtNode,version:u,unstable_batchedUpdates:s.batchedUpdates,unstable_renderSubtreeIntoContainer:d};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__!=="undefined"&&typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.inject==="function"){__REACT_DEVTOOLS_GLOBAL_HOOK__.inject({ComponentTree:{getClosestInstanceFromNode:n.getClosestInstanceFromNode,getNodeFromInstance:function(e){if(e._renderedComponent){e=c(e)}if(e){return n.getNodeFromInstance(e)}else{return null}}},Mount:i,Reconciler:a})}if(true){var h=e(148);if(h.canUseDOM&&window.top===window.self){if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__==="undefined"){if(navigator.userAgent.indexOf("Chrome")>-1&&navigator.userAgent.indexOf("Edge")===-1||navigator.userAgent.indexOf("Firefox")>-1){var v=window.location.protocol.indexOf("http")===-1&&navigator.userAgent.indexOf("Firefox")===-1;console.debug("Download the React DevTools "+(v?"and use an HTTP server (instead of a file: URL) ":"")+"for a better development experience: "+"https://fb.me/react-devtools")}}var m=function e(){};true?f((m.name||m.toString()).indexOf("testFn")!==-1,"It looks like you're using a minified copy of the development build "+"of React. When deploying React apps to production, make sure to use "+"the production build which skips development warnings and is faster. "+"See https://fb.me/react-minification for more details."):void 0;var _=document.documentMode&&document.documentMode<8;true?f(!_,"Internet Explorer is running in compatibility mode; please add the "+"following tag to your HTML to prevent this from happening: "+'<meta http-equiv="X-UA-Compatible" content="IE=edge" />'):void 0;var g=[Array.isArray,Array.prototype.every,Array.prototype.forEach,Array.prototype.indexOf,Array.prototype.map,Date.now,Function.prototype.bind,Object.keys,String.prototype.split,String.prototype.trim];for(var y=0;y<g.length;y++){if(!g[y]){true?f(false,"One or more ES5 shims expected by React are not available: "+"https://fb.me/react-warning-polyfills"):void 0;break}}}}if(true){var b=e(73);var x=e(57);var E=e(49);b.debugTool.addHook(x);b.debugTool.addHook(E)}t.exports=p},{123:123,130:130,141:141,148:148,171:171,42:42,49:49,57:57,60:60,73:73,76:76,88:88,96:96,97:97}],39:[function(e,t,r){"use strict";var n=e(14);var o={getHostProps:n.getHostProps};t.exports=o},{14:14}],40:[function(e,t,r){"use strict";var n=e(140),o=e(172);var i=e(1);var a=e(4);var s=e(8);var u=e(9);var l=e(10);var c=e(11);var d=e(16);var f=e(17);var p=e(18);var h=e(27);var v=e(39);var m=e(41);var _=e(42);var g=e(48);var y=e(50);var b=e(51);var x=e(55);var E=e(73);var C=e(77);var w=e(92);var S=e(154);var T=e(122);var R=e(162);var M=e(136);var O=e(166);var k=e(170);var P=e(146);var D=e(171);var B=m;var F=f.deleteListener;var A=_.getNodeFromInstance;var I=h.listenTo;var N=p.registrationNameModules;var L={string:true,number:true};var U=O({style:null});var j=O({__html:null});var V={children:null,dangerouslySetInnerHTML:null,suppressContentEditableWarning:null};var z=11;function W(e){if(e){var t=e._currentElement._owner||null;if(t){var r=t.getName();if(r){return" This DOM node was rendered by `"+r+"`."}}}return""}function H(e){if(typeof e==="object"){if(Array.isArray(e)){return"["+e.map(H).join(", ")+"]"}else{var t=[];for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r)){var n=/^[a-z$_][\w$_]*$/i.test(r)?r:JSON.stringify(r);t.push(n+": "+H(e[r]))}}return"{"+t.join(", ")+"}"}}else if(typeof e==="string"){return JSON.stringify(e)}else if(typeof e==="function"){return"[function object]"}return String(e)}var G={};function K(e,t,r){if(e==null||t==null){return}if(k(e,t)){return}var n=r._tag;var o=r._currentElement._owner;var i;if(o){i=o.getName()}var a=i+"|"+n;if(G.hasOwnProperty(a)){return}G[a]=true;true?D(false,"`%s` was passed a style object that has previously been mutated. "+"Mutating `style` is deprecated. Consider cloning it beforehand. Check "+"the `render` %s. Previous style: %s. Mutated style: %s.",n,o?"of `"+i+"`":"using <"+n+">",H(e),H(t)):void 0}function q(e,t){if(!t){return}if(ie[e._tag]){!(t.children==null&&t.dangerouslySetInnerHTML==null)?true?R(false,"%s is a void element tag and must neither have `children` nor use `dangerouslySetInnerHTML`.%s",e._tag,e._currentElement._owner?" Check the render method of "+e._currentElement._owner.getName()+".":""):n("137",e._tag,e._currentElement._owner?" Check the render method of "+e._currentElement._owner.getName()+".":""):void 0}if(t.dangerouslySetInnerHTML!=null){!(t.children==null)?true?R(false,"Can only set one of `children` or `props.dangerouslySetInnerHTML`."):n("60"):void 0;!(typeof t.dangerouslySetInnerHTML==="object"&&j in t.dangerouslySetInnerHTML)?true?R(false,"`props.dangerouslySetInnerHTML` must be in the form `{__html: ...}`. Please visit https://fb.me/react-invariant-dangerously-set-inner-html for more information."):n("61"):void 0}if(true){true?D(t.innerHTML==null,"Directly setting property `innerHTML` is not permitted. "+"For more information, lookup documentation on `dangerouslySetInnerHTML`."):void 0;true?D(t.suppressContentEditableWarning||!t.contentEditable||t.children==null,"A component is `contentEditable` and contains `children` managed by "+"React. It is now your responsibility to guarantee that none of "+"those nodes are unexpectedly modified or duplicated. This is "+"probably not intentional."):void 0;true?D(t.onFocusIn==null&&t.onFocusOut==null,"React uses onFocus and onBlur instead of onFocusIn and onFocusOut. "+"All React events are normalized to bubble, so onFocusIn and onFocusOut "+"are not needed/supported by React."):void 0}!(t.style==null||typeof t.style==="object")?true?R(false,"The `style` prop expects a mapping from style properties to values, not a string. For example, style={{marginRight: spacing + 'em'}} when using JSX.%s",W(e)):n("62",W(e)):void 0}function $(e,t,r,n){if(n instanceof w){return}if(true){true?D(t!=="onScroll"||M("scroll",true),"This browser doesn't support the `onScroll` event"):void 0}var o=e._hostContainerInfo;var i=o._node&&o._node.nodeType===z;var a=i?o._node:o._ownerDocument;I(t,a);n.getReactMountReady().enqueue(Y,{inst:e,registrationName:t,listener:r})}function Y(){var e=this;f.putListener(e.inst,e.registrationName,e.listener)}function X(){var e=this;g.postMountWrapper(e)}function Z(){var e=this;x.postMountWrapper(e)}function J(){var e=this;y.postMountWrapper(e)}var Q=S;if(true){Q=function(e){var t=this._contentDebugID!=null;var r=this._debugID;var n=-r;if(e==null){if(t){E.debugTool.onUnmountComponent(this._contentDebugID)}this._contentDebugID=null;return}P(null,String(e),this,this._ancestorInfo);this._contentDebugID=n;if(t){E.debugTool.onBeforeUpdateComponent(n,e);E.debugTool.onUpdateComponent(n)}else{E.debugTool.onBeforeMountComponent(n,e,r);E.debugTool.onMountComponent(n);E.debugTool.onSetChildren(r,[n])}}}var ee={topAbort:"abort",topCanPlay:"canplay",topCanPlayThrough:"canplaythrough",topDurationChange:"durationchange",topEmptied:"emptied",topEncrypted:"encrypted",topEnded:"ended",topError:"error",topLoadedData:"loadeddata",topLoadedMetadata:"loadedmetadata",topLoadStart:"loadstart",topPause:"pause",topPlay:"play",topPlaying:"playing",topProgress:"progress",topRateChange:"ratechange",topSeeked:"seeked",topSeeking:"seeking",topStalled:"stalled",topSuspend:"suspend",topTimeUpdate:"timeupdate",topVolumeChange:"volumechange",topWaiting:"waiting"};function te(){var e=this;!e._rootNodeID?true?R(false,"Must be mounted to trap events"):n("63"):void 0;var t=A(e);!t?true?R(false,"trapBubbledEvent(...): Requires node to be rendered."):n("64"):void 0;switch(e._tag){case"iframe":case"object":e._wrapperState.listeners=[h.trapBubbledEvent(d.topLevelTypes.topLoad,"load",t)];break;case"video":case"audio":e._wrapperState.listeners=[];for(var r in ee){if(ee.hasOwnProperty(r)){e._wrapperState.listeners.push(h.trapBubbledEvent(d.topLevelTypes[r],ee[r],t))}}break;case"source":e._wrapperState.listeners=[h.trapBubbledEvent(d.topLevelTypes.topError,"error",t)];break;case"img":e._wrapperState.listeners=[h.trapBubbledEvent(d.topLevelTypes.topError,"error",t),h.trapBubbledEvent(d.topLevelTypes.topLoad,"load",t)];break;case"form":e._wrapperState.listeners=[h.trapBubbledEvent(d.topLevelTypes.topReset,"reset",t),h.trapBubbledEvent(d.topLevelTypes.topSubmit,"submit",t)];break;case"input":case"select":case"textarea":e._wrapperState.listeners=[h.trapBubbledEvent(d.topLevelTypes.topInvalid,"invalid",t)];break}}function re(){b.postUpdateWrapper(this)}var ne={area:true,base:true,br:true,col:true,embed:true,hr:true,img:true,input:true,keygen:true,link:true,meta:true,param:true,source:true,track:true,wbr:true};var oe={listing:true,pre:true,textarea:true};var ie=o({menuitem:true},ne);var ae=/^[a-zA-Z][a-zA-Z:_\.\-\d]*$/;var se={};var ue={}.hasOwnProperty;function le(e){if(!ue.call(se,e)){!ae.test(e)?true?R(false,"Invalid tag: %s",e):n("65",e):void 0;se[e]=true}}function ce(e,t){return e.indexOf("-")>=0||t.is!=null}var de=1;function fe(e){var t=e.type;le(t);this._currentElement=e;this._tag=t.toLowerCase();this._namespaceURI=null;this._renderedChildren=null;this._previousStyle=null;this._previousStyleCopy=null;this._hostNode=null;this._hostParent=null;this._rootNodeID=0;this._domID=0;this._hostContainerInfo=null;this._wrapperState=null;this._topLevelWrapper=null;this._flags=0;if(true){this._ancestorInfo=null;Q.call(this,null)}}fe.displayName="ReactDOMComponent";fe.Mixin={mountComponent:function(e,t,r,n){this._rootNodeID=de++;this._domID=r._idCounter++;this._hostParent=t;this._hostContainerInfo=r;var o=this._currentElement.props;switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":this._wrapperState={listeners:null};e.getReactMountReady().enqueue(te,this);break;case"button":o=v.getHostProps(this,o,t);break;case"input":g.mountWrapper(this,o,t);o=g.getHostProps(this,o);e.getReactMountReady().enqueue(te,this);break;case"option":y.mountWrapper(this,o,t);o=y.getHostProps(this,o);break;case"select":b.mountWrapper(this,o,t);o=b.getHostProps(this,o);e.getReactMountReady().enqueue(te,this);break;case"textarea":x.mountWrapper(this,o,t);o=x.getHostProps(this,o);e.getReactMountReady().enqueue(te,this);break}q(this,o);var a;var l;if(t!=null){a=t._namespaceURI;l=t._tag}else if(r._tag){a=r._namespaceURI;l=r._tag}if(a==null||a===u.svg&&l==="foreignobject"){a=u.html}if(a===u.html){if(this._tag==="svg"){a=u.svg}else if(this._tag==="math"){a=u.mathml}}this._namespaceURI=a;if(true){var d;if(t!=null){d=t._ancestorInfo}else if(r._tag){d=r._ancestorInfo}if(d){P(this._tag,null,this,d)}this._ancestorInfo=P.updatedAncestorInfo(d,this._tag,this)}var f;if(e.useCreateElement){var p=r._ownerDocument;var h;if(a===u.html){if(this._tag==="script"){var m=p.createElement("div");var E=this._currentElement.type;m.innerHTML="<"+E+"></"+E+">";h=m.removeChild(m.firstChild)}else if(o.is){h=p.createElement(this._currentElement.type,o.is)}else{h=p.createElement(this._currentElement.type)}}else{h=p.createElementNS(a,this._currentElement.type)}_.precacheNode(this,h);this._flags|=B.hasCachedChildNodes;if(!this._hostParent){c.setAttributeForRoot(h)}this._updateDOMProperties(null,o,e);var C=s(h);this._createInitialChildren(e,o,n,C);f=C}else{var w=this._createOpenTagMarkupAndPutListeners(e,o);var S=this._createContentMarkup(e,o,n);if(!S&&ne[this._tag]){f=w+"/>"}else{f=w+">"+S+"</"+this._currentElement.type+">"}}switch(this._tag){case"input":e.getReactMountReady().enqueue(X,this);if(o.autoFocus){e.getReactMountReady().enqueue(i.focusDOMComponent,this)}break;case"textarea":e.getReactMountReady().enqueue(Z,this);if(o.autoFocus){e.getReactMountReady().enqueue(i.focusDOMComponent,this)}break;case"select":if(o.autoFocus){e.getReactMountReady().enqueue(i.focusDOMComponent,this)}break;case"button":if(o.autoFocus){e.getReactMountReady().enqueue(i.focusDOMComponent,this)}break;case"option":e.getReactMountReady().enqueue(J,this);break}return f},_createOpenTagMarkupAndPutListeners:function(e,t){var r="<"+this._currentElement.type;for(var n in t){if(!t.hasOwnProperty(n)){continue}var i=t[n];if(i==null){continue}if(N.hasOwnProperty(n)){if(i){$(this,n,i,e)}}else{if(n===U){if(i){if(true){this._previousStyle=i}i=this._previousStyleCopy=o({},t.style)}i=a.createMarkupForStyles(i,this)}var s=null;if(this._tag!=null&&ce(this._tag,t)){if(!V.hasOwnProperty(n)){s=c.createMarkupForCustomAttribute(n,i)}}else{s=c.createMarkupForProperty(n,i)}if(s){r+=" "+s}}}if(e.renderToStaticMarkup){return r}if(!this._hostParent){r+=" "+c.createMarkupForRoot()}r+=" "+c.createMarkupForID(this._domID);return r},_createContentMarkup:function(e,t,r){var n="";var o=t.dangerouslySetInnerHTML;if(o!=null){if(o.__html!=null){n=o.__html}}else{var i=L[typeof t.children]?t.children:null;var a=i!=null?null:t.children;if(i!=null){n=T(i);if(true){Q.call(this,i)}}else if(a!=null){var s=this.mountChildren(a,e,r);n=s.join("")}}if(oe[this._tag]&&n.charAt(0)==="\n"){return"\n"+n}else{return n}},_createInitialChildren:function(e,t,r,n){var o=t.dangerouslySetInnerHTML;if(o!=null){if(o.__html!=null){s.queueHTML(n,o.__html)}}else{var i=L[typeof t.children]?t.children:null;var a=i!=null?null:t.children;if(i!=null){if(true){Q.call(this,i)}s.queueText(n,i)}else if(a!=null){var u=this.mountChildren(a,e,r);for(var l=0;l<u.length;l++){s.queueChild(n,u[l])}}}},receiveComponent:function(e,t,r){var n=this._currentElement;this._currentElement=e;this.updateComponent(t,n,e,r)},updateComponent:function(e,t,r,n){var o=t.props;var i=this._currentElement.props;switch(this._tag){case"button":o=v.getHostProps(this,o);i=v.getHostProps(this,i);break;case"input":o=g.getHostProps(this,o);i=g.getHostProps(this,i);break;case"option":o=y.getHostProps(this,o);i=y.getHostProps(this,i);break;case"select":o=b.getHostProps(this,o);i=b.getHostProps(this,i);break;case"textarea":o=x.getHostProps(this,o);i=x.getHostProps(this,i);break}q(this,i);this._updateDOMProperties(o,i,e);this._updateDOMChildren(o,i,e,n);switch(this._tag){case"input":g.updateWrapper(this);break;case"textarea":x.updateWrapper(this);break;case"select":e.getReactMountReady().enqueue(re,this);break}},_updateDOMProperties:function(e,t,r){var n;var i;var s;for(n in e){if(t.hasOwnProperty(n)||!e.hasOwnProperty(n)||e[n]==null){continue}if(n===U){var u=this._previousStyleCopy;for(i in u){if(u.hasOwnProperty(i)){s=s||{};s[i]=""}}this._previousStyleCopy=null}else if(N.hasOwnProperty(n)){if(e[n]){F(this,n)}}else if(ce(this._tag,e)){if(!V.hasOwnProperty(n)){c.deleteValueForAttribute(A(this),n)}}else if(l.properties[n]||l.isCustomAttribute(n)){c.deleteValueForProperty(A(this),n)}}for(n in t){var d=t[n];var f=n===U?this._previousStyleCopy:e!=null?e[n]:undefined;if(!t.hasOwnProperty(n)||d===f||d==null&&f==null){continue}if(n===U){if(d){if(true){K(this._previousStyleCopy,this._previousStyle,this);this._previousStyle=d}d=this._previousStyleCopy=o({},d)}else{this._previousStyleCopy=null}if(f){for(i in f){if(f.hasOwnProperty(i)&&(!d||!d.hasOwnProperty(i))){s=s||{};s[i]=""}}for(i in d){if(d.hasOwnProperty(i)&&f[i]!==d[i]){s=s||{};s[i]=d[i]}}}else{s=d}}else if(N.hasOwnProperty(n)){if(d){$(this,n,d,r)}else if(f){F(this,n)}}else if(ce(this._tag,t)){if(!V.hasOwnProperty(n)){c.setValueForAttribute(A(this),n,d)}}else if(l.properties[n]||l.isCustomAttribute(n)){var p=A(this);if(d!=null){c.setValueForProperty(p,n,d)}else{c.deleteValueForProperty(p,n)}}}if(s){a.setValueForStyles(A(this),s,this)}},_updateDOMChildren:function(e,t,r,n){var o=L[typeof e.children]?e.children:null;var i=L[typeof t.children]?t.children:null;var a=e.dangerouslySetInnerHTML&&e.dangerouslySetInnerHTML.__html;var s=t.dangerouslySetInnerHTML&&t.dangerouslySetInnerHTML.__html;var u=o!=null?null:e.children;var l=i!=null?null:t.children;var c=o!=null||a!=null;var d=i!=null||s!=null;if(u!=null&&l==null){this.updateChildren(null,r,n)}else if(c&&!d){this.updateTextContent("");if(true){E.debugTool.onSetChildren(this._debugID,[])}}if(i!=null){if(o!==i){this.updateTextContent(""+i);if(true){Q.call(this,i)}}}else if(s!=null){if(a!==s){this.updateMarkup(""+s)}if(true){E.debugTool.onSetChildren(this._debugID,[])}}else if(l!=null){if(true){Q.call(this,null)}this.updateChildren(l,r,n)}},getHostNode:function(){return A(this)},unmountComponent:function(e){switch(this._tag){case"audio":case"form":case"iframe":case"img":case"link":case"object":case"source":case"video":var t=this._wrapperState.listeners;if(t){for(var r=0;r<t.length;r++){t[r].remove()}}break;case"html":case"head":case"body":true?true?R(false,"<%s> tried to unmount. Because of cross-browser quirks it is impossible to unmount some top-level components (eg <html>, <head>, and <body>) reliably and efficiently. To fix this, have a single top-level component that never unmounts render these elements.",this._tag):n("66",this._tag):void 0;break}this.unmountChildren(e);_.uncacheNode(this);f.deleteAllListeners(this);this._rootNodeID=0;this._domID=0;this._wrapperState=null;if(true){Q.call(this,null)}},getPublicInstance:function(){return A(this)}};o(fe.prototype,fe.Mixin,C.Mixin);t.exports=fe},{1:1,10:10,11:11,122:122,136:136,140:140,146:146,154:154,16:16,162:162,166:166,17:17,170:170,171:171,172:172,18:18,27:27,39:39,4:4,41:41,42:42,48:48,50:50,51:51,55:55,73:73,77:77,8:8,9:9,92:92}],41:[function(e,t,r){"use strict";var n={hasCachedChildNodes:1<<0};t.exports=n},{}],42:[function(e,t,r){"use strict";var n=e(140);var o=e(10);var i=e(41);var a=e(162);var s=o.ID_ATTRIBUTE_NAME;var u=i;var l="__reactInternalInstance$"+Math.random().toString(36).slice(2);function c(e){var t;while(t=e._renderedComponent){e=t}return e}function d(e,t){var r=c(e);r._hostNode=t;t[l]=r}function f(e){var t=e._hostNode;if(t){delete t[l];e._hostNode=null}}function p(e,t){if(e._flags&u.hasCachedChildNodes){return}var r=e._renderedChildren;var o=t.firstChild;e:for(var i in r){if(!r.hasOwnProperty(i)){
continue}var l=r[i];var f=c(l)._domID;if(f===0){continue}for(;o!==null;o=o.nextSibling){if(o.nodeType===1&&o.getAttribute(s)===String(f)||o.nodeType===8&&o.nodeValue===" react-text: "+f+" "||o.nodeType===8&&o.nodeValue===" react-empty: "+f+" "){d(l,o);continue e}}true?true?a(false,"Unable to find element with ID %s.",f):n("32",f):void 0}e._flags|=u.hasCachedChildNodes}function h(e){if(e[l]){return e[l]}var t=[];while(!e[l]){t.push(e);if(e.parentNode){e=e.parentNode}else{return null}}var r;var n;for(;e&&(n=e[l]);e=t.pop()){r=n;if(t.length){p(n,e)}}return r}function v(e){var t=h(e);if(t!=null&&t._hostNode===e){return t}else{return null}}function m(e){!(e._hostNode!==undefined)?true?a(false,"getNodeFromInstance: Invalid argument."):n("33"):void 0;if(e._hostNode){return e._hostNode}var t=[];while(!e._hostNode){t.push(e);!e._hostParent?true?a(false,"React DOM tree root should always have a node reference."):n("34"):void 0;e=e._hostParent}for(;t.length;e=t.pop()){p(e,e._hostNode)}return e._hostNode}var _={getClosestInstanceFromNode:h,getInstanceFromNode:v,getNodeFromInstance:m,precacheChildNodes:p,precacheNode:d,uncacheNode:f};t.exports=_},{10:10,140:140,162:162,41:41}],43:[function(e,t,r){"use strict";var n=e(146);var o=9;function i(e,t){var r={_topLevelWrapper:e,_idCounter:1,_ownerDocument:t?t.nodeType===o?t:t.ownerDocument:null,_node:t,_tag:t?t.nodeName.toLowerCase():null,_namespaceURI:t?t.namespaceURI:null};if(true){r._ancestorInfo=t?n.updatedAncestorInfo(null,r._tag,null):null}return r}t.exports=i},{146:146}],44:[function(e,t,r){"use strict";var n=e(172);var o=e(8);var i=e(42);var a=function(e){this._currentElement=null;this._hostNode=null;this._hostParent=null;this._hostContainerInfo=null;this._domID=0};n(a.prototype,{mountComponent:function(e,t,r,n){var a=r._idCounter++;this._domID=a;this._hostParent=t;this._hostContainerInfo=r;var s=" react-empty: "+this._domID+" ";if(e.useCreateElement){var u=r._ownerDocument;var l=u.createComment(s);i.precacheNode(this,l);return o(l)}else{if(e.renderToStaticMarkup){return""}return"<!--"+s+"-->"}},receiveComponent:function(){},getHostNode:function(){return i.getNodeFromInstance(this)},unmountComponent:function(){i.uncacheNode(this)}});t.exports=a},{172:172,42:42,8:8}],45:[function(e,t,r){"use strict";var n=e(61);var o=n.createFactory;if(true){var i=e(62);o=i.createFactory}var a={a:o("a"),abbr:o("abbr"),address:o("address"),area:o("area"),article:o("article"),aside:o("aside"),audio:o("audio"),b:o("b"),base:o("base"),bdi:o("bdi"),bdo:o("bdo"),big:o("big"),blockquote:o("blockquote"),body:o("body"),br:o("br"),button:o("button"),canvas:o("canvas"),caption:o("caption"),cite:o("cite"),code:o("code"),col:o("col"),colgroup:o("colgroup"),data:o("data"),datalist:o("datalist"),dd:o("dd"),del:o("del"),details:o("details"),dfn:o("dfn"),dialog:o("dialog"),div:o("div"),dl:o("dl"),dt:o("dt"),em:o("em"),embed:o("embed"),fieldset:o("fieldset"),figcaption:o("figcaption"),figure:o("figure"),footer:o("footer"),form:o("form"),h1:o("h1"),h2:o("h2"),h3:o("h3"),h4:o("h4"),h5:o("h5"),h6:o("h6"),head:o("head"),header:o("header"),hgroup:o("hgroup"),hr:o("hr"),html:o("html"),i:o("i"),iframe:o("iframe"),img:o("img"),input:o("input"),ins:o("ins"),kbd:o("kbd"),keygen:o("keygen"),label:o("label"),legend:o("legend"),li:o("li"),link:o("link"),main:o("main"),map:o("map"),mark:o("mark"),menu:o("menu"),menuitem:o("menuitem"),meta:o("meta"),meter:o("meter"),nav:o("nav"),noscript:o("noscript"),object:o("object"),ol:o("ol"),optgroup:o("optgroup"),option:o("option"),output:o("output"),p:o("p"),param:o("param"),picture:o("picture"),pre:o("pre"),progress:o("progress"),q:o("q"),rp:o("rp"),rt:o("rt"),ruby:o("ruby"),s:o("s"),samp:o("samp"),script:o("script"),section:o("section"),select:o("select"),small:o("small"),source:o("source"),span:o("span"),strong:o("strong"),style:o("style"),sub:o("sub"),summary:o("summary"),sup:o("sup"),table:o("table"),tbody:o("tbody"),td:o("td"),textarea:o("textarea"),tfoot:o("tfoot"),th:o("th"),thead:o("thead"),time:o("time"),title:o("title"),tr:o("tr"),track:o("track"),u:o("u"),ul:o("ul"),var:o("var"),video:o("video"),wbr:o("wbr"),circle:o("circle"),clipPath:o("clipPath"),defs:o("defs"),ellipse:o("ellipse"),g:o("g"),image:o("image"),line:o("line"),linearGradient:o("linearGradient"),mask:o("mask"),path:o("path"),pattern:o("pattern"),polygon:o("polygon"),polyline:o("polyline"),radialGradient:o("radialGradient"),rect:o("rect"),stop:o("stop"),svg:o("svg"),text:o("text"),tspan:o("tspan")};t.exports=a},{61:61,62:62}],46:[function(e,t,r){"use strict";var n={useCreateElement:true};t.exports=n},{}],47:[function(e,t,r){"use strict";var n=e(7);var o=e(42);var i={dangerouslyProcessChildrenUpdates:function(e,t){var r=o.getNodeFromInstance(e);n.processUpdates(r,t)}};t.exports=i},{42:42,7:7}],48:[function(e,t,r){"use strict";var n=e(140),o=e(172);var i=e(14);var a=e(11);var s=e(24);var u=e(42);var l=e(96);var c=e(162);var d=e(171);var f=false;var p=false;var h=false;var v=false;var m=false;var _=false;function g(){if(this._rootNodeID){b.updateWrapper(this)}}function y(e){var t=e.type==="checkbox"||e.type==="radio";return t?e.checked!=null:e.value!=null}var b={getHostProps:function(e,t){var r=s.getValue(t);var n=s.getChecked(t);var a=o({type:undefined,step:undefined,min:undefined,max:undefined},i.getHostProps(e,t),{defaultChecked:undefined,defaultValue:undefined,value:r!=null?r:e._wrapperState.initialValue,checked:n!=null?n:e._wrapperState.initialChecked,onChange:e._wrapperState.onChange});return a},mountWrapper:function(e,t){if(true){s.checkPropTypes("input",t,e._currentElement._owner);var r=e._currentElement._owner;if(t.valueLink!==undefined&&!f){true?d(false,"`valueLink` prop on `input` is deprecated; set `value` and `onChange` instead."):void 0;f=true}if(t.checkedLink!==undefined&&!p){true?d(false,"`checkedLink` prop on `input` is deprecated; set `value` and `onChange` instead."):void 0;p=true}if(t.checked!==undefined&&t.defaultChecked!==undefined&&!v){true?d(false,"%s contains an input of type %s with both checked and defaultChecked props. "+"Input elements must be either controlled or uncontrolled "+"(specify either the checked prop, or the defaultChecked prop, but not "+"both). Decide between using a controlled or uncontrolled input "+"element and remove one of these props. More info: "+"https://fb.me/react-controlled-components",r&&r.getName()||"A component",t.type):void 0;v=true}if(t.value!==undefined&&t.defaultValue!==undefined&&!h){true?d(false,"%s contains an input of type %s with both value and defaultValue props. "+"Input elements must be either controlled or uncontrolled "+"(specify either the value prop, or the defaultValue prop, but not "+"both). Decide between using a controlled or uncontrolled input "+"element and remove one of these props. More info: "+"https://fb.me/react-controlled-components",r&&r.getName()||"A component",t.type):void 0;h=true}}var n=t.defaultValue;e._wrapperState={initialChecked:t.checked!=null?t.checked:t.defaultChecked,initialValue:t.value!=null?t.value:n,listeners:null,onChange:x.bind(e)};if(true){e._wrapperState.controlled=y(t)}},updateWrapper:function(e){var t=e._currentElement.props;if(true){var r=y(t);var n=e._currentElement._owner;if(!e._wrapperState.controlled&&r&&!_){true?d(false,"%s is changing an uncontrolled input of type %s to be controlled. "+"Input elements should not switch from uncontrolled to controlled (or vice versa). "+"Decide between using a controlled or uncontrolled input "+"element for the lifetime of the component. More info: https://fb.me/react-controlled-components",n&&n.getName()||"A component",t.type):void 0;_=true}if(e._wrapperState.controlled&&!r&&!m){true?d(false,"%s is changing a controlled input of type %s to be uncontrolled. "+"Input elements should not switch from controlled to uncontrolled (or vice versa). "+"Decide between using a controlled or uncontrolled input "+"element for the lifetime of the component. More info: https://fb.me/react-controlled-components",n&&n.getName()||"A component",t.type):void 0;m=true}}var o=t.checked;if(o!=null){a.setValueForProperty(u.getNodeFromInstance(e),"checked",o||false)}var i=u.getNodeFromInstance(e);var l=s.getValue(t);if(l!=null){var c=""+l;if(c!==i.value){i.value=c}}else{if(t.value==null&&t.defaultValue!=null){i.defaultValue=""+t.defaultValue}if(t.checked==null&&t.defaultChecked!=null){i.defaultChecked=!!t.defaultChecked}}},postMountWrapper:function(e){var t=e._currentElement.props;var r=u.getNodeFromInstance(e);switch(t.type){case"submit":case"reset":break;case"color":case"date":case"datetime":case"datetime-local":case"month":case"time":case"week":r.value="";r.value=r.defaultValue;break;default:r.value=r.value;break}var n=r.name;if(n!==""){r.name=""}r.defaultChecked=!r.defaultChecked;r.defaultChecked=!r.defaultChecked;if(n!==""){r.name=n}}};function x(e){var t=this._currentElement.props;var r=s.executeOnChange(t,e);l.asap(g,this);var o=t.name;if(t.type==="radio"&&o!=null){var i=u.getNodeFromInstance(this);var a=i;while(a.parentNode){a=a.parentNode}var d=a.querySelectorAll("input[name="+JSON.stringify(""+o)+'][type="radio"]');for(var f=0;f<d.length;f++){var p=d[f];if(p===i||p.form!==i.form){continue}var h=u.getInstanceFromNode(p);!h?true?c(false,"ReactDOMInput: Mixing React and non-React radio inputs with the same `name` is not supported."):n("90"):void 0;l.asap(g,h)}}return r}t.exports=b},{11:11,14:14,140:140,162:162,171:171,172:172,24:24,42:42,96:96}],49:[function(e,t,r){"use strict";var n=e(35);var o=e(171);var i=false;function a(e,t){if(t==null){return}if(t.type!=="input"&&t.type!=="textarea"&&t.type!=="select"){return}if(t.props!=null&&t.props.value===null&&!i){true?o(false,"`value` prop on `%s` should not be null. "+"Consider using the empty string to clear the component or `undefined` "+"for uncontrolled components.%s",t.type,n.getStackAddendumByID(e)):void 0;i=true}}var s={onBeforeMountComponent:function(e,t){a(e,t)},onBeforeUpdateComponent:function(e,t){a(e,t)}};t.exports=s},{171:171,35:35}],50:[function(e,t,r){"use strict";var n=e(172);var o=e(29);var i=e(42);var a=e(51);var s=e(171);var u=false;function l(e){var t="";o.forEach(e,function(e){if(e==null){return}if(typeof e==="string"||typeof e==="number"){t+=e}else if(!u){u=true;true?s(false,"Only strings and numbers are supported as <option> children."):void 0}});return t}var c={mountWrapper:function(e,t,r){if(true){true?s(t.selected==null,"Use the `defaultValue` or `value` props on <select> instead of "+"setting `selected` on <option>."):void 0}var n=null;if(r!=null){var o=r;if(o._tag==="optgroup"){o=o._hostParent}if(o!=null&&o._tag==="select"){n=a.getSelectValueContext(o)}}var i=null;if(n!=null){var u;if(t.value!=null){u=t.value+""}else{u=l(t.children)}i=false;if(Array.isArray(n)){for(var c=0;c<n.length;c++){if(""+n[c]===u){i=true;break}}}else{i=""+n===u}}e._wrapperState={selected:i}},postMountWrapper:function(e){var t=e._currentElement.props;if(t.value!=null){var r=i.getNodeFromInstance(e);r.setAttribute("value",t.value)}},getHostProps:function(e,t){var r=n({selected:undefined,children:undefined},t);if(e._wrapperState.selected!=null){r.selected=e._wrapperState.selected}var o=l(t.children);if(o){r.children=o}return r}};t.exports=c},{171:171,172:172,29:29,42:42,51:51}],51:[function(e,t,r){"use strict";var n=e(172);var o=e(14);var i=e(24);var a=e(42);var s=e(96);var u=e(171);var l=false;var c=false;function d(){if(this._rootNodeID&&this._wrapperState.pendingUpdate){this._wrapperState.pendingUpdate=false;var e=this._currentElement.props;var t=i.getValue(e);if(t!=null){v(this,Boolean(e.multiple),t)}}}function f(e){if(e){var t=e.getName();if(t){return" Check the render method of `"+t+"`."}}return""}var p=["value","defaultValue"];function h(e,t){var r=e._currentElement._owner;i.checkPropTypes("select",t,r);if(t.valueLink!==undefined&&!l){true?u(false,"`valueLink` prop on `select` is deprecated; set `value` and `onChange` instead."):void 0;l=true}for(var n=0;n<p.length;n++){var o=p[n];if(t[o]==null){continue}var a=Array.isArray(t[o]);if(t.multiple&&!a){true?u(false,"The `%s` prop supplied to <select> must be an array if "+"`multiple` is true.%s",o,f(r)):void 0}else if(!t.multiple&&a){true?u(false,"The `%s` prop supplied to <select> must be a scalar "+"value if `multiple` is false.%s",o,f(r)):void 0}}}function v(e,t,r){var n,o;var i=a.getNodeFromInstance(e).options;if(t){n={};for(o=0;o<r.length;o++){n[""+r[o]]=true}for(o=0;o<i.length;o++){var s=n.hasOwnProperty(i[o].value);if(i[o].selected!==s){i[o].selected=s}}}else{n=""+r;for(o=0;o<i.length;o++){if(i[o].value===n){i[o].selected=true;return}}if(i.length){i[0].selected=true}}}var m={getHostProps:function(e,t){return n({},o.getHostProps(e,t),{onChange:e._wrapperState.onChange,value:undefined})},mountWrapper:function(e,t){if(true){h(e,t)}var r=i.getValue(t);e._wrapperState={pendingUpdate:false,initialValue:r!=null?r:t.defaultValue,listeners:null,onChange:_.bind(e),wasMultiple:Boolean(t.multiple)};if(t.value!==undefined&&t.defaultValue!==undefined&&!c){true?u(false,"Select elements must be either controlled or uncontrolled "+"(specify either the value prop, or the defaultValue prop, but not "+"both). Decide between using a controlled or uncontrolled select "+"element and remove one of these props. More info: "+"https://fb.me/react-controlled-components"):void 0;c=true}},getSelectValueContext:function(e){return e._wrapperState.initialValue},postUpdateWrapper:function(e){var t=e._currentElement.props;e._wrapperState.initialValue=undefined;var r=e._wrapperState.wasMultiple;e._wrapperState.wasMultiple=Boolean(t.multiple);var n=i.getValue(t);if(n!=null){e._wrapperState.pendingUpdate=false;v(e,Boolean(t.multiple),n)}else if(r!==Boolean(t.multiple)){if(t.defaultValue!=null){v(e,Boolean(t.multiple),t.defaultValue)}else{v(e,Boolean(t.multiple),t.multiple?[]:"")}}}};function _(e){var t=this._currentElement.props;var r=i.executeOnChange(t,e);if(this._rootNodeID){this._wrapperState.pendingUpdate=true}s.asap(d,this);return r}t.exports=m},{14:14,171:171,172:172,24:24,42:42,96:96}],52:[function(e,t,r){"use strict";var n=e(148);var o=e(132);var i=e(133);function a(e,t,r,n){return e===r&&t===n}function s(e){var t=document.selection;var r=t.createRange();var n=r.text.length;var o=r.duplicate();o.moveToElementText(e);o.setEndPoint("EndToStart",r);var i=o.text.length;var a=i+n;return{start:i,end:a}}function u(e){var t=window.getSelection&&window.getSelection();if(!t||t.rangeCount===0){return null}var r=t.anchorNode;var n=t.anchorOffset;var o=t.focusNode;var i=t.focusOffset;var s=t.getRangeAt(0);try{s.startContainer.nodeType;s.endContainer.nodeType}catch(e){return null}var u=a(t.anchorNode,t.anchorOffset,t.focusNode,t.focusOffset);var l=u?0:s.toString().length;var c=s.cloneRange();c.selectNodeContents(e);c.setEnd(s.startContainer,s.startOffset);var d=a(c.startContainer,c.startOffset,c.endContainer,c.endOffset);var f=d?0:c.toString().length;var p=f+l;var h=document.createRange();h.setStart(r,n);h.setEnd(o,i);var v=h.collapsed;return{start:v?p:f,end:v?f:p}}function l(e,t){var r=document.selection.createRange().duplicate();var n,o;if(t.end===undefined){n=t.start;o=n}else if(t.start>t.end){n=t.end;o=t.start}else{n=t.start;o=t.end}r.moveToElementText(e);r.moveStart("character",n);r.setEndPoint("EndToStart",r);r.moveEnd("character",o-n);r.select()}function c(e,t){if(!window.getSelection){return}var r=window.getSelection();var n=e[i()].length;var a=Math.min(t.start,n);var s=t.end===undefined?a:Math.min(t.end,n);if(!r.extend&&a>s){var u=s;s=a;a=u}var l=o(e,a);var c=o(e,s);if(l&&c){var d=document.createRange();d.setStart(l.node,l.offset);r.removeAllRanges();if(a>s){r.addRange(d);r.extend(c.node,c.offset)}else{d.setEnd(c.node,c.offset);r.addRange(d)}}}var d=n.canUseDOM&&"selection"in document&&!("getSelection"in window);var f={getOffsets:d?s:u,setOffsets:d?l:c};t.exports=f},{132:132,133:133,148:148}],53:[function(e,t,r){"use strict";var n=e(60);var o=e(91);var i=e(97);n.inject();var a={renderToString:o.renderToString,renderToStaticMarkup:o.renderToStaticMarkup,version:i};t.exports=a},{60:60,91:91,97:97}],54:[function(e,t,r){"use strict";var n=e(140),o=e(172);var i=e(7);var a=e(8);var s=e(42);var u=e(122);var l=e(162);var c=e(146);var d=function(e){this._currentElement=e;this._stringText=""+e;this._hostNode=null;this._hostParent=null;this._domID=0;this._mountIndex=0;this._closingComment=null;this._commentNodes=null};o(d.prototype,{mountComponent:function(e,t,r,n){if(true){var o;if(t!=null){o=t._ancestorInfo}else if(r!=null){o=r._ancestorInfo}if(o){c(null,this._stringText,this,o)}}var i=r._idCounter++;var l=" react-text: "+i+" ";var d=" /react-text ";this._domID=i;this._hostParent=t;if(e.useCreateElement){var f=r._ownerDocument;var p=f.createComment(l);var h=f.createComment(d);var v=a(f.createDocumentFragment());a.queueChild(v,a(p));if(this._stringText){a.queueChild(v,a(f.createTextNode(this._stringText)))}a.queueChild(v,a(h));s.precacheNode(this,p);this._closingComment=h;return v}else{var m=u(this._stringText);if(e.renderToStaticMarkup){return m}return"<!--"+l+"-->"+m+"<!--"+d+"-->"}},receiveComponent:function(e,t){if(e!==this._currentElement){this._currentElement=e;var r=""+e;if(r!==this._stringText){this._stringText=r;var n=this.getHostNode();i.replaceDelimitedText(n[0],n[1],r)}}},getHostNode:function(){var e=this._commentNodes;if(e){return e}if(!this._closingComment){var t=s.getNodeFromInstance(this);var r=t.nextSibling;while(true){!(r!=null)?true?l(false,"Missing closing comment for text component %s",this._domID):n("67",this._domID):void 0;if(r.nodeType===8&&r.nodeValue===" /react-text "){this._closingComment=r;break}r=r.nextSibling}}e=[this._hostNode,this._closingComment];this._commentNodes=e;return e},unmountComponent:function(){this._closingComment=null;this._commentNodes=null;s.uncacheNode(this)}});t.exports=d},{122:122,140:140,146:146,162:162,172:172,42:42,7:7,8:8}],55:[function(e,t,r){"use strict";var n=e(140),o=e(172);var i=e(14);var a=e(24);var s=e(42);var u=e(96);var l=e(162);var c=e(171);var d=false;var f=false;function p(){if(this._rootNodeID){h.updateWrapper(this)}}var h={getHostProps:function(e,t){!(t.dangerouslySetInnerHTML==null)?true?l(false,"`dangerouslySetInnerHTML` does not make sense on <textarea>."):n("91"):void 0;var r=o({},i.getHostProps(e,t),{value:undefined,defaultValue:undefined,children:""+e._wrapperState.initialValue,onChange:e._wrapperState.onChange});return r},mountWrapper:function(e,t){if(true){a.checkPropTypes("textarea",t,e._currentElement._owner);if(t.valueLink!==undefined&&!d){true?c(false,"`valueLink` prop on `textarea` is deprecated; set `value` and `onChange` instead."):void 0;d=true}if(t.value!==undefined&&t.defaultValue!==undefined&&!f){true?c(false,"Textarea elements must be either controlled or uncontrolled "+"(specify either the value prop, or the defaultValue prop, but not "+"both). Decide between using a controlled or uncontrolled textarea "+"and remove one of these props. More info: "+"https://fb.me/react-controlled-components"):void 0;f=true}}var r=a.getValue(t);var o=r;if(r==null){var i=t.defaultValue;var s=t.children;if(s!=null){if(true){true?c(false,"Use the `defaultValue` or `value` props instead of setting "+"children on <textarea>."):void 0}!(i==null)?true?l(false,"If you supply `defaultValue` on a <textarea>, do not pass children."):n("92"):void 0;if(Array.isArray(s)){!(s.length<=1)?true?l(false,"<textarea> can only have at most one child."):n("93"):void 0;s=s[0]}i=""+s}if(i==null){i=""}o=i}e._wrapperState={initialValue:""+o,listeners:null,onChange:v.bind(e)}},updateWrapper:function(e){var t=e._currentElement.props;var r=s.getNodeFromInstance(e);var n=a.getValue(t);if(n!=null){var o=""+n;if(o!==r.value){r.value=o}if(t.defaultValue==null){r.defaultValue=o}}if(t.defaultValue!=null){r.defaultValue=t.defaultValue}},postMountWrapper:function(e){var t=s.getNodeFromInstance(e);t.value=t.textContent}};function v(e){var t=this._currentElement.props;var r=a.executeOnChange(t,e);u.asap(p,this);return r}t.exports=h},{14:14,140:140,162:162,171:171,172:172,24:24,42:42,96:96}],56:[function(e,t,r){"use strict";var n=e(140);var o=e(162);function i(e,t){!("_hostNode"in e)?true?o(false,"getNodeFromInstance: Invalid argument."):n("33"):void 0;!("_hostNode"in t)?true?o(false,"getNodeFromInstance: Invalid argument."):n("33"):void 0;var r=0;for(var i=e;i;i=i._hostParent){r++}var a=0;for(var s=t;s;s=s._hostParent){a++}while(r-a>0){e=e._hostParent;r--}while(a-r>0){t=t._hostParent;a--}var u=r;while(u--){if(e===t){return e}e=e._hostParent;t=t._hostParent}return null}function a(e,t){!("_hostNode"in e)?true?o(false,"isAncestor: Invalid argument."):n("35"):void 0;!("_hostNode"in t)?true?o(false,"isAncestor: Invalid argument."):n("35"):void 0;while(t){if(t===e){return true}t=t._hostParent}return false}function s(e){!("_hostNode"in e)?true?o(false,"getParentInstance: Invalid argument."):n("36"):void 0;return e._hostParent}function u(e,t,r){var n=[];while(e){n.push(e);e=e._hostParent}var o;for(o=n.length;o-- >0;){t(n[o],false,r)}for(o=0;o<n.length;o++){t(n[o],true,r)}}function l(e,t,r,n,o){var a=e&&t?i(e,t):null;var s=[];while(e&&e!==a){s.push(e);e=e._hostParent}var u=[];while(t&&t!==a){u.push(t);t=t._hostParent}var l;for(l=0;l<s.length;l++){r(s[l],true,n)}for(l=u.length;l-- >0;){r(u[l],false,o)}}t.exports={isAncestor:a,getLowestCommonAncestor:i,getParentInstance:s,traverseTwoPhase:u,traverseEnterLeave:l}},{140:140,162:162}],57:[function(e,t,r){"use strict";var n=e(10);var o=e(18);var i=e(35);var a=e(171);if(true){var s={children:true,dangerouslySetInnerHTML:true,key:true,ref:true,autoFocus:true,defaultValue:true,valueLink:true,defaultChecked:true,checkedLink:true,innerHTML:true,suppressContentEditableWarning:true,onFocusIn:true,onFocusOut:true};var u={};var l=function(e,t,r){if(n.properties.hasOwnProperty(t)||n.isCustomAttribute(t)){return true}if(s.hasOwnProperty(t)&&s[t]||u.hasOwnProperty(t)&&u[t]){return true}if(o.registrationNameModules.hasOwnProperty(t)){return true}u[t]=true;var l=t.toLowerCase();var c=n.isCustomAttribute(l)?l:n.getPossibleStandardName.hasOwnProperty(l)?n.getPossibleStandardName[l]:null;var d=o.possibleRegistrationNames.hasOwnProperty(l)?o.possibleRegistrationNames[l]:null;if(c!=null){true?a(false,"Unknown DOM property %s. Did you mean %s?%s",t,c,i.getStackAddendumByID(r)):void 0;return true}else if(d!=null){true?a(false,"Unknown event handler property %s. Did you mean `%s`?%s",t,d,i.getStackAddendumByID(r)):void 0;return true}else{return false}}}var c=function(e,t){var r=[];for(var n in t.props){var o=l(t.type,n,e);if(!o){r.push(n)}}var s=r.map(function(e){return"`"+e+"`"}).join(", ");if(r.length===1){true?a(false,"Unknown prop %s on <%s> tag. Remove this prop from the element. "+"For details, see https://fb.me/react-unknown-prop%s",s,t.type,i.getStackAddendumByID(e)):void 0}else if(r.length>1){true?a(false,"Unknown props %s on <%s> tag. Remove these props from the element. "+"For details, see https://fb.me/react-unknown-prop%s",s,t.type,i.getStackAddendumByID(e)):void 0}};function d(e,t){if(t==null||typeof t.type!=="string"){return}if(t.type.indexOf("-")>=0||t.props.is){return}c(e,t)}var f={onBeforeMountComponent:function(e,t){d(e,t)},onBeforeUpdateComponent:function(e,t){d(e,t)}};t.exports=f},{10:10,171:171,18:18,35:35}],58:[function(e,t,r){"use strict";var n=e(74);var o=e(69);var i=e(35);var a=e(30);var s=e(148);var u=e(169);var l=e(171);var c=[];var d={};function f(e,t,r,n,o,i,a,s){try{t.call(r,n,o,i,a,s)}catch(t){true?l(d[e],"Exception thrown by hook while handling %s: %s",e,t+"\n"+t.stack):void 0;d[e]=true}}function p(e,t,r,n,o,i){for(var a=0;a<c.length;a++){var s=c[a];var u=s[e];if(u){f(e,u,s,t,r,n,o,i)}}}var h=false;var v=[];var m=[];var _=0;var g=null;var y=null;var b=null;var x=null;var E=null;var C=null;var w=false;function S(){i.purgeUnmountedComponents();o.clearHistory()}function T(e){return e.reduce(function(e,t){var r=i.getOwnerID(t);var n=i.getParentID(t);e[t]={displayName:i.getDisplayName(t),text:i.getText(t),updateCount:i.getUpdateCount(t),childIDs:i.getChildIDs(t),ownerID:r||i.getOwnerID(n),parentID:n};return e},{})}function R(){var e=y;var t=g||[];var r=o.getHistory();if(_===0){y=null;g=null;S();return}if(t.length||r.length){var n=i.getRegisteredIDs();v.push({duration:u()-e,measurements:t||[],operations:r||[],treeSnapshot:T(n)})}S();y=u();g=[]}function M(e){var t=arguments.length<=1||arguments[1]===undefined?false:arguments[1];if(t&&e===0){return}if(!e){true?l(false,"ReactDebugTool: debugID may not be empty."):void 0}}function O(e,t){if(_===0){return}if(C&&!w){true?l(false,"There is an internal error in the React performance measurement code. "+"Did not expect %s timer to start while %s timer is still in "+"progress for %s instance.",t,C||"no",e===b?"the same":"another"):void 0;w=true}x=u();E=0;b=e;C=t}function k(e,t){if(_===0){return}if(C!==t&&!w){true?l(false,"There is an internal error in the React performance measurement code. "+"We did not expect %s timer to stop while %s timer is still in "+"progress for %s instance. Please report this as a bug in React.",t,C||"no",e===b?"the same":"another"):void 0;w=true}if(h){g.push({timerType:t,instanceID:e,duration:u()-x-E})}x=null;E=null;b=null;C=null}function P(){var e={startTime:x,nestedFlushStartTime:u(),debugID:b,timerType:C};m.push(e);x=null;E=null;b=null;C=null}function D(){var e=m.pop();var t=e.startTime;var r=e.nestedFlushStartTime;var n=e.debugID;var o=e.timerType;var i=u()-r;x=t;E+=i;b=n;C=o}var B={addHook:function(e){c.push(e)},removeHook:function(e){for(var t=0;t<c.length;t++){if(c[t]===e){c.splice(t,1);t--}}},isProfiling:function(){return h},beginProfiling:function(){if(h){return}h=true;v.length=0;R();B.addHook(o)},endProfiling:function(){if(!h){return}h=false;R();B.removeHook(o)},getFlushHistory:function(){return v},onBeginFlush:function(){_++;R();P();p("onBeginFlush")},onEndFlush:function(){R();_--;D();p("onEndFlush")},onBeginLifeCycleTimer:function(e,t){M(e);p("onBeginLifeCycleTimer",e,t);O(e,t)},onEndLifeCycleTimer:function(e,t){M(e);k(e,t);p("onEndLifeCycleTimer",e,t)},onBeginProcessingChildContext:function(){p("onBeginProcessingChildContext")},onEndProcessingChildContext:function(){p("onEndProcessingChildContext")},onHostOperation:function(e,t,r){M(e);p("onHostOperation",e,t,r)},onSetState:function(){p("onSetState")},onSetChildren:function(e,t){M(e);t.forEach(M);p("onSetChildren",e,t)},onBeforeMountComponent:function(e,t,r){M(e);M(r,true);p("onBeforeMountComponent",e,t,r)},onMountComponent:function(e){M(e);p("onMountComponent",e)},onBeforeUpdateComponent:function(e,t){M(e);p("onBeforeUpdateComponent",e,t)},onUpdateComponent:function(e){M(e);p("onUpdateComponent",e)},onBeforeUnmountComponent:function(e){M(e);p("onBeforeUnmountComponent",e)},onUnmountComponent:function(e){M(e);p("onUnmountComponent",e)},onTestEvent:function(){p("onTestEvent")}};B.addDevtool=B.addHook;B.removeDevtool=B.removeHook;B.addHook(n);B.addHook(i);B.addHook(a);var F=s.canUseDOM&&window.location.href||"";if(/[?&]react_perf\b/.test(F)){B.beginProfiling()}t.exports=B},{148:148,169:169,171:171,30:30,35:35,69:69,74:74}],59:[function(e,t,r){"use strict";var n=e(172);var o=e(96);var i=e(114);var a=e(154);var s={initialize:a,close:function(){f.isBatchingUpdates=false}};var u={initialize:a,close:o.flushBatchedUpdates.bind(o)};var l=[u,s];function c(){this.reinitializeTransaction()}n(c.prototype,i.Mixin,{getTransactionWrappers:function(){return l}});var d=new c;var f={isBatchingUpdates:false,batchedUpdates:function(e,t,r,n,o,i){var a=f.isBatchingUpdates;f.isBatchingUpdates=true;if(a){e(t,r,n,o,i)}else{d.perform(e,null,t,r,n,o,i)}}};t.exports=f},{114:114,154:154,172:172,96:96}],60:[function(e,t,r){"use strict";var n=e(2);var o=e(6);var i=e(13);var a=e(15);var s=e(22);var u=e(33);var l=e(40);var c=e(42);var d=e(44);var f=e(56);var p=e(54);var h=e(59);var v=e(66);var m=e(70);var _=e(87);var g=e(98);var y=e(99);var b=e(100);var x=false;function E(){if(x){return}x=true;m.EventEmitter.injectReactEventListener(v);m.EventPluginHub.injectEventPluginOrder(i);m.EventPluginUtils.injectComponentTree(c);m.EventPluginUtils.injectTreeTraversal(f);m.EventPluginHub.injectEventPluginsByName({SimpleEventPlugin:b,EnterLeaveEventPlugin:a,ChangeEventPlugin:o,SelectEventPlugin:y,BeforeInputEventPlugin:n});m.HostComponent.injectGenericComponentClass(l);m.HostComponent.injectTextComponentClass(p);m.DOMProperty.injectDOMPropertyConfig(s);m.DOMProperty.injectDOMPropertyConfig(g);m.EmptyComponent.injectEmptyComponentFactory(function(e){return new d(e)});m.Updates.injectReconcileTransaction(_);m.Updates.injectBatchingStrategy(h);m.Component.injectEnvironment(u)}t.exports={inject:E}},{100:100,13:13,15:15,2:2,22:22,33:33,40:40,42:42,44:44,54:54,56:56,59:59,6:6,66:66,70:70,87:87,98:98,99:99}],61:[function(e,t,r){"use strict";var n=e(172);var o=e(37);var i=e(171);var a=e(118);var s=Object.prototype.hasOwnProperty;var u=typeof Symbol==="function"&&Symbol["for"]&&Symbol["for"]("react.element")||60103;var l={key:true,ref:true,__self:true,__source:true};var c,d;function f(e){if(true){if(s.call(e,"ref")){var t=Object.getOwnPropertyDescriptor(e,"ref").get;if(t&&t.isReactWarning){return false}}}return e.ref!==undefined}function p(e){if(true){if(s.call(e,"key")){var t=Object.getOwnPropertyDescriptor(e,"key").get;if(t&&t.isReactWarning){return false}}}return e.key!==undefined}function h(e,t){var r=function(){if(!c){c=true;true?i(false,"%s: `key` is not a prop. Trying to access it will result "+"in `undefined` being returned. If you need to access the same "+"value within the child component, you should pass it as a different "+"prop. (https://fb.me/react-special-props)",t):void 0}};r.isReactWarning=true;Object.defineProperty(e,"key",{get:r,configurable:true})}function v(e,t){var r=function(){if(!d){d=true;true?i(false,"%s: `ref` is not a prop. Trying to access it will result "+"in `undefined` being returned. If you need to access the same "+"value within the child component, you should pass it as a different "+"prop. (https://fb.me/react-special-props)",t):void 0}};r.isReactWarning=true;Object.defineProperty(e,"ref",{get:r,configurable:true})}var m=function(e,t,r,n,o,i,s){var l={$$typeof:u,type:e,key:t,ref:r,props:s,_owner:i};if(true){l._store={};var c=Array.isArray(s.children)?s.children.slice(0):s.children;if(a){Object.defineProperty(l._store,"validated",{configurable:false,enumerable:false,writable:true,value:false});Object.defineProperty(l,"_self",{configurable:false,enumerable:false,writable:false,value:n});Object.defineProperty(l,"_shadowChildren",{configurable:false,enumerable:false,writable:false,value:c});Object.defineProperty(l,"_source",{configurable:false,enumerable:false,writable:false,value:o})}else{l._store.validated=false;l._self=n;l._shadowChildren=c;l._source=o}if(Object.freeze){Object.freeze(l.props);Object.freeze(l)}}return l};m.createElement=function(e,t,r){var n;var i={};var a=null;var c=null;var d=null;var _=null;if(t!=null){if(f(t)){c=t.ref}if(p(t)){a=""+t.key}d=t.__self===undefined?null:t.__self;_=t.__source===undefined?null:t.__source;for(n in t){if(s.call(t,n)&&!l.hasOwnProperty(n)){i[n]=t[n]}}}var g=arguments.length-2;if(g===1){i.children=r}else if(g>1){var y=Array(g);for(var b=0;b<g;b++){y[b]=arguments[b+2]}i.children=y}if(e&&e.defaultProps){var x=e.defaultProps;for(n in x){if(i[n]===undefined){i[n]=x[n]}}}if(true){if(a||c){if(typeof i.$$typeof==="undefined"||i.$$typeof!==u){var E=typeof e==="function"?e.displayName||e.name||"Unknown":e;if(a){h(i,E)}if(c){v(i,E)}}}}return m(e,a,c,d,_,o.current,i)};m.createFactory=function(e){var t=m.createElement.bind(null,e);t.type=e;return t};m.cloneAndReplaceKey=function(e,t){var r=m(e.type,t,e.ref,e._self,e._source,e._owner,e.props);return r};m.cloneElement=function(e,t,r){var i;var a=n({},e.props);var u=e.key;var c=e.ref;var d=e._self;var h=e._source;var v=e._owner;if(t!=null){if(f(t)){c=t.ref;v=o.current}if(p(t)){u=""+t.key}var _;if(e.type&&e.type.defaultProps){_=e.type.defaultProps;
}for(i in t){if(s.call(t,i)&&!l.hasOwnProperty(i)){if(t[i]===undefined&&_!==undefined){a[i]=_[i]}else{a[i]=t[i]}}}}var g=arguments.length-2;if(g===1){a.children=r}else if(g>1){var y=Array(g);for(var b=0;b<g;b++){y[b]=arguments[b+2]}a.children=y}return m(e.type,u,c,d,h,v,a)};m.isValidElement=function(e){return typeof e==="object"&&e!==null&&e.$$typeof===u};m.REACT_ELEMENT_TYPE=u;t.exports=m},{118:118,171:171,172:172,37:37}],62:[function(e,t,r){"use strict";var n=e(37);var o=e(35);var i=e(61);var a=e(83);var s=e(119);var u=e(118);var l=e(131);var c=e(171);function d(){if(n.current){var e=n.current.getName();if(e){return" Check the render method of `"+e+"`."}}return""}var f={};function p(e){var t=d();if(!t){var r=typeof e==="string"?e:e.displayName||e.name;if(r){t=" Check the top-level render call using <"+r+">."}}return t}function h(e,t){if(!e._store||e._store.validated||e.key!=null){return}e._store.validated=true;var r=f.uniqueKey||(f.uniqueKey={});var i=p(t);if(r[i]){return}r[i]=true;var a="";if(e&&e._owner&&e._owner!==n.current){a=" It was passed a child from "+e._owner.getName()+"."}true?c(false,'Each child in an array or iterator should have a unique "key" prop.'+"%s%s See https://fb.me/react-warning-keys for more information.%s",i,a,o.getCurrentStackAddendum(e)):void 0}function v(e,t){if(typeof e!=="object"){return}if(Array.isArray(e)){for(var r=0;r<e.length;r++){var n=e[r];if(i.isValidElement(n)){h(n,t)}}}else if(i.isValidElement(e)){if(e._store){e._store.validated=true}}else if(e){var o=l(e);if(o){if(o!==e.entries){var a=o.call(e);var s;while(!(s=a.next()).done){if(i.isValidElement(s.value)){h(s.value,t)}}}}}}function m(e){var t=e.type;if(typeof t!=="function"){return}var r=t.displayName||t.name;if(t.propTypes){s(t.propTypes,e.props,a.prop,r,e,null)}if(typeof t.getDefaultProps==="function"){true?c(t.getDefaultProps.isReactClassApproved,"getDefaultProps is only used on classic React.createClass "+"definitions. Use a static property named `defaultProps` instead."):void 0}}var _={createElement:function(e,t,r){var n=typeof e==="string"||typeof e==="function";if(!n){true?c(false,"React.createElement: type should not be null, undefined, boolean, or "+"number. It should be a string (for DOM elements) or a ReactClass "+"(for composite components).%s",d()):void 0}var o=i.createElement.apply(this,arguments);if(o==null){return o}if(n){for(var a=2;a<arguments.length;a++){v(arguments[a],e)}}m(o);return o},createFactory:function(e){var t=_.createElement.bind(null,e);t.type=e;if(true){if(u){Object.defineProperty(t,"type",{enumerable:false,get:function(){true?c(false,"Factory.type is deprecated. Access the class directly "+"before passing it to createFactory."):void 0;Object.defineProperty(this,"type",{value:e});return e}})}}return t},cloneElement:function(e,t,r){var n=i.cloneElement.apply(this,arguments);for(var o=2;o<arguments.length;o++){v(arguments[o],n.type)}m(n);return n}};t.exports=_},{118:118,119:119,131:131,171:171,35:35,37:37,61:61,83:83}],63:[function(e,t,r){"use strict";var n;var o={injectEmptyComponentFactory:function(e){n=e}};var i={create:function(e){return n(e)}};i.injection=o;t.exports=i},{}],64:[function(e,t,r){"use strict";var n=null;function o(e,t,r,o){try{return t(r,o)}catch(e){if(n===null){n=e}return undefined}}var i={invokeGuardedCallback:o,invokeGuardedCallbackWithCatch:o,rethrowCaughtError:function(){if(n){var e=n;n=null;throw e}}};if(true){if(typeof window!=="undefined"&&typeof window.dispatchEvent==="function"&&typeof document!=="undefined"&&typeof document.createEvent==="function"){var a=document.createElement("react");i.invokeGuardedCallback=function(e,t,r,n){var o=t.bind(null,r,n);var i="react-"+e;a.addEventListener(i,o,false);var s=document.createEvent("Event");s.initEvent(i,false,false);a.dispatchEvent(s);a.removeEventListener(i,o,false)}}}t.exports=i},{}],65:[function(e,t,r){"use strict";var n=e(17);function o(e){n.enqueueEvents(e);n.processEventQueue(false)}var i={handleTopLevel:function(e,t,r,i){var a=n.extractEvents(e,t,r,i);o(a)}};t.exports=i},{17:17}],66:[function(e,t,r){"use strict";var n=e(172);var o=e(147);var i=e(148);var a=e(25);var s=e(42);var u=e(96);var l=e(129);var c=e(159);function d(e){while(e._hostParent){e=e._hostParent}var t=s.getNodeFromInstance(e);var r=t.parentNode;return s.getClosestInstanceFromNode(r)}function f(e,t){this.topLevelType=e;this.nativeEvent=t;this.ancestors=[]}n(f.prototype,{destructor:function(){this.topLevelType=null;this.nativeEvent=null;this.ancestors.length=0}});a.addPoolingTo(f,a.twoArgumentPooler);function p(e){var t=l(e.nativeEvent);var r=s.getClosestInstanceFromNode(t);var n=r;do{e.ancestors.push(n);n=n&&d(n)}while(n);for(var o=0;o<e.ancestors.length;o++){r=e.ancestors[o];v._handleTopLevel(e.topLevelType,r,e.nativeEvent,l(e.nativeEvent))}}function h(e){var t=c(window);e(t)}var v={_enabled:true,_handleTopLevel:null,WINDOW_HANDLE:i.canUseDOM?window:null,setHandleTopLevel:function(e){v._handleTopLevel=e},setEnabled:function(e){v._enabled=!!e},isEnabled:function(){return v._enabled},trapBubbledEvent:function(e,t,r){var n=r;if(!n){return null}return o.listen(n,t,v.dispatchEvent.bind(null,e))},trapCapturedEvent:function(e,t,r){var n=r;if(!n){return null}return o.capture(n,t,v.dispatchEvent.bind(null,e))},monitorScrollValue:function(e){var t=h.bind(null,e);o.listen(window,"scroll",t)},dispatchEvent:function(e,t){if(!v._enabled){return}var r=f.getPooled(e,t);try{u.batchedUpdates(p,r)}finally{f.release(r)}}};t.exports=v},{129:129,147:147,148:148,159:159,172:172,25:25,42:42,96:96}],67:[function(e,t,r){"use strict";var n={logTopLevelRenders:false};t.exports=n},{}],68:[function(e,t,r){"use strict";var n=e(140),o=e(172);var i=e(162);var a=null;var s={};var u=null;var l={injectGenericComponentClass:function(e){a=e},injectTextComponentClass:function(e){u=e},injectComponentClasses:function(e){o(s,e)}};function c(e){!a?true?i(false,"There is no registered component for the tag %s",e.type):n("111",e.type):void 0;return new a(e)}function d(e){return new u(e)}function f(e){return e instanceof u}var p={createInternalComponent:c,createInstanceForText:d,isTextComponent:f,injection:l};t.exports=p},{140:140,162:162,172:172}],69:[function(e,t,r){"use strict";var n=[];var o={onHostOperation:function(e,t,r){n.push({instanceID:e,type:t,payload:r})},clearHistory:function(){if(o._preventClearing){return}n=[]},getHistory:function(){return n}};t.exports=o},{}],70:[function(e,t,r){"use strict";var n=e(10);var o=e(17);var i=e(19);var a=e(34);var s=e(31);var u=e(63);var l=e(27);var c=e(68);var d=e(96);var f={Component:a.injection,Class:s.injection,DOMProperty:n.injection,EmptyComponent:u.injection,EventPluginHub:o.injection,EventPluginUtils:i.injection,EventEmitter:l.injection,HostComponent:c.injection,Updates:d.injection};t.exports=f},{10:10,17:17,19:19,27:27,31:31,34:34,63:63,68:68,96:96}],71:[function(e,t,r){"use strict";var n=e(52);var o=e(151);var i=e(156);var a=e(157);function s(e){return o(document.documentElement,e)}var u={hasSelectionCapabilities:function(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&(t==="input"&&e.type==="text"||t==="textarea"||e.contentEditable==="true")},getSelectionInformation:function(){var e=a();return{focusedElem:e,selectionRange:u.hasSelectionCapabilities(e)?u.getSelection(e):null}},restoreSelection:function(e){var t=a();var r=e.focusedElem;var n=e.selectionRange;if(t!==r&&s(r)){if(u.hasSelectionCapabilities(r)){u.setSelection(r,n)}i(r)}},getSelection:function(e){var t;if("selectionStart"in e){t={start:e.selectionStart,end:e.selectionEnd}}else if(document.selection&&e.nodeName&&e.nodeName.toLowerCase()==="input"){var r=document.selection.createRange();if(r.parentElement()===e){t={start:-r.moveStart("character",-e.value.length),end:-r.moveEnd("character",-e.value.length)}}}else{t=n.getOffsets(e)}return t||{start:0,end:0}},setSelection:function(e,t){var r=t.start;var o=t.end;if(o===undefined){o=r}if("selectionStart"in e){e.selectionStart=r;e.selectionEnd=Math.min(o,e.value.length)}else if(document.selection&&e.nodeName&&e.nodeName.toLowerCase()==="input"){var i=e.createTextRange();i.collapse(true);i.moveStart("character",r);i.moveEnd("character",o-r);i.select()}else{n.setOffsets(e,t)}}};t.exports=u},{151:151,156:156,157:157,52:52}],72:[function(e,t,r){"use strict";var n={remove:function(e){e._reactInternalInstance=undefined},get:function(e){return e._reactInternalInstance},has:function(e){return e._reactInternalInstance!==undefined},set:function(e,t){e._reactInternalInstance=t}};t.exports=n},{}],73:[function(e,t,r){"use strict";var n=null;if(true){var o=e(58);n=o}t.exports={debugTool:n}},{58:58}],74:[function(e,t,r){"use strict";var n=e(171);if(true){var o=false;var i=function(){true?n(!o,"setState(...): Cannot call setState() inside getChildContext()"):void 0}}var a={onBeginProcessingChildContext:function(){o=true},onEndProcessingChildContext:function(){o=false},onSetState:function(){i()}};t.exports=a},{171:171}],75:[function(e,t,r){"use strict";var n=e(117);var o=/\/?>/;var i=/^<\!\-\-/;var a={CHECKSUM_ATTR_NAME:"data-react-checksum",addChecksumToMarkup:function(e){var t=n(e);if(i.test(e)){return e}else{return e.replace(o," "+a.CHECKSUM_ATTR_NAME+'="'+t+'"$&')}},canReuseMarkup:function(e,t){var r=t.getAttribute(a.CHECKSUM_ATTR_NAME);r=r&&parseInt(r,10);var o=n(e);return o===r}};t.exports=a},{117:117}],76:[function(e,t,r){"use strict";var n=e(140);var o=e(8);var i=e(10);var a=e(27);var s=e(37);var u=e(42);var l=e(43);var c=e(46);var d=e(61);var f=e(67);var p=e(72);var h=e(73);var v=e(75);var m=e(88);var _=e(95);var g=e(96);var y=e(155);var b=e(135);var x=e(162);var E=e(142);var C=e(144);var w=e(171);var S=i.ID_ATTRIBUTE_NAME;var T=i.ROOT_ATTRIBUTE_NAME;var R=1;var M=9;var O=11;var k={};function P(e,t){var r=Math.min(e.length,t.length);for(var n=0;n<r;n++){if(e.charAt(n)!==t.charAt(n)){return n}}return e.length===t.length?-1:r}function D(e){if(!e){return null}if(e.nodeType===M){return e.documentElement}else{return e.firstChild}}function B(e){return e.getAttribute&&e.getAttribute(S)||""}function F(e,t,r,n,o){var i;if(f.logTopLevelRenders){var a=e._currentElement.props;var s=a.type;i="React mount: "+(typeof s==="string"?s:s.displayName||s.name);console.time(i)}var u=m.mountComponent(e,r,null,l(e,t),o,0);if(i){console.timeEnd(i)}e._renderedComponent._topLevelWrapper=e;G._mountImageIntoNode(u,t,e,n,r)}function A(e,t,r,n){var o=g.ReactReconcileTransaction.getPooled(!r&&c.useCreateElement);o.perform(F,null,e,t,o,r,n);g.ReactReconcileTransaction.release(o)}function I(e,t,r){if(true){h.debugTool.onBeginFlush()}m.unmountComponent(e,r);if(true){h.debugTool.onEndFlush()}if(t.nodeType===M){t=t.documentElement}while(t.lastChild){t.removeChild(t.lastChild)}}function N(e){var t=D(e);if(t){var r=u.getInstanceFromNode(t);return!!(r&&r._hostParent)}}function L(e){var t=D(e);return!!(t&&j(t)&&!u.getInstanceFromNode(t))}function U(e){return!!(e&&(e.nodeType===R||e.nodeType===M||e.nodeType===O))}function j(e){return U(e)&&(e.hasAttribute(T)||e.hasAttribute(S))}function V(e){var t=D(e);var r=t&&u.getInstanceFromNode(t);return r&&!r._hostParent?r:null}function z(e){var t=V(e);return t?t._hostContainerInfo._topLevelWrapper:null}var W=1;var H=function(){this.rootID=W++};H.prototype.isReactComponent={};if(true){H.displayName="TopLevelWrapper"}H.prototype.render=function(){return this.props};var G={TopLevelWrapper:H,_instancesByReactRootID:k,scrollMonitor:function(e,t){t()},_updateRootComponent:function(e,t,r,n,o){G.scrollMonitor(n,function(){_.enqueueElementInternal(e,t,r);if(o){_.enqueueCallbackInternal(e,o)}});return e},_renderNewRootComponent:function(e,t,r,o){true?w(s.current==null,"_renderNewRootComponent(): Render methods should be a pure function "+"of props and state; triggering nested component updates from "+"render is not allowed. If necessary, trigger nested updates in "+"componentDidUpdate. Check the render method of %s.",s.current&&s.current.getName()||"ReactCompositeComponent"):void 0;!U(t)?true?x(false,"_registerComponent(...): Target container is not a DOM element."):n("37"):void 0;a.ensureScrollValueMonitoring();var i=b(e,false);g.batchedUpdates(A,i,t,r,o);var u=i._instance.rootID;k[u]=i;return i},renderSubtreeIntoContainer:function(e,t,r,o){!(e!=null&&p.has(e))?true?x(false,"parentComponent must be a valid React Component"):n("38"):void 0;return G._renderSubtreeIntoContainer(e,t,r,o)},_renderSubtreeIntoContainer:function(e,t,r,o){_.validateCallback(o,"ReactDOM.render");!d.isValidElement(t)?true?x(false,"ReactDOM.render(): Invalid component element.%s",typeof t==="string"?" Instead of passing a string like 'div', pass "+"React.createElement('div') or <div />.":typeof t==="function"?" Instead of passing a class like Foo, pass "+"React.createElement(Foo) or <Foo />.":t!=null&&t.props!==undefined?" This may be caused by unintentionally loading two independent "+"copies of React.":""):n("39",typeof t==="string"?" Instead of passing a string like 'div', pass "+"React.createElement('div') or <div />.":typeof t==="function"?" Instead of passing a class like Foo, pass "+"React.createElement(Foo) or <Foo />.":t!=null&&t.props!==undefined?" This may be caused by unintentionally loading two independent "+"copies of React.":""):void 0;true?w(!r||!r.tagName||r.tagName.toUpperCase()!=="BODY","render(): Rendering components directly into document.body is "+"discouraged, since its children are often manipulated by third-party "+"scripts and browser extensions. This may lead to subtle "+"reconciliation issues. Try rendering into a container element created "+"for your app."):void 0;var i=d(H,null,null,null,null,null,t);var a;if(e){var s=p.get(e);a=s._processChildContext(s._context)}else{a=y}var u=z(r);if(u){var l=u._currentElement;var c=l.props;if(C(c,t)){var f=u._renderedComponent.getPublicInstance();var h=o&&function(){o.call(f)};G._updateRootComponent(u,i,a,r,h);return f}else{G.unmountComponentAtNode(r)}}var v=D(r);var m=v&&!!B(v);var g=N(r);if(true){true?w(!g,"render(...): Replacing React-rendered children with a new root "+"component. If you intended to update the children of this node, "+"you should instead have the existing children update their state "+"and render the new components instead of calling ReactDOM.render."):void 0;if(!m||v.nextSibling){var b=v;while(b){if(B(b)){true?w(false,"render(): Target node has markup rendered by React, but there "+"are unrelated nodes as well. This is most commonly caused by "+"white-space inserted around server-rendered markup."):void 0;break}b=b.nextSibling}}}var E=m&&!u&&!g;var S=G._renderNewRootComponent(i,r,E,a)._renderedComponent.getPublicInstance();if(o){o.call(S)}return S},render:function(e,t,r){return G._renderSubtreeIntoContainer(null,e,t,r)},unmountComponentAtNode:function(e){true?w(s.current==null,"unmountComponentAtNode(): Render methods should be a pure function "+"of props and state; triggering nested component updates from render "+"is not allowed. If necessary, trigger nested updates in "+"componentDidUpdate. Check the render method of %s.",s.current&&s.current.getName()||"ReactCompositeComponent"):void 0;!U(e)?true?x(false,"unmountComponentAtNode(...): Target container is not a DOM element."):n("40"):void 0;if(true){true?w(!L(e),"unmountComponentAtNode(): The node you're attempting to unmount "+"was rendered by another copy of React."):void 0}var t=z(e);if(!t){var r=N(e);var o=e.nodeType===1&&e.hasAttribute(T);if(true){true?w(!r,"unmountComponentAtNode(): The node you're attempting to unmount "+"was rendered by React and is not a top-level container. %s",o?"You may have accidentally passed in a React root node instead "+"of its container.":"Instead, have the parent component update its state and "+"rerender in order to remove this component."):void 0}return false}delete k[t._instance.rootID];g.batchedUpdates(I,t,e,false);return true},_mountImageIntoNode:function(e,t,r,i,a){!U(t)?true?x(false,"mountComponentIntoNode(...): Target container is not valid."):n("41"):void 0;if(i){var s=D(t);if(v.canReuseMarkup(e,s)){u.precacheNode(r,s);return}else{var l=s.getAttribute(v.CHECKSUM_ATTR_NAME);s.removeAttribute(v.CHECKSUM_ATTR_NAME);var c=s.outerHTML;s.setAttribute(v.CHECKSUM_ATTR_NAME,l);var d=e;if(true){var f;if(t.nodeType===R){f=document.createElement("div");f.innerHTML=e;d=f.innerHTML}else{f=document.createElement("iframe");document.body.appendChild(f);f.contentDocument.write(e);d=f.contentDocument.documentElement.outerHTML;document.body.removeChild(f)}}var p=P(d,c);var m=" (client) "+d.substring(p-20,p+20)+"\n (server) "+c.substring(p-20,p+20);!(t.nodeType!==M)?true?x(false,"You're trying to render a component to the document using server rendering but the checksum was invalid. This usually means you rendered a different component type or props on the client from the one on the server, or your render() methods are impure. React cannot handle this case due to cross-browser quirks by rendering at the document root. You should look for environment dependent code in your components and ensure the props are the same client and server side:\n%s",m):n("42",m):void 0;if(true){true?w(false,"React attempted to reuse markup in a container but the "+"checksum was invalid. This generally means that you are "+"using server rendering and the markup generated on the "+"server was not what the client was expecting. React injected "+"new markup to compensate which works but you have lost many "+"of the benefits of server rendering. Instead, figure out "+"why the markup being generated is different on the client "+"or server:\n%s",m):void 0}}}!(t.nodeType!==M)?true?x(false,"You're trying to render a component to the document but you didn't use server rendering. We can't do this without using server rendering due to cross-browser quirks. See ReactDOMServer.renderToString() for server rendering."):n("43"):void 0;if(a.useCreateElement){while(t.lastChild){t.removeChild(t.lastChild)}o.insertTreeBefore(t,e,null)}else{E(t,e);u.precacheNode(r,t.firstChild)}if(true){var _=u.getInstanceFromNode(t.firstChild);if(_._debugID!==0){h.debugTool.onHostOperation(_._debugID,"mount",e.toString())}}}};t.exports=G},{10:10,135:135,140:140,142:142,144:144,155:155,162:162,171:171,27:27,37:37,42:42,43:43,46:46,61:61,67:67,72:72,73:73,75:75,8:8,88:88,95:95,96:96}],77:[function(e,t,r){"use strict";var n=e(140);var o=e(34);var i=e(72);var a=e(73);var s=e(78);var u=e(37);var l=e(88);var c=e(28);var d=e(154);var f=e(124);var p=e(162);function h(e,t,r){return{type:s.INSERT_MARKUP,content:e,fromIndex:null,fromNode:null,toIndex:r,afterNode:t}}function v(e,t,r){return{type:s.MOVE_EXISTING,content:null,fromIndex:e._mountIndex,fromNode:l.getHostNode(e),toIndex:r,afterNode:t}}function m(e,t){return{type:s.REMOVE_NODE,content:null,fromIndex:e._mountIndex,fromNode:t,toIndex:null,afterNode:null}}function _(e){return{type:s.SET_MARKUP,content:e,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function g(e){return{type:s.TEXT_CONTENT,content:e,fromIndex:null,fromNode:null,toIndex:null,afterNode:null}}function y(e,t){if(t){e=e||[];e.push(t)}return e}function b(e,t){o.processChildrenUpdates(e,t)}var x=d;if(true){var E=function(e){if(!e._debugID){var t;if(t=i.get(e)){e=t}}return e._debugID};x=function(e){var t=E(this);if(t!==0){a.debugTool.onSetChildren(t,e?Object.keys(e).map(function(t){return e[t]._debugID}):[])}}}var C={Mixin:{_reconcilerInstantiateChildren:function(e,t,r){if(true){var n=E(this);if(this._currentElement){try{u.current=this._currentElement._owner;return c.instantiateChildren(e,t,r,n)}finally{u.current=null}}}return c.instantiateChildren(e,t,r)},_reconcilerUpdateChildren:function(e,t,r,n,o,i){var a;var s=0;if(true){s=E(this);if(this._currentElement){try{u.current=this._currentElement._owner;a=f(t,s)}finally{u.current=null}c.updateChildren(e,a,r,n,o,this,this._hostContainerInfo,i,s);return a}}a=f(t,s);c.updateChildren(e,a,r,n,o,this,this._hostContainerInfo,i,s);return a},mountChildren:function(e,t,r){var n=this._reconcilerInstantiateChildren(e,t,r);this._renderedChildren=n;var o=[];var i=0;for(var a in n){if(n.hasOwnProperty(a)){var s=n[a];var u=0;if(true){u=E(this)}var c=l.mountComponent(s,t,this,this._hostContainerInfo,r,u);s._mountIndex=i++;o.push(c)}}if(true){x.call(this,n)}return o},updateTextContent:function(e){var t=this._renderedChildren;c.unmountChildren(t,false);for(var r in t){if(t.hasOwnProperty(r)){true?true?p(false,"updateTextContent called on non-empty component."):n("118"):void 0}}var o=[g(e)];b(this,o)},updateMarkup:function(e){var t=this._renderedChildren;c.unmountChildren(t,false);for(var r in t){if(t.hasOwnProperty(r)){true?true?p(false,"updateTextContent called on non-empty component."):n("118"):void 0}}var o=[_(e)];b(this,o)},updateChildren:function(e,t,r){this._updateChildren(e,t,r)},_updateChildren:function(e,t,r){var n=this._renderedChildren;var o={};var i=[];var a=this._reconcilerUpdateChildren(n,e,i,o,t,r);if(!a&&!n){return}var s=null;var u;var c=0;var d=0;var f=0;var p=null;for(u in a){if(!a.hasOwnProperty(u)){continue}var h=n&&n[u];var v=a[u];if(h===v){s=y(s,this.moveChild(h,p,c,d));d=Math.max(h._mountIndex,d);h._mountIndex=c}else{if(h){d=Math.max(h._mountIndex,d)}s=y(s,this._mountChildAtIndex(v,i[f],p,c,t,r));f++}c++;p=l.getHostNode(v)}for(u in o){if(o.hasOwnProperty(u)){s=y(s,this._unmountChild(n[u],o[u]))}}if(s){b(this,s)}this._renderedChildren=a;if(true){x.call(this,a)}},unmountChildren:function(e){var t=this._renderedChildren;c.unmountChildren(t,e);this._renderedChildren=null},moveChild:function(e,t,r,n){if(e._mountIndex<n){return v(e,t,r)}},createChild:function(e,t,r){return h(r,t,e._mountIndex)},removeChild:function(e,t){return m(e,t)},_mountChildAtIndex:function(e,t,r,n,o,i){e._mountIndex=n;return this.createChild(e,r,t)},_unmountChild:function(e,t){var r=this.removeChild(e,t);e._mountIndex=null;return r}}};t.exports=C},{124:124,140:140,154:154,162:162,28:28,34:34,37:37,72:72,73:73,78:78,88:88}],78:[function(e,t,r){"use strict";var n=e(165);var o=n({INSERT_MARKUP:null,MOVE_EXISTING:null,REMOVE_NODE:null,SET_MARKUP:null,TEXT_CONTENT:null});t.exports=o},{165:165}],79:[function(e,t,r){"use strict";var n=e(140);var o=e(61);var i=e(162);var a={HOST:0,COMPOSITE:1,EMPTY:2,getType:function(e){if(e===null||e===false){return a.EMPTY}else if(o.isValidElement(e)){if(typeof e.type==="function"){return a.COMPOSITE}else{return a.HOST}}true?true?i(false,"Unexpected node: %s",e):n("26",e):void 0}};t.exports=a},{140:140,162:162,61:61}],80:[function(e,t,r){"use strict";var n=e(171);function o(e,t){if(true){var r=e.constructor;true?n(false,"%s(...): Can only update a mounted or mounting component. "+"This usually means you called %s() on an unmounted component. "+"This is a no-op. Please check the code for the %s component.",t,t,r&&(r.displayName||r.name)||"ReactClass"):void 0}}var i={isMounted:function(e){return false},enqueueCallback:function(e,t){},enqueueForceUpdate:function(e){o(e,"forceUpdate")},enqueueReplaceState:function(e,t){o(e,"replaceState")},enqueueSetState:function(e,t){o(e,"setState")}};t.exports=i},{171:171}],81:[function(e,t,r){"use strict";var n=e(140);var o=e(162);var i={isValidOwner:function(e){return!!(e&&typeof e.attachRef==="function"&&typeof e.detachRef==="function")},addComponentAsRefTo:function(e,t,r){!i.isValidOwner(r)?true?o(false,"addComponentAsRefTo(...): Only a ReactOwner can have refs. You might be adding a ref to a component that was not created inside a component's `render` method, or you have multiple copies of React loaded (details: https://fb.me/react-refs-must-have-owner)."):n("119"):void 0;r.attachRef(t,e)},removeComponentAsRefFrom:function(e,t,r){!i.isValidOwner(r)?true?o(false,"removeComponentAsRefFrom(...): Only a ReactOwner can have refs. You might be removing a ref to a component that was not created inside a component's `render` method, or you have multiple copies of React loaded (details: https://fb.me/react-refs-must-have-owner)."):n("120"):void 0;var a=r.getPublicInstance();if(a&&a.refs[t]===e.getPublicInstance()){r.detachRef(t)}}};t.exports=i},{140:140,162:162}],82:[function(e,t,r){"use strict";var n={};if(true){n={prop:"prop",context:"context",childContext:"child context"}}t.exports=n},{}],83:[function(e,t,r){"use strict";var n=e(165);var o=n({prop:null,context:null,childContext:null});t.exports=o},{165:165}],84:[function(e,t,r){"use strict";var n=e(61);var o=e(82);var i=e(85);var a=e(154);var s=e(131);var u=e(171);var l="<<anonymous>>";var c={array:h("array"),bool:h("boolean"),func:h("function"),number:h("number"),object:h("object"),string:h("string"),symbol:h("symbol"),any:v(),arrayOf:m,element:_(),instanceOf:g,node:E(),objectOf:b,oneOf:y,oneOfType:x,shape:C};function d(e,t){if(e===t){return e!==0||1/e===1/t}else{return e!==e&&t!==t}}function f(e){this.message=e;this.stack=""}f.prototype=Error.prototype;function p(e){if(true){var t={}}function r(r,n,a,s,c,d,p){s=s||l;d=d||a;if(true){if(p!==i&&typeof console!=="undefined"){var h=s+":"+a;if(!t[h]){true?u(false,"You are manually calling a React.PropTypes validation "+"function for the `%s` prop on `%s`. This is deprecated "+"and will not work in the next major version. You may be "+"seeing this warning due to a third-party PropTypes library. "+"See https://fb.me/react-warning-dont-call-proptypes for details.",d,s):void 0;t[h]=true}}}if(n[a]==null){var v=o[c];if(r){return new f("Required "+v+" `"+d+"` was not specified in "+("`"+s+"`."))}return null}else{return e(n,a,s,c,d)}}var n=r.bind(null,false);n.isRequired=r.bind(null,true);return n}function h(e){function t(t,r,n,i,a,s){var u=t[r];var l=T(u);if(l!==e){var c=o[i];var d=R(u);return new f("Invalid "+c+" `"+a+"` of type "+("`"+d+"` supplied to `"+n+"`, expected ")+("`"+e+"`."))}return null}return p(t)}function v(){return p(a.thatReturns(null))}function m(e){function t(t,r,n,a,s){if(typeof e!=="function"){return new f("Property `"+s+"` of component `"+n+"` has invalid PropType notation inside arrayOf.")}var u=t[r];if(!Array.isArray(u)){var l=o[a];var c=T(u);return new f("Invalid "+l+" `"+s+"` of type "+("`"+c+"` supplied to `"+n+"`, expected an array."))}for(var d=0;d<u.length;d++){var p=e(u,d,n,a,s+"["+d+"]",i);if(p instanceof Error){return p}}return null}return p(t)}function _(){function e(e,t,r,i,a){var s=e[t];if(!n.isValidElement(s)){var u=o[i];var l=T(s);return new f("Invalid "+u+" `"+a+"` of type "+("`"+l+"` supplied to `"+r+"`, expected a single ReactElement."))}return null}return p(e)}function g(e){function t(t,r,n,i,a){if(!(t[r]instanceof e)){var s=o[i];var u=e.name||l;var c=M(t[r]);return new f("Invalid "+s+" `"+a+"` of type "+("`"+c+"` supplied to `"+n+"`, expected ")+("instance of `"+u+"`."))}return null}return p(t)}function y(e){if(!Array.isArray(e)){true?u(false,"Invalid argument supplied to oneOf, expected an instance of array."):void 0;return a.thatReturnsNull}function t(t,r,n,i,a){var s=t[r];for(var u=0;u<e.length;u++){if(d(s,e[u])){return null}}var l=o[i];var c=JSON.stringify(e);return new f("Invalid "+l+" `"+a+"` of value `"+s+"` "+("supplied to `"+n+"`, expected one of "+c+"."))}return p(t)}function b(e){function t(t,r,n,a,s){if(typeof e!=="function"){return new f("Property `"+s+"` of component `"+n+"` has invalid PropType notation inside objectOf.")}var u=t[r];var l=T(u);if(l!=="object"){var c=o[a];return new f("Invalid "+c+" `"+s+"` of type "+("`"+l+"` supplied to `"+n+"`, expected an object."))}for(var d in u){if(u.hasOwnProperty(d)){var p=e(u,d,n,a,s+"."+d,i);if(p instanceof Error){return p}}}return null}return p(t)}function x(e){if(!Array.isArray(e)){true?u(false,"Invalid argument supplied to oneOfType, expected an instance of array."):void 0;return a.thatReturnsNull}function t(t,r,n,a,s){for(var u=0;u<e.length;u++){var l=e[u];if(l(t,r,n,a,s,i)==null){return null}}var c=o[a];return new f("Invalid "+c+" `"+s+"` supplied to "+("`"+n+"`."))}return p(t)}function E(){function e(e,t,r,n,i){if(!w(e[t])){var a=o[n];return new f("Invalid "+a+" `"+i+"` supplied to "+("`"+r+"`, expected a ReactNode."))}return null}return p(e)}function C(e){function t(t,r,n,a,s){var u=t[r];var l=T(u);if(l!=="object"){var c=o[a];return new f("Invalid "+c+" `"+s+"` of type `"+l+"` "+("supplied to `"+n+"`, expected `object`."))}for(var d in e){var p=e[d];if(!p){continue}var h=p(u,d,n,a,s+"."+d,i);if(h){return h}}return null}return p(t)}function w(e){switch(typeof e){case"number":case"string":case"undefined":return true;case"boolean":return!e;case"object":if(Array.isArray(e)){return e.every(w)}if(e===null||n.isValidElement(e)){return true}var t=s(e);if(t){var r=t.call(e);var o;if(t!==e.entries){while(!(o=r.next()).done){if(!w(o.value)){return false}}}else{while(!(o=r.next()).done){var i=o.value;if(i){if(!w(i[1])){return false}}}}}else{return false}return true;default:return false}}function S(e,t){if(e==="symbol"){return true}if(t["@@toStringTag"]==="Symbol"){return true}if(typeof Symbol==="function"&&t instanceof Symbol){return true}return false}function T(e){var t=typeof e;if(Array.isArray(e)){return"array"}if(e instanceof RegExp){return"object"}if(S(t,e)){return"symbol"}return t}function R(e){var t=T(e);if(t==="object"){if(e instanceof Date){return"date"}else if(e instanceof RegExp){return"regexp"}}return t}function M(e){if(!e.constructor||!e.constructor.name){return l}return e.constructor.name}t.exports=c},{131:131,154:154,171:171,61:61,82:82,85:85}],85:[function(e,t,r){"use strict";var n="SECRET_DO_NOT_PASS_THIS_OR_YOU_WILL_BE_FIRED";t.exports=n},{}],86:[function(e,t,r){"use strict";var n=e(172);var o=e(32);var i=e(80);var a=e(155);function s(e,t,r){this.props=e;this.context=t;this.refs=a;this.updater=r||i}function u(){}u.prototype=o.prototype;s.prototype=new u;s.prototype.constructor=s;n(s.prototype,o.prototype);s.prototype.isPureReactComponent=true;t.exports=s},{155:155,172:172,32:32,80:80}],87:[function(e,t,r){"use strict";var n=e(172);var o=e(5);var i=e(25);var a=e(27);var s=e(71);var u=e(73);var l=e(114);var c=e(95);var d={initialize:s.getSelectionInformation,close:s.restoreSelection};var f={initialize:function(){var e=a.isEnabled();a.setEnabled(false);return e},close:function(e){a.setEnabled(e)}};var p={initialize:function(){this.reactMountReady.reset()},close:function(){this.reactMountReady.notifyAll()}};var h=[d,f,p];if(true){h.push({initialize:u.debugTool.onBeginFlush,close:u.debugTool.onEndFlush})}function v(e){this.reinitializeTransaction();this.renderToStaticMarkup=false;this.reactMountReady=o.getPooled(null);this.useCreateElement=e}var m={getTransactionWrappers:function(){return h},getReactMountReady:function(){return this.reactMountReady},getUpdateQueue:function(){return c},checkpoint:function(){return this.reactMountReady.checkpoint()},rollback:function(e){this.reactMountReady.rollback(e)},destructor:function(){o.release(this.reactMountReady);this.reactMountReady=null}};n(v.prototype,l.Mixin,m);i.addPoolingTo(v);t.exports=v},{114:114,172:172,25:25,27:27,5:5,71:71,73:73,95:95}],88:[function(e,t,r){"use strict";var n=e(89);var o=e(73);var i=e(171);function a(){n.attachRefs(this,this._currentElement)}var s={mountComponent:function(e,t,r,n,i,s){if(true){if(e._debugID!==0){o.debugTool.onBeforeMountComponent(e._debugID,e._currentElement,s)}}var u=e.mountComponent(t,r,n,i,s);if(e._currentElement&&e._currentElement.ref!=null){t.getReactMountReady().enqueue(a,e)}if(true){if(e._debugID!==0){o.debugTool.onMountComponent(e._debugID)}}return u},getHostNode:function(e){return e.getHostNode()},unmountComponent:function(e,t){if(true){if(e._debugID!==0){o.debugTool.onBeforeUnmountComponent(e._debugID)}}n.detachRefs(e,e._currentElement);e.unmountComponent(t);if(true){if(e._debugID!==0){o.debugTool.onUnmountComponent(e._debugID)}}},receiveComponent:function(e,t,r,i){var s=e._currentElement;if(t===s&&i===e._context){return}if(true){if(e._debugID!==0){o.debugTool.onBeforeUpdateComponent(e._debugID,t)}}var u=n.shouldUpdateRefs(s,t);if(u){n.detachRefs(e,s)}e.receiveComponent(t,r,i);if(u&&e._currentElement&&e._currentElement.ref!=null){r.getReactMountReady().enqueue(a,e);
}if(true){if(e._debugID!==0){o.debugTool.onUpdateComponent(e._debugID)}}},performUpdateIfNecessary:function(e,t,r){if(e._updateBatchNumber!==r){true?i(e._updateBatchNumber==null||e._updateBatchNumber===r+1,"performUpdateIfNecessary: Unexpected batch number (current %s, "+"pending %s)",r,e._updateBatchNumber):void 0;return}if(true){if(e._debugID!==0){o.debugTool.onBeforeUpdateComponent(e._debugID,e._currentElement)}}e.performUpdateIfNecessary(t);if(true){if(e._debugID!==0){o.debugTool.onUpdateComponent(e._debugID)}}}};t.exports=s},{171:171,73:73,89:89}],89:[function(e,t,r){"use strict";var n=e(81);var o={};function i(e,t,r){if(typeof e==="function"){e(t.getPublicInstance())}else{n.addComponentAsRefTo(t,e,r)}}function a(e,t,r){if(typeof e==="function"){e(null)}else{n.removeComponentAsRefFrom(t,e,r)}}o.attachRefs=function(e,t){if(t===null||t===false){return}var r=t.ref;if(r!=null){i(r,e,t._owner)}};o.shouldUpdateRefs=function(e,t){var r=e===null||e===false;var n=t===null||t===false;return r||n||t.ref!==e.ref||typeof t.ref==="string"&&t._owner!==e._owner};o.detachRefs=function(e,t){if(t===null||t===false){return}var r=t.ref;if(r!=null){a(r,e,t._owner)}};t.exports=o},{81:81}],90:[function(e,t,r){"use strict";var n={isBatchingUpdates:false,batchedUpdates:function(e){}};t.exports=n},{}],91:[function(e,t,r){"use strict";var n=e(140);var o=e(43);var i=e(59);var a=e(61);var s=e(73);var u=e(75);var l=e(88);var c=e(90);var d=e(92);var f=e(96);var p=e(155);var h=e(135);var v=e(162);var m=0;function _(e,t){var r;try{f.injection.injectBatchingStrategy(c);r=d.getPooled(t);m++;return r.perform(function(){var n=h(e,true);var i=l.mountComponent(n,r,null,o(),p,0);if(true){s.debugTool.onUnmountComponent(n._debugID)}if(!t){i=u.addChecksumToMarkup(i)}return i},null)}finally{m--;d.release(r);if(!m){f.injection.injectBatchingStrategy(i)}}}function g(e){!a.isValidElement(e)?true?v(false,"renderToString(): You must pass a valid ReactElement."):n("46"):void 0;return _(e,false)}function y(e){!a.isValidElement(e)?true?v(false,"renderToStaticMarkup(): You must pass a valid ReactElement."):n("47"):void 0;return _(e,true)}t.exports={renderToString:g,renderToStaticMarkup:y}},{135:135,140:140,155:155,162:162,43:43,59:59,61:61,73:73,75:75,88:88,90:90,92:92,96:96}],92:[function(e,t,r){"use strict";var n=e(172);var o=e(25);var i=e(114);var a=e(73);var s=e(93);var u=[];if(true){u.push({initialize:a.debugTool.onBeginFlush,close:a.debugTool.onEndFlush})}var l={enqueue:function(){}};function c(e){this.reinitializeTransaction();this.renderToStaticMarkup=e;this.useCreateElement=false;this.updateQueue=new s(this)}var d={getTransactionWrappers:function(){return u},getReactMountReady:function(){return l},getUpdateQueue:function(){return this.updateQueue},destructor:function(){},checkpoint:function(){},rollback:function(){}};n(c.prototype,i.Mixin,d);o.addPoolingTo(c);t.exports=c},{114:114,172:172,25:25,73:73,93:93}],93:[function(e,t,r){"use strict";function n(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}var o=e(95);var i=e(114);var a=e(171);function s(e,t){if(true){var r=e.constructor;true?a(false,"%s(...): Can only update a mounting component. "+"This usually means you called %s() outside componentWillMount() on the server. "+"This is a no-op. Please check the code for the %s component.",t,t,r&&(r.displayName||r.name)||"ReactClass"):void 0}}var u=function(){function e(t){n(this,e);this.transaction=t}e.prototype.isMounted=function e(t){return false};e.prototype.enqueueCallback=function e(t,r,n){if(this.transaction.isInTransaction()){o.enqueueCallback(t,r,n)}};e.prototype.enqueueForceUpdate=function e(t){if(this.transaction.isInTransaction()){o.enqueueForceUpdate(t)}else{s(t,"forceUpdate")}};e.prototype.enqueueReplaceState=function e(t,r){if(this.transaction.isInTransaction()){o.enqueueReplaceState(t,r)}else{s(t,"replaceState")}};e.prototype.enqueueSetState=function e(t,r){if(this.transaction.isInTransaction()){o.enqueueSetState(t,r)}else{s(t,"setState")}};return e}();t.exports=u},{114:114,171:171,95:95}],94:[function(e,t,r){"use strict";var n=e(172);var o=e(38);var i=e(53);var a=e(26);var s=n({__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:o,__SECRET_DOM_SERVER_DO_NOT_USE_OR_YOU_WILL_BE_FIRED:i},a);t.exports=s},{172:172,26:26,38:38,53:53}],95:[function(e,t,r){"use strict";var n=e(140);var o=e(37);var i=e(72);var a=e(73);var s=e(96);var u=e(162);var l=e(171);function c(e){s.enqueueUpdate(e)}function d(e){var t=typeof e;if(t!=="object"){return t}var r=e.constructor&&e.constructor.name||t;var n=Object.keys(e);if(n.length>0&&n.length<20){return r+" (keys: "+n.join(", ")+")"}return r}function f(e,t){var r=i.get(e);if(!r){if(true){var n=e.constructor;true?l(!t,"%s(...): Can only update a mounted or mounting component. "+"This usually means you called %s() on an unmounted component. "+"This is a no-op. Please check the code for the %s component.",t,t,n&&(n.displayName||n.name)||"ReactClass"):void 0}return null}if(true){true?l(o.current==null,"%s(...): Cannot update during an existing state transition (such as "+"within `render` or another component's constructor). Render methods "+"should be a pure function of props and state; constructor "+"side-effects are an anti-pattern, but can be moved to "+"`componentWillMount`.",t):void 0}return r}var p={isMounted:function(e){if(true){var t=o.current;if(t!==null){true?l(t._warnedAboutRefsInRender,"%s is accessing isMounted inside its render() function. "+"render() should be a pure function of props and state. It should "+"never access something that requires stale data from the previous "+"render, such as refs. Move this logic to componentDidMount and "+"componentDidUpdate instead.",t.getName()||"A component"):void 0;t._warnedAboutRefsInRender=true}}var r=i.get(e);if(r){return!!r._renderedComponent}else{return false}},enqueueCallback:function(e,t,r){p.validateCallback(t,r);var n=f(e);if(!n){return null}if(n._pendingCallbacks){n._pendingCallbacks.push(t)}else{n._pendingCallbacks=[t]}c(n)},enqueueCallbackInternal:function(e,t){if(e._pendingCallbacks){e._pendingCallbacks.push(t)}else{e._pendingCallbacks=[t]}c(e)},enqueueForceUpdate:function(e){var t=f(e,"forceUpdate");if(!t){return}t._pendingForceUpdate=true;c(t)},enqueueReplaceState:function(e,t){var r=f(e,"replaceState");if(!r){return}r._pendingStateQueue=[t];r._pendingReplaceState=true;c(r)},enqueueSetState:function(e,t){if(true){a.debugTool.onSetState();true?l(t!=null,"setState(...): You passed an undefined or null state object; "+"instead, use forceUpdate()."):void 0}var r=f(e,"setState");if(!r){return}var n=r._pendingStateQueue||(r._pendingStateQueue=[]);n.push(t);c(r)},enqueueElementInternal:function(e,t,r){e._pendingElement=t;e._context=r;c(e)},validateCallback:function(e,t){!(!e||typeof e==="function")?true?u(false,"%s(...): Expected the last optional `callback` argument to be a function. Instead received: %s.",t,d(e)):n("122",t,d(e)):void 0}};t.exports=p},{140:140,162:162,171:171,37:37,72:72,73:73,96:96}],96:[function(e,t,r){"use strict";var n=e(140),o=e(172);var i=e(5);var a=e(25);var s=e(67);var u=e(88);var l=e(114);var c=e(162);var d=[];var f=0;var p=i.getPooled();var h=false;var v=null;function m(){!(M.ReactReconcileTransaction&&v)?true?c(false,"ReactUpdates: must inject a reconcile transaction class and batching strategy"):n("123"):void 0}var _={initialize:function(){this.dirtyComponentsLength=d.length},close:function(){if(this.dirtyComponentsLength!==d.length){d.splice(0,this.dirtyComponentsLength);w()}else{d.length=0}}};var g={initialize:function(){this.callbackQueue.reset()},close:function(){this.callbackQueue.notifyAll()}};var y=[_,g];function b(){this.reinitializeTransaction();this.dirtyComponentsLength=null;this.callbackQueue=i.getPooled();this.reconcileTransaction=M.ReactReconcileTransaction.getPooled(true)}o(b.prototype,l.Mixin,{getTransactionWrappers:function(){return y},destructor:function(){this.dirtyComponentsLength=null;i.release(this.callbackQueue);this.callbackQueue=null;M.ReactReconcileTransaction.release(this.reconcileTransaction);this.reconcileTransaction=null},perform:function(e,t,r){return l.Mixin.perform.call(this,this.reconcileTransaction.perform,this.reconcileTransaction,e,t,r)}});a.addPoolingTo(b);function x(e,t,r,n,o,i){m();v.batchedUpdates(e,t,r,n,o,i)}function E(e,t){return e._mountOrder-t._mountOrder}function C(e){var t=e.dirtyComponentsLength;!(t===d.length)?true?c(false,"Expected flush transaction's stored dirty-components length (%s) to match dirty-components array length (%s).",t,d.length):n("124",t,d.length):void 0;d.sort(E);f++;for(var r=0;r<t;r++){var o=d[r];var i=o._pendingCallbacks;o._pendingCallbacks=null;var a;if(s.logTopLevelRenders){var l=o;if(o._currentElement.props===o._renderedComponent._currentElement){l=o._renderedComponent}a="React update: "+l.getName();console.time(a)}u.performUpdateIfNecessary(o,e.reconcileTransaction,f);if(a){console.timeEnd(a)}if(i){for(var p=0;p<i.length;p++){e.callbackQueue.enqueue(i[p],o.getPublicInstance())}}}}var w=function(){while(d.length||h){if(d.length){var e=b.getPooled();e.perform(C,null,e);b.release(e)}if(h){h=false;var t=p;p=i.getPooled();t.notifyAll();i.release(t)}}};function S(e){m();if(!v.isBatchingUpdates){v.batchedUpdates(S,e);return}d.push(e);if(e._updateBatchNumber==null){e._updateBatchNumber=f+1}}function T(e,t){!v.isBatchingUpdates?true?c(false,"ReactUpdates.asap: Can't enqueue an asap callback in a context whereupdates are not being batched."):n("125"):void 0;p.enqueue(e,t);h=true}var R={injectReconcileTransaction:function(e){!e?true?c(false,"ReactUpdates: must provide a reconcile transaction class"):n("126"):void 0;M.ReactReconcileTransaction=e},injectBatchingStrategy:function(e){!e?true?c(false,"ReactUpdates: must provide a batching strategy"):n("127"):void 0;!(typeof e.batchedUpdates==="function")?true?c(false,"ReactUpdates: must provide a batchedUpdates() function"):n("128"):void 0;!(typeof e.isBatchingUpdates==="boolean")?true?c(false,"ReactUpdates: must provide an isBatchingUpdates boolean attribute"):n("129"):void 0;v=e}};var M={ReactReconcileTransaction:null,batchedUpdates:x,enqueueUpdate:S,flushBatchedUpdates:w,injection:R,asap:T};t.exports=M},{114:114,140:140,162:162,172:172,25:25,5:5,67:67,88:88}],97:[function(e,t,r){"use strict";t.exports="15.3.2"},{}],98:[function(e,t,r){"use strict";var n={xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace"};var o={accentHeight:"accent-height",accumulate:0,additive:0,alignmentBaseline:"alignment-baseline",allowReorder:"allowReorder",alphabetic:0,amplitude:0,arabicForm:"arabic-form",ascent:0,attributeName:"attributeName",attributeType:"attributeType",autoReverse:"autoReverse",azimuth:0,baseFrequency:"baseFrequency",baseProfile:"baseProfile",baselineShift:"baseline-shift",bbox:0,begin:0,bias:0,by:0,calcMode:"calcMode",capHeight:"cap-height",clip:0,clipPath:"clip-path",clipRule:"clip-rule",clipPathUnits:"clipPathUnits",colorInterpolation:"color-interpolation",colorInterpolationFilters:"color-interpolation-filters",colorProfile:"color-profile",colorRendering:"color-rendering",contentScriptType:"contentScriptType",contentStyleType:"contentStyleType",cursor:0,cx:0,cy:0,d:0,decelerate:0,descent:0,diffuseConstant:"diffuseConstant",direction:0,display:0,divisor:0,dominantBaseline:"dominant-baseline",dur:0,dx:0,dy:0,edgeMode:"edgeMode",elevation:0,enableBackground:"enable-background",end:0,exponent:0,externalResourcesRequired:"externalResourcesRequired",fill:0,fillOpacity:"fill-opacity",fillRule:"fill-rule",filter:0,filterRes:"filterRes",filterUnits:"filterUnits",floodColor:"flood-color",floodOpacity:"flood-opacity",focusable:0,fontFamily:"font-family",fontSize:"font-size",fontSizeAdjust:"font-size-adjust",fontStretch:"font-stretch",fontStyle:"font-style",fontVariant:"font-variant",fontWeight:"font-weight",format:0,from:0,fx:0,fy:0,g1:0,g2:0,glyphName:"glyph-name",glyphOrientationHorizontal:"glyph-orientation-horizontal",glyphOrientationVertical:"glyph-orientation-vertical",glyphRef:"glyphRef",gradientTransform:"gradientTransform",gradientUnits:"gradientUnits",hanging:0,horizAdvX:"horiz-adv-x",horizOriginX:"horiz-origin-x",ideographic:0,imageRendering:"image-rendering",in:0,in2:0,intercept:0,k:0,k1:0,k2:0,k3:0,k4:0,kernelMatrix:"kernelMatrix",kernelUnitLength:"kernelUnitLength",kerning:0,keyPoints:"keyPoints",keySplines:"keySplines",keyTimes:"keyTimes",lengthAdjust:"lengthAdjust",letterSpacing:"letter-spacing",lightingColor:"lighting-color",limitingConeAngle:"limitingConeAngle",local:0,markerEnd:"marker-end",markerMid:"marker-mid",markerStart:"marker-start",markerHeight:"markerHeight",markerUnits:"markerUnits",markerWidth:"markerWidth",mask:0,maskContentUnits:"maskContentUnits",maskUnits:"maskUnits",mathematical:0,mode:0,numOctaves:"numOctaves",offset:0,opacity:0,operator:0,order:0,orient:0,orientation:0,origin:0,overflow:0,overlinePosition:"overline-position",overlineThickness:"overline-thickness",paintOrder:"paint-order",panose1:"panose-1",pathLength:"pathLength",patternContentUnits:"patternContentUnits",patternTransform:"patternTransform",patternUnits:"patternUnits",pointerEvents:"pointer-events",points:0,pointsAtX:"pointsAtX",pointsAtY:"pointsAtY",pointsAtZ:"pointsAtZ",preserveAlpha:"preserveAlpha",preserveAspectRatio:"preserveAspectRatio",primitiveUnits:"primitiveUnits",r:0,radius:0,refX:"refX",refY:"refY",renderingIntent:"rendering-intent",repeatCount:"repeatCount",repeatDur:"repeatDur",requiredExtensions:"requiredExtensions",requiredFeatures:"requiredFeatures",restart:0,result:0,rotate:0,rx:0,ry:0,scale:0,seed:0,shapeRendering:"shape-rendering",slope:0,spacing:0,specularConstant:"specularConstant",specularExponent:"specularExponent",speed:0,spreadMethod:"spreadMethod",startOffset:"startOffset",stdDeviation:"stdDeviation",stemh:0,stemv:0,stitchTiles:"stitchTiles",stopColor:"stop-color",stopOpacity:"stop-opacity",strikethroughPosition:"strikethrough-position",strikethroughThickness:"strikethrough-thickness",string:0,stroke:0,strokeDasharray:"stroke-dasharray",strokeDashoffset:"stroke-dashoffset",strokeLinecap:"stroke-linecap",strokeLinejoin:"stroke-linejoin",strokeMiterlimit:"stroke-miterlimit",strokeOpacity:"stroke-opacity",strokeWidth:"stroke-width",surfaceScale:"surfaceScale",systemLanguage:"systemLanguage",tableValues:"tableValues",targetX:"targetX",targetY:"targetY",textAnchor:"text-anchor",textDecoration:"text-decoration",textRendering:"text-rendering",textLength:"textLength",to:0,transform:0,u1:0,u2:0,underlinePosition:"underline-position",underlineThickness:"underline-thickness",unicode:0,unicodeBidi:"unicode-bidi",unicodeRange:"unicode-range",unitsPerEm:"units-per-em",vAlphabetic:"v-alphabetic",vHanging:"v-hanging",vIdeographic:"v-ideographic",vMathematical:"v-mathematical",values:0,vectorEffect:"vector-effect",version:0,vertAdvY:"vert-adv-y",vertOriginX:"vert-origin-x",vertOriginY:"vert-origin-y",viewBox:"viewBox",viewTarget:"viewTarget",visibility:0,widths:0,wordSpacing:"word-spacing",writingMode:"writing-mode",x:0,xHeight:"x-height",x1:0,x2:0,xChannelSelector:"xChannelSelector",xlinkActuate:"xlink:actuate",xlinkArcrole:"xlink:arcrole",xlinkHref:"xlink:href",xlinkRole:"xlink:role",xlinkShow:"xlink:show",xlinkTitle:"xlink:title",xlinkType:"xlink:type",xmlBase:"xml:base",xmlns:0,xmlnsXlink:"xmlns:xlink",xmlLang:"xml:lang",xmlSpace:"xml:space",y:0,y1:0,y2:0,yChannelSelector:"yChannelSelector",z:0,zoomAndPan:"zoomAndPan"};var i={Properties:{},DOMAttributeNamespaces:{xlinkActuate:n.xlink,xlinkArcrole:n.xlink,xlinkHref:n.xlink,xlinkRole:n.xlink,xlinkShow:n.xlink,xlinkTitle:n.xlink,xlinkType:n.xlink,xmlBase:n.xml,xmlLang:n.xml,xmlSpace:n.xml},DOMAttributeNames:{}};Object.keys(o).forEach(function(e){i.Properties[e]=0;if(o[e]){i.DOMAttributeNames[e]=o[e]}});t.exports=i},{}],99:[function(e,t,r){"use strict";var n=e(16);var o=e(20);var i=e(148);var a=e(42);var s=e(71);var u=e(105);var l=e(157);var c=e(137);var d=e(166);var f=e(170);var p=n.topLevelTypes;var h=i.canUseDOM&&"documentMode"in document&&document.documentMode<=11;var v={select:{phasedRegistrationNames:{bubbled:d({onSelect:null}),captured:d({onSelectCapture:null})},dependencies:[p.topBlur,p.topContextMenu,p.topFocus,p.topKeyDown,p.topKeyUp,p.topMouseDown,p.topMouseUp,p.topSelectionChange]}};var m=null;var _=null;var g=null;var y=false;var b=false;var x=d({onSelect:null});function E(e){if("selectionStart"in e&&s.hasSelectionCapabilities(e)){return{start:e.selectionStart,end:e.selectionEnd}}else if(window.getSelection){var t=window.getSelection();return{anchorNode:t.anchorNode,anchorOffset:t.anchorOffset,focusNode:t.focusNode,focusOffset:t.focusOffset}}else if(document.selection){var r=document.selection.createRange();return{parentElement:r.parentElement(),text:r.text,top:r.boundingTop,left:r.boundingLeft}}}function C(e,t){if(y||m==null||m!==l()){return null}var r=E(m);if(!g||!f(g,r)){g=r;var n=u.getPooled(v.select,_,e,t);n.type="select";n.target=m;o.accumulateTwoPhaseDispatches(n);return n}return null}var w={eventTypes:v,extractEvents:function(e,t,r,n){if(!b){return null}var o=t?a.getNodeFromInstance(t):window;switch(e){case p.topFocus:if(c(o)||o.contentEditable==="true"){m=o;_=t;g=null}break;case p.topBlur:m=null;_=null;g=null;break;case p.topMouseDown:y=true;break;case p.topContextMenu:case p.topMouseUp:y=false;return C(r,n);case p.topSelectionChange:if(h){break}case p.topKeyDown:case p.topKeyUp:return C(r,n)}return null},didPutListener:function(e,t,r){if(t===x){b=true}}};t.exports=w},{105:105,137:137,148:148,157:157,16:16,166:166,170:170,20:20,42:42,71:71}],100:[function(e,t,r){"use strict";var n=e(140);var o=e(16);var i=e(147);var a=e(20);var s=e(42);var u=e(101);var l=e(102);var c=e(105);var d=e(106);var f=e(108);var p=e(109);var h=e(104);var v=e(110);var m=e(111);var _=e(112);var g=e(113);var y=e(154);var b=e(126);var x=e(162);var E=e(166);var C=o.topLevelTypes;var w={abort:{phasedRegistrationNames:{bubbled:E({onAbort:true}),captured:E({onAbortCapture:true})}},animationEnd:{phasedRegistrationNames:{bubbled:E({onAnimationEnd:true}),captured:E({onAnimationEndCapture:true})}},animationIteration:{phasedRegistrationNames:{bubbled:E({onAnimationIteration:true}),captured:E({onAnimationIterationCapture:true})}},animationStart:{phasedRegistrationNames:{bubbled:E({onAnimationStart:true}),captured:E({onAnimationStartCapture:true})}},blur:{phasedRegistrationNames:{bubbled:E({onBlur:true}),captured:E({onBlurCapture:true})}},canPlay:{phasedRegistrationNames:{bubbled:E({onCanPlay:true}),captured:E({onCanPlayCapture:true})}},canPlayThrough:{phasedRegistrationNames:{bubbled:E({onCanPlayThrough:true}),captured:E({onCanPlayThroughCapture:true})}},click:{phasedRegistrationNames:{bubbled:E({onClick:true}),captured:E({onClickCapture:true})}},contextMenu:{phasedRegistrationNames:{bubbled:E({onContextMenu:true}),captured:E({onContextMenuCapture:true})}},copy:{phasedRegistrationNames:{bubbled:E({onCopy:true}),captured:E({onCopyCapture:true})}},cut:{phasedRegistrationNames:{bubbled:E({onCut:true}),captured:E({onCutCapture:true})}},doubleClick:{phasedRegistrationNames:{bubbled:E({onDoubleClick:true}),captured:E({onDoubleClickCapture:true})}},drag:{phasedRegistrationNames:{bubbled:E({onDrag:true}),captured:E({onDragCapture:true})}},dragEnd:{phasedRegistrationNames:{bubbled:E({onDragEnd:true}),captured:E({onDragEndCapture:true})}},dragEnter:{phasedRegistrationNames:{bubbled:E({onDragEnter:true}),captured:E({onDragEnterCapture:true})}},dragExit:{phasedRegistrationNames:{bubbled:E({onDragExit:true}),captured:E({onDragExitCapture:true})}},dragLeave:{phasedRegistrationNames:{bubbled:E({onDragLeave:true}),captured:E({onDragLeaveCapture:true})}},dragOver:{phasedRegistrationNames:{bubbled:E({onDragOver:true}),captured:E({onDragOverCapture:true})}},dragStart:{phasedRegistrationNames:{bubbled:E({onDragStart:true}),captured:E({onDragStartCapture:true})}},drop:{phasedRegistrationNames:{bubbled:E({onDrop:true}),captured:E({onDropCapture:true})}},durationChange:{phasedRegistrationNames:{bubbled:E({onDurationChange:true}),captured:E({onDurationChangeCapture:true})}},emptied:{phasedRegistrationNames:{bubbled:E({onEmptied:true}),captured:E({onEmptiedCapture:true})}},encrypted:{phasedRegistrationNames:{bubbled:E({onEncrypted:true}),captured:E({onEncryptedCapture:true})}},ended:{phasedRegistrationNames:{bubbled:E({onEnded:true}),captured:E({onEndedCapture:true})}},error:{phasedRegistrationNames:{bubbled:E({onError:true}),captured:E({onErrorCapture:true})}},focus:{phasedRegistrationNames:{bubbled:E({onFocus:true}),captured:E({onFocusCapture:true})}},input:{phasedRegistrationNames:{bubbled:E({onInput:true}),captured:E({onInputCapture:true})}},invalid:{phasedRegistrationNames:{bubbled:E({onInvalid:true}),captured:E({onInvalidCapture:true})}},keyDown:{phasedRegistrationNames:{bubbled:E({onKeyDown:true}),captured:E({onKeyDownCapture:true})}},keyPress:{phasedRegistrationNames:{bubbled:E({onKeyPress:true}),captured:E({onKeyPressCapture:true})}},keyUp:{phasedRegistrationNames:{bubbled:E({onKeyUp:true}),captured:E({onKeyUpCapture:true})}},load:{phasedRegistrationNames:{bubbled:E({onLoad:true}),captured:E({onLoadCapture:true})}},loadedData:{phasedRegistrationNames:{bubbled:E({onLoadedData:true}),captured:E({onLoadedDataCapture:true})}},loadedMetadata:{phasedRegistrationNames:{bubbled:E({onLoadedMetadata:true}),captured:E({onLoadedMetadataCapture:true})}},loadStart:{phasedRegistrationNames:{bubbled:E({onLoadStart:true}),captured:E({onLoadStartCapture:true})}},mouseDown:{phasedRegistrationNames:{bubbled:E({onMouseDown:true}),captured:E({onMouseDownCapture:true})}},mouseMove:{phasedRegistrationNames:{bubbled:E({onMouseMove:true}),captured:E({onMouseMoveCapture:true})}},mouseOut:{phasedRegistrationNames:{bubbled:E({onMouseOut:true}),captured:E({onMouseOutCapture:true})}},mouseOver:{phasedRegistrationNames:{bubbled:E({onMouseOver:true}),captured:E({onMouseOverCapture:true})}},mouseUp:{phasedRegistrationNames:{bubbled:E({onMouseUp:true}),captured:E({onMouseUpCapture:true})}},paste:{phasedRegistrationNames:{bubbled:E({onPaste:true}),captured:E({onPasteCapture:true})}},pause:{phasedRegistrationNames:{bubbled:E({onPause:true}),captured:E({onPauseCapture:true})}},play:{phasedRegistrationNames:{bubbled:E({onPlay:true}),captured:E({onPlayCapture:true})}},playing:{phasedRegistrationNames:{bubbled:E({onPlaying:true}),captured:E({onPlayingCapture:true})}},progress:{phasedRegistrationNames:{bubbled:E({onProgress:true}),captured:E({onProgressCapture:true})}},rateChange:{phasedRegistrationNames:{bubbled:E({onRateChange:true}),captured:E({onRateChangeCapture:true})}},reset:{phasedRegistrationNames:{bubbled:E({onReset:true}),captured:E({onResetCapture:true})}},scroll:{phasedRegistrationNames:{bubbled:E({onScroll:true}),captured:E({onScrollCapture:true})}},seeked:{phasedRegistrationNames:{bubbled:E({onSeeked:true}),captured:E({onSeekedCapture:true})}},seeking:{phasedRegistrationNames:{bubbled:E({onSeeking:true}),captured:E({onSeekingCapture:true})}},stalled:{phasedRegistrationNames:{bubbled:E({onStalled:true}),captured:E({onStalledCapture:true})}},submit:{phasedRegistrationNames:{bubbled:E({onSubmit:true}),captured:E({onSubmitCapture:true})}},suspend:{phasedRegistrationNames:{bubbled:E({onSuspend:true}),captured:E({onSuspendCapture:true})}},timeUpdate:{phasedRegistrationNames:{bubbled:E({onTimeUpdate:true}),captured:E({onTimeUpdateCapture:true})}},touchCancel:{phasedRegistrationNames:{bubbled:E({onTouchCancel:true}),captured:E({onTouchCancelCapture:true})}},touchEnd:{phasedRegistrationNames:{bubbled:E({onTouchEnd:true}),captured:E({onTouchEndCapture:true})}},touchMove:{phasedRegistrationNames:{bubbled:E({onTouchMove:true}),captured:E({onTouchMoveCapture:true})}},touchStart:{phasedRegistrationNames:{bubbled:E({onTouchStart:true}),captured:E({onTouchStartCapture:true})}},transitionEnd:{phasedRegistrationNames:{bubbled:E({onTransitionEnd:true}),captured:E({onTransitionEndCapture:true})}},volumeChange:{phasedRegistrationNames:{bubbled:E({onVolumeChange:true}),captured:E({onVolumeChangeCapture:true})}},waiting:{phasedRegistrationNames:{bubbled:E({onWaiting:true}),captured:E({onWaitingCapture:true})}},wheel:{phasedRegistrationNames:{bubbled:E({onWheel:true}),captured:E({onWheelCapture:true})}}};var S={topAbort:w.abort,topAnimationEnd:w.animationEnd,topAnimationIteration:w.animationIteration,topAnimationStart:w.animationStart,topBlur:w.blur,topCanPlay:w.canPlay,topCanPlayThrough:w.canPlayThrough,topClick:w.click,topContextMenu:w.contextMenu,topCopy:w.copy,topCut:w.cut,topDoubleClick:w.doubleClick,topDrag:w.drag,topDragEnd:w.dragEnd,topDragEnter:w.dragEnter,topDragExit:w.dragExit,topDragLeave:w.dragLeave,topDragOver:w.dragOver,topDragStart:w.dragStart,topDrop:w.drop,topDurationChange:w.durationChange,topEmptied:w.emptied,topEncrypted:w.encrypted,topEnded:w.ended,topError:w.error,topFocus:w.focus,topInput:w.input,topInvalid:w.invalid,topKeyDown:w.keyDown,topKeyPress:w.keyPress,topKeyUp:w.keyUp,topLoad:w.load,topLoadedData:w.loadedData,topLoadedMetadata:w.loadedMetadata,topLoadStart:w.loadStart,topMouseDown:w.mouseDown,topMouseMove:w.mouseMove,topMouseOut:w.mouseOut,topMouseOver:w.mouseOver,topMouseUp:w.mouseUp,topPaste:w.paste,topPause:w.pause,topPlay:w.play,topPlaying:w.playing,topProgress:w.progress,topRateChange:w.rateChange,topReset:w.reset,topScroll:w.scroll,topSeeked:w.seeked,topSeeking:w.seeking,topStalled:w.stalled,topSubmit:w.submit,topSuspend:w.suspend,topTimeUpdate:w.timeUpdate,topTouchCancel:w.touchCancel,topTouchEnd:w.touchEnd,topTouchMove:w.touchMove,topTouchStart:w.touchStart,topTransitionEnd:w.transitionEnd,topVolumeChange:w.volumeChange,topWaiting:w.waiting,topWheel:w.wheel};for(var T in S){S[T].dependencies=[T]}var R=E({onClick:null});var M={};function O(e){return"."+e._rootNodeID}var k={eventTypes:w,extractEvents:function(e,t,r,o){var i=S[e];if(!i){return null}var s;switch(e){case C.topAbort:case C.topCanPlay:case C.topCanPlayThrough:case C.topDurationChange:case C.topEmptied:case C.topEncrypted:case C.topEnded:case C.topError:case C.topInput:case C.topInvalid:case C.topLoad:case C.topLoadedData:case C.topLoadedMetadata:case C.topLoadStart:case C.topPause:case C.topPlay:case C.topPlaying:case C.topProgress:case C.topRateChange:case C.topReset:case C.topSeeked:case C.topSeeking:case C.topStalled:case C.topSubmit:case C.topSuspend:case C.topTimeUpdate:case C.topVolumeChange:case C.topWaiting:s=c;break;case C.topKeyPress:if(b(r)===0){return null}case C.topKeyDown:case C.topKeyUp:s=f;break;case C.topBlur:case C.topFocus:s=d;break;case C.topClick:if(r.button===2){return null}case C.topContextMenu:case C.topDoubleClick:case C.topMouseDown:case C.topMouseMove:case C.topMouseOut:case C.topMouseOver:case C.topMouseUp:s=p;break;case C.topDrag:case C.topDragEnd:case C.topDragEnter:case C.topDragExit:case C.topDragLeave:case C.topDragOver:case C.topDragStart:case C.topDrop:s=h;break;case C.topTouchCancel:case C.topTouchEnd:case C.topTouchMove:case C.topTouchStart:s=v;break;case C.topAnimationEnd:case C.topAnimationIteration:case C.topAnimationStart:s=u;break;case C.topTransitionEnd:s=m;break;case C.topScroll:s=_;break;case C.topWheel:s=g;break;case C.topCopy:case C.topCut:case C.topPaste:s=l;break}!s?true?x(false,"SimpleEventPlugin: Unhandled event type, `%s`.",e):n("86",e):void 0;var y=s.getPooled(i,t,r,o);a.accumulateTwoPhaseDispatches(y);return y},didPutListener:function(e,t,r){if(t===R){var n=O(e);var o=s.getNodeFromInstance(e);if(!M[n]){M[n]=i.listen(o,"click",y)}}},willDeleteListener:function(e,t){if(t===R){var r=O(e);M[r].remove();delete M[r]}}};t.exports=k},{101:101,102:102,104:104,105:105,106:106,108:108,109:109,110:110,111:111,112:112,113:113,126:126,140:140,147:147,154:154,16:16,162:162,166:166,20:20,42:42}],101:[function(e,t,r){"use strict";var n=e(105);var o={animationName:null,elapsedTime:null,pseudoElement:null};function i(e,t,r,o){return n.call(this,e,t,r,o)}n.augmentClass(i,o);t.exports=i},{105:105}],102:[function(e,t,r){"use strict";var n=e(105);var o={clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}};function i(e,t,r,o){return n.call(this,e,t,r,o)}n.augmentClass(i,o);t.exports=i},{105:105}],103:[function(e,t,r){"use strict";var n=e(105);var o={data:null};function i(e,t,r,o){return n.call(this,e,t,r,o)}n.augmentClass(i,o);t.exports=i},{105:105}],104:[function(e,t,r){"use strict";var n=e(109);var o={dataTransfer:null};function i(e,t,r,o){return n.call(this,e,t,r,o)}n.augmentClass(i,o);t.exports=i},{109:109}],105:[function(e,t,r){"use strict";var n=e(172);var o=e(25);var i=e(154);var a=e(171);var s=false;var u=typeof Proxy==="function";var l=["dispatchConfig","_targetInst","nativeEvent","isDefaultPrevented","isPropagationStopped","_dispatchListeners","_dispatchInstances"];var c={type:null,target:null,currentTarget:i.thatReturnsNull,eventPhase:null,bubbles:null,cancelable:null,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:null,isTrusted:null};function d(e,t,r,n){if(true){delete this.nativeEvent;delete this.preventDefault;delete this.stopPropagation}this.dispatchConfig=e;this._targetInst=t;this.nativeEvent=r;var o=this.constructor.Interface;for(var a in o){if(!o.hasOwnProperty(a)){continue}if(true){delete this[a]}var s=o[a];if(s){this[a]=s(r)}else{if(a==="target"){this.target=n}else{this[a]=r[a]}}}var u=r.defaultPrevented!=null?r.defaultPrevented:r.returnValue===false;if(u){this.isDefaultPrevented=i.thatReturnsTrue}else{this.isDefaultPrevented=i.thatReturnsFalse}this.isPropagationStopped=i.thatReturnsFalse;return this}n(d.prototype,{preventDefault:function(){this.defaultPrevented=true;var e=this.nativeEvent;if(!e){return}if(e.preventDefault){e.preventDefault()}else if(typeof e.returnValue!=="unknown"){e.returnValue=false}this.isDefaultPrevented=i.thatReturnsTrue},stopPropagation:function(){var e=this.nativeEvent;if(!e){return}if(e.stopPropagation){e.stopPropagation()}else if(typeof e.cancelBubble!=="unknown"){e.cancelBubble=true}this.isPropagationStopped=i.thatReturnsTrue},persist:function(){this.isPersistent=i.thatReturnsTrue},isPersistent:i.thatReturnsFalse,destructor:function(){var e=this.constructor.Interface;for(var t in e){if(true){Object.defineProperty(this,t,f(t,e[t]))}else{this[t]=null}}for(var r=0;r<l.length;r++){this[l[r]]=null}if(true){Object.defineProperty(this,"nativeEvent",f("nativeEvent",null));Object.defineProperty(this,"preventDefault",f("preventDefault",i));Object.defineProperty(this,"stopPropagation",f("stopPropagation",i))}}});d.Interface=c;if(true){if(u){d=new Proxy(d,{construct:function(e,t){return this.apply(e,Object.create(e.prototype),t)},apply:function(e,t,r){return new Proxy(e.apply(t,r),{set:function(e,t,r){if(t!=="isPersistent"&&!e.constructor.Interface.hasOwnProperty(t)&&l.indexOf(t)===-1){true?a(s||e.isPersistent(),"This synthetic event is reused for performance reasons. If you're "+"seeing this, you're adding a new property in the synthetic event object. "+"The property is never released. See "+"https://fb.me/react-event-pooling for more information."):void 0;s=true}e[t]=r;return true}})}})}}d.augmentClass=function(e,t){var r=this;var i=function(){};i.prototype=r.prototype;var a=new i;n(a,e.prototype);e.prototype=a;e.prototype.constructor=e;e.Interface=n({},r.Interface,t);e.augmentClass=r.augmentClass;o.addPoolingTo(e,o.fourArgumentPooler)};o.addPoolingTo(d,o.fourArgumentPooler);t.exports=d;function f(e,t){var r=typeof t==="function";return{configurable:true,set:n,get:o};function n(e){var t=r?"setting the method":"setting the property";i(t,"This is effectively a no-op");return e}function o(){var e=r?"accessing the method":"accessing the property";var n=r?"This is a no-op function":"This is set to null";i(e,n);return t}function i(t,r){var n=false;true?a(n,"This synthetic event is reused for performance reasons. If you're seeing this, "+"you're %s `%s` on a released/nullified synthetic event. %s. "+"If you must keep the original synthetic event around, use event.persist(). "+"See https://fb.me/react-event-pooling for more information.",t,e,r):void 0;
}}},{154:154,171:171,172:172,25:25}],106:[function(e,t,r){"use strict";var n=e(112);var o={relatedTarget:null};function i(e,t,r,o){return n.call(this,e,t,r,o)}n.augmentClass(i,o);t.exports=i},{112:112}],107:[function(e,t,r){"use strict";var n=e(105);var o={data:null};function i(e,t,r,o){return n.call(this,e,t,r,o)}n.augmentClass(i,o);t.exports=i},{105:105}],108:[function(e,t,r){"use strict";var n=e(112);var o=e(126);var i=e(127);var a=e(128);var s={key:i,location:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,repeat:null,locale:null,getModifierState:a,charCode:function(e){if(e.type==="keypress"){return o(e)}return 0},keyCode:function(e){if(e.type==="keydown"||e.type==="keyup"){return e.keyCode}return 0},which:function(e){if(e.type==="keypress"){return o(e)}if(e.type==="keydown"||e.type==="keyup"){return e.keyCode}return 0}};function u(e,t,r,o){return n.call(this,e,t,r,o)}n.augmentClass(u,s);t.exports=u},{112:112,126:126,127:127,128:128}],109:[function(e,t,r){"use strict";var n=e(112);var o=e(115);var i=e(128);var a={screenX:null,screenY:null,clientX:null,clientY:null,ctrlKey:null,shiftKey:null,altKey:null,metaKey:null,getModifierState:i,button:function(e){var t=e.button;if("which"in e){return t}return t===2?2:t===4?1:0},buttons:null,relatedTarget:function(e){return e.relatedTarget||(e.fromElement===e.srcElement?e.toElement:e.fromElement)},pageX:function(e){return"pageX"in e?e.pageX:e.clientX+o.currentScrollLeft},pageY:function(e){return"pageY"in e?e.pageY:e.clientY+o.currentScrollTop}};function s(e,t,r,o){return n.call(this,e,t,r,o)}n.augmentClass(s,a);t.exports=s},{112:112,115:115,128:128}],110:[function(e,t,r){"use strict";var n=e(112);var o=e(128);var i={touches:null,targetTouches:null,changedTouches:null,altKey:null,metaKey:null,ctrlKey:null,shiftKey:null,getModifierState:o};function a(e,t,r,o){return n.call(this,e,t,r,o)}n.augmentClass(a,i);t.exports=a},{112:112,128:128}],111:[function(e,t,r){"use strict";var n=e(105);var o={propertyName:null,elapsedTime:null,pseudoElement:null};function i(e,t,r,o){return n.call(this,e,t,r,o)}n.augmentClass(i,o);t.exports=i},{105:105}],112:[function(e,t,r){"use strict";var n=e(105);var o=e(129);var i={view:function(e){if(e.view){return e.view}var t=o(e);if(t.window===t){return t}var r=t.ownerDocument;if(r){return r.defaultView||r.parentWindow}else{return window}},detail:function(e){return e.detail||0}};function a(e,t,r,o){return n.call(this,e,t,r,o)}n.augmentClass(a,i);t.exports=a},{105:105,129:129}],113:[function(e,t,r){"use strict";var n=e(109);var o={deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:null,deltaMode:null};function i(e,t,r,o){return n.call(this,e,t,r,o)}n.augmentClass(i,o);t.exports=i},{109:109}],114:[function(e,t,r){"use strict";var n=e(140);var o=e(162);var i={reinitializeTransaction:function(){this.transactionWrappers=this.getTransactionWrappers();if(this.wrapperInitData){this.wrapperInitData.length=0}else{this.wrapperInitData=[]}this._isInTransaction=false},_isInTransaction:false,getTransactionWrappers:null,isInTransaction:function(){return!!this._isInTransaction},perform:function(e,t,r,i,a,s,u,l){!!this.isInTransaction()?true?o(false,"Transaction.perform(...): Cannot initialize a transaction when there is already an outstanding transaction."):n("27"):void 0;var c;var d;try{this._isInTransaction=true;c=true;this.initializeAll(0);d=e.call(t,r,i,a,s,u,l);c=false}finally{try{if(c){try{this.closeAll(0)}catch(e){}}else{this.closeAll(0)}}finally{this._isInTransaction=false}}return d},initializeAll:function(e){var t=this.transactionWrappers;for(var r=e;r<t.length;r++){var n=t[r];try{this.wrapperInitData[r]=a.OBSERVED_ERROR;this.wrapperInitData[r]=n.initialize?n.initialize.call(this):null}finally{if(this.wrapperInitData[r]===a.OBSERVED_ERROR){try{this.initializeAll(r+1)}catch(e){}}}}},closeAll:function(e){!this.isInTransaction()?true?o(false,"Transaction.closeAll(): Cannot close transaction when none are open."):n("28"):void 0;var t=this.transactionWrappers;for(var r=e;r<t.length;r++){var i=t[r];var s=this.wrapperInitData[r];var u;try{u=true;if(s!==a.OBSERVED_ERROR&&i.close){i.close.call(this,s)}u=false}finally{if(u){try{this.closeAll(r+1)}catch(e){}}}}this.wrapperInitData.length=0}};var a={Mixin:i,OBSERVED_ERROR:{}};t.exports=a},{140:140,162:162}],115:[function(e,t,r){"use strict";var n={currentScrollLeft:0,currentScrollTop:0,refreshScrollValues:function(e){n.currentScrollLeft=e.x;n.currentScrollTop=e.y}};t.exports=n},{}],116:[function(e,t,r){"use strict";var n=e(140);var o=e(162);function i(e,t){!(t!=null)?true?o(false,"accumulateInto(...): Accumulated items must not be null or undefined."):n("30"):void 0;if(e==null){return t}if(Array.isArray(e)){if(Array.isArray(t)){e.push.apply(e,t);return e}e.push(t);return e}if(Array.isArray(t)){return[e].concat(t)}return[e,t]}t.exports=i},{140:140,162:162}],117:[function(e,t,r){"use strict";var n=65521;function o(e){var t=1;var r=0;var o=0;var i=e.length;var a=i&~3;while(o<a){var s=Math.min(o+4096,a);for(;o<s;o+=4){r+=(t+=e.charCodeAt(o))+(t+=e.charCodeAt(o+1))+(t+=e.charCodeAt(o+2))+(t+=e.charCodeAt(o+3))}t%=n;r%=n}for(;o<i;o++){r+=t+=e.charCodeAt(o)}t%=n;r%=n;return t|r<<16}t.exports=o},{}],118:[function(e,t,r){"use strict";var n=false;if(true){try{Object.defineProperty({},"x",{get:function(){}});n=true}catch(e){}}t.exports=n},{}],119:[function(e,t,r){(function(r){"use strict";var n=e(140);var o=e(82);var i=e(85);var a=e(162);var s=e(171);var u;if(typeof r!=="undefined"&&r.env&&"development"==="test"){u=e(35)}var l={};function c(t,r,c,d,f,p){for(var h in t){if(t.hasOwnProperty(h)){var v;try{!(typeof t[h]==="function")?true?a(false,"%s: %s type `%s` is invalid; it must be a function, usually from React.PropTypes.",d||"React class",o[c],h):n("84",d||"React class",o[c],h):void 0;v=t[h](r,h,d,c,null,i)}catch(e){v=e}true?s(!v||v instanceof Error,"%s: type specification of %s `%s` is invalid; the type checker "+"function must return `null` or an `Error` but returned a %s. "+"You may have forgotten to pass an argument to the type checker "+"creator (arrayOf, instanceOf, objectOf, oneOf, oneOfType, and "+"shape all require an argument).",d||"React class",o[c],h,typeof v):void 0;if(v instanceof Error&&!(v.message in l)){l[v.message]=true;var m="";if(true){if(!u){u=e(35)}if(p!==null){m=u.getStackAddendumByID(p)}else if(f!==null){m=u.getCurrentStackAddendum(f)}}true?s(false,"Failed %s type: %s%s",c,v.message,m):void 0}}}}t.exports=c}).call(this,undefined)},{140:140,162:162,171:171,35:35,82:82,85:85}],120:[function(e,t,r){"use strict";var n=function(e){if(typeof MSApp!=="undefined"&&MSApp.execUnsafeLocalFunction){return function(t,r,n,o){MSApp.execUnsafeLocalFunction(function(){return e(t,r,n,o)})}}else{return e}};t.exports=n},{}],121:[function(e,t,r){"use strict";var n=e(3);var o=e(171);var i=n.isUnitlessNumber;var a={};function s(e,t,r){var n=t==null||typeof t==="boolean"||t==="";if(n){return""}var s=isNaN(t);if(s||t===0||i.hasOwnProperty(e)&&i[e]){return""+t}if(typeof t==="string"){if(true){if(r&&t!=="0"){var u=r._currentElement._owner;var l=u?u.getName():null;if(l&&!a[l]){a[l]={}}var c=false;if(l){var d=a[l];c=d[e];if(!c){d[e]=true}}if(!c){true?o(false,"a `%s` tag (owner: `%s`) was passed a numeric string value "+"for CSS property `%s` (value: `%s`) which will be treated "+"as a unitless number in a future version of React.",r._currentElement.type,l||"unknown",e,t):void 0}}}t=t.trim()}return t+"px"}t.exports=s},{171:171,3:3}],122:[function(e,t,r){"use strict";var n=/["'&<>]/;function o(e){var t=""+e;var r=n.exec(t);if(!r){return t}var o;var i="";var a=0;var s=0;for(a=r.index;a<t.length;a++){switch(t.charCodeAt(a)){case 34:o="&quot;";break;case 38:o="&amp;";break;case 39:o="&#x27;";break;case 60:o="&lt;";break;case 62:o="&gt;";break;default:continue}if(s!==a){i+=t.substring(s,a)}s=a+1;i+=o}return s!==a?i+t.substring(s,a):i}function i(e){if(typeof e==="boolean"||typeof e==="number"){return""+e}return o(e)}t.exports=i},{}],123:[function(e,t,r){"use strict";var n=e(140);var o=e(37);var i=e(42);var a=e(72);var s=e(130);var u=e(162);var l=e(171);function c(e){if(true){var t=o.current;if(t!==null){true?l(t._warnedAboutRefsInRender,"%s is accessing findDOMNode inside its render(). "+"render() should be a pure function of props and state. It should "+"never access something that requires stale data from the previous "+"render, such as refs. Move this logic to componentDidMount and "+"componentDidUpdate instead.",t.getName()||"A component"):void 0;t._warnedAboutRefsInRender=true}}if(e==null){return null}if(e.nodeType===1){return e}var r=a.get(e);if(r){r=s(r);return r?i.getNodeFromInstance(r):null}if(typeof e.render==="function"){true?true?u(false,"findDOMNode was called on an unmounted component."):n("44"):void 0}else{true?true?u(false,"Element appears to be neither ReactComponent nor DOMNode (keys: %s)",Object.keys(e)):n("45",Object.keys(e)):void 0}}t.exports=c},{130:130,140:140,162:162,171:171,37:37,42:42,72:72}],124:[function(e,t,r){(function(r){"use strict";var n=e(23);var o=e(145);var i=e(171);var a;if(typeof r!=="undefined"&&r.env&&"development"==="test"){a=e(35)}function s(t,r,o,s){if(t&&typeof t==="object"){var u=t;var l=u[o]===undefined;if(true){if(!a){a=e(35)}if(!l){true?i(false,"flattenChildren(...): Encountered two children with the same key, "+"`%s`. Child keys must be unique; when two children share a key, only "+"the first child will be used.%s",n.unescape(o),a.getStackAddendumByID(s)):void 0}}if(l&&r!=null){u[o]=r}}}function u(e,t){if(e==null){return e}var r={};if(true){o(e,function(e,r,n){return s(e,r,n,t)},r)}else{o(e,s,r)}return r}t.exports=u}).call(this,undefined)},{145:145,171:171,23:23,35:35}],125:[function(e,t,r){"use strict";function n(e,t,r){if(Array.isArray(e)){e.forEach(t,r)}else if(e){t.call(r,e)}}t.exports=n},{}],126:[function(e,t,r){"use strict";function n(e){var t;var r=e.keyCode;if("charCode"in e){t=e.charCode;if(t===0&&r===13){t=13}}else{t=r}if(t>=32||t===13){return t}return 0}t.exports=n},{}],127:[function(e,t,r){"use strict";var n=e(126);var o={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"};var i={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"};function a(e){if(e.key){var t=o[e.key]||e.key;if(t!=="Unidentified"){return t}}if(e.type==="keypress"){var r=n(e);return r===13?"Enter":String.fromCharCode(r)}if(e.type==="keydown"||e.type==="keyup"){return i[e.keyCode]||"Unidentified"}return""}t.exports=a},{126:126}],128:[function(e,t,r){"use strict";var n={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function o(e){var t=this;var r=t.nativeEvent;if(r.getModifierState){return r.getModifierState(e)}var o=n[e];return o?!!r[o]:false}function i(e){return o}t.exports=i},{}],129:[function(e,t,r){"use strict";function n(e){var t=e.target||e.srcElement||window;if(t.correspondingUseElement){t=t.correspondingUseElement}return t.nodeType===3?t.parentNode:t}t.exports=n},{}],130:[function(e,t,r){"use strict";var n=e(79);function o(e){var t;while((t=e._renderedNodeType)===n.COMPOSITE){e=e._renderedComponent}if(t===n.HOST){return e._renderedComponent}else if(t===n.EMPTY){return null}}t.exports=o},{79:79}],131:[function(e,t,r){"use strict";var n=typeof Symbol==="function"&&Symbol.iterator;var o="@@iterator";function i(e){var t=e&&(n&&e[n]||e[o]);if(typeof t==="function"){return t}}t.exports=i},{}],132:[function(e,t,r){"use strict";function n(e){while(e&&e.firstChild){e=e.firstChild}return e}function o(e){while(e){if(e.nextSibling){return e.nextSibling}e=e.parentNode}}function i(e,t){var r=n(e);var i=0;var a=0;while(r){if(r.nodeType===3){a=i+r.textContent.length;if(i<=t&&a>=t){return{node:r,offset:t-i}}i=a}r=n(o(r))}}t.exports=i},{}],133:[function(e,t,r){"use strict";var n=e(148);var o=null;function i(){if(!o&&n.canUseDOM){o="textContent"in document.documentElement?"textContent":"innerText"}return o}t.exports=i},{148:148}],134:[function(e,t,r){"use strict";var n=e(148);function o(e,t){var r={};r[e.toLowerCase()]=t.toLowerCase();r["Webkit"+e]="webkit"+t;r["Moz"+e]="moz"+t;r["ms"+e]="MS"+t;r["O"+e]="o"+t.toLowerCase();return r}var i={animationend:o("Animation","AnimationEnd"),animationiteration:o("Animation","AnimationIteration"),animationstart:o("Animation","AnimationStart"),transitionend:o("Transition","TransitionEnd")};var a={};var s={};if(n.canUseDOM){s=document.createElement("div").style;if(!("AnimationEvent"in window)){delete i.animationend.animation;delete i.animationiteration.animation;delete i.animationstart.animation}if(!("TransitionEvent"in window)){delete i.transitionend.transition}}function u(e){if(a[e]){return a[e]}else if(!i[e]){return e}var t=i[e];for(var r in t){if(t.hasOwnProperty(r)&&r in s){return a[e]=t[r]}}return""}t.exports=u},{148:148}],135:[function(e,t,r){"use strict";var n=e(140),o=e(172);var i=e(36);var a=e(63);var s=e(68);var u=e(162);var l=e(171);var c=function(e){this.construct(e)};o(c.prototype,i.Mixin,{_instantiateReactComponent:h});function d(e){if(e){var t=e.getName();if(t){return" Check the render method of `"+t+"`."}}return""}function f(e){return typeof e==="function"&&typeof e.prototype!=="undefined"&&typeof e.prototype.mountComponent==="function"&&typeof e.prototype.receiveComponent==="function"}var p=1;function h(e,t){var r;if(e===null||e===false){r=a.create(h)}else if(typeof e==="object"){var o=e;!(o&&(typeof o.type==="function"||typeof o.type==="string"))?true?u(false,"Element type is invalid: expected a string (for built-in components) or a class/function (for composite components) but got: %s.%s",o.type==null?o.type:typeof o.type,d(o._owner)):n("130",o.type==null?o.type:typeof o.type,d(o._owner)):void 0;if(typeof o.type==="string"){r=s.createInternalComponent(o)}else if(f(o.type)){r=new o.type(o);if(!r.getHostNode){r.getHostNode=r.getNativeNode}}else{r=new c(o)}}else if(typeof e==="string"||typeof e==="number"){r=s.createInstanceForText(e)}else{true?true?u(false,"Encountered invalid React node of type %s",typeof e):n("131",typeof e):void 0}if(true){true?l(typeof r.mountComponent==="function"&&typeof r.receiveComponent==="function"&&typeof r.getHostNode==="function"&&typeof r.unmountComponent==="function","Only React Components can be mounted."):void 0}r._mountIndex=0;r._mountImage=null;if(true){r._debugID=t?p++:0}if(true){if(Object.preventExtensions){Object.preventExtensions(r)}}return r}t.exports=h},{140:140,162:162,171:171,172:172,36:36,63:63,68:68}],136:[function(e,t,r){"use strict";var n=e(148);var o;if(n.canUseDOM){o=document.implementation&&document.implementation.hasFeature&&document.implementation.hasFeature("","")!==true}function i(e,t){if(!n.canUseDOM||t&&!("addEventListener"in document)){return false}var r="on"+e;var i=r in document;if(!i){var a=document.createElement("div");a.setAttribute(r,"return;");i=typeof a[r]==="function"}if(!i&&o&&e==="wheel"){i=document.implementation.hasFeature("Events.wheel","3.0")}return i}t.exports=i},{148:148}],137:[function(e,t,r){"use strict";var n={color:true,date:true,datetime:true,"datetime-local":true,email:true,month:true,number:true,password:true,range:true,search:true,tel:true,text:true,time:true,url:true,week:true};function o(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();if(t==="input"){return!!n[e.type]}if(t==="textarea"){return true}return false}t.exports=o},{}],138:[function(e,t,r){"use strict";var n=e(140);var o=e(61);var i=e(162);function a(e){!o.isValidElement(e)?true?i(false,"React.Children.only expected to receive a single React element child."):n("143"):void 0;return e}t.exports=a},{140:140,162:162,61:61}],139:[function(e,t,r){"use strict";var n=e(122);function o(e){return'"'+n(e)+'"'}t.exports=o},{122:122}],140:[function(e,t,r){"use strict";function n(e){var t=arguments.length-1;var r="Minified React error #"+e+"; visit "+"http://facebook.github.io/react/docs/error-decoder.html?invariant="+e;for(var n=0;n<t;n++){r+="&args[]="+encodeURIComponent(arguments[n+1])}r+=" for the full message or use the non-minified dev environment"+" for full errors and additional helpful warnings.";var o=new Error(r);o.name="Invariant Violation";o.framesToPop=1;throw o}t.exports=n},{}],141:[function(e,t,r){"use strict";var n=e(76);t.exports=n.renderSubtreeIntoContainer},{76:76}],142:[function(e,t,r){"use strict";var n=e(148);var o=e(9);var i=/^[ \r\n\t\f]/;var a=/<(!--|link|noscript|meta|script|style)[ \r\n\t\f\/>]/;var s=e(120);var u;var l=s(function(e,t){if(e.namespaceURI===o.svg&&!("innerHTML"in e)){u=u||document.createElement("div");u.innerHTML="<svg>"+t+"</svg>";var r=u.firstChild;while(r.firstChild){e.appendChild(r.firstChild)}}else{e.innerHTML=t}});if(n.canUseDOM){var c=document.createElement("div");c.innerHTML=" ";if(c.innerHTML===""){l=function(e,t){if(e.parentNode){e.parentNode.replaceChild(e,e)}if(i.test(t)||t[0]==="<"&&a.test(t)){e.innerHTML=String.fromCharCode(65279)+t;var r=e.firstChild;if(r.data.length===1){e.removeChild(r)}else{r.deleteData(0,1)}}else{e.innerHTML=t}}}c=null}t.exports=l},{120:120,148:148,9:9}],143:[function(e,t,r){"use strict";var n=e(148);var o=e(122);var i=e(142);var a=function(e,t){if(t){var r=e.firstChild;if(r&&r===e.lastChild&&r.nodeType===3){r.nodeValue=t;return}}e.textContent=t};if(n.canUseDOM){if(!("textContent"in document.documentElement)){a=function(e,t){i(e,o(t))}}}t.exports=a},{122:122,142:142,148:148}],144:[function(e,t,r){"use strict";function n(e,t){var r=e===null||e===false;var n=t===null||t===false;if(r||n){return r===n}var o=typeof e;var i=typeof t;if(o==="string"||o==="number"){return i==="string"||i==="number"}else{return i==="object"&&e.type===t.type&&e.key===t.key}}t.exports=n},{}],145:[function(e,t,r){"use strict";var n=e(140);var o=e(37);var i=e(61);var a=e(131);var s=e(162);var u=e(23);var l=e(171);var c=".";var d=":";var f=false;function p(e,t){if(e&&typeof e==="object"&&e.key!=null){return u.escape(e.key)}return t.toString(36)}function h(e,t,r,v){var m=typeof e;if(m==="undefined"||m==="boolean"){e=null}if(e===null||m==="string"||m==="number"||i.isValidElement(e)){r(v,e,t===""?c+p(e,0):t);return 1}var _;var g;var y=0;var b=t===""?c:t+d;if(Array.isArray(e)){for(var x=0;x<e.length;x++){_=e[x];g=b+p(_,x);y+=h(_,g,r,v)}}else{var E=a(e);if(E){var C=E.call(e);var w;if(E!==e.entries){var S=0;while(!(w=C.next()).done){_=w.value;g=b+p(_,S++);y+=h(_,g,r,v)}}else{if(true){var T="";if(o.current){var R=o.current.getName();if(R){T=" Check the render method of `"+R+"`."}}true?l(f,"Using Maps as children is not yet fully supported. It is an "+"experimental feature that might be removed. Convert it to a "+"sequence / iterable of keyed ReactElements instead.%s",T):void 0;f=true}while(!(w=C.next()).done){var M=w.value;if(M){_=M[1];g=b+u.escape(M[0])+d+p(_,0);y+=h(_,g,r,v)}}}}else if(m==="object"){var O="";if(true){O=" If you meant to render a collection of children, use an array "+"instead or wrap the object using createFragment(object) from the "+"React add-ons.";if(e._isReactElement){O=" It looks like you're using an element created by a different "+"version of React. Make sure to use only one copy of React."}if(o.current){var k=o.current.getName();if(k){O+=" Check the render method of `"+k+"`."}}}var P=String(e);true?true?s(false,"Objects are not valid as a React child (found: %s).%s",P==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":P,O):n("31",P==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":P,O):void 0}}return y}function v(e,t,r){if(e==null){return 0}return h(e,"",t,r)}t.exports=v},{131:131,140:140,162:162,171:171,23:23,37:37,61:61}],146:[function(e,t,r){"use strict";var n=e(172);var o=e(154);var i=e(171);var a=o;if(true){var s=["address","applet","area","article","aside","base","basefont","bgsound","blockquote","body","br","button","caption","center","col","colgroup","dd","details","dir","div","dl","dt","embed","fieldset","figcaption","figure","footer","form","frame","frameset","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","iframe","img","input","isindex","li","link","listing","main","marquee","menu","menuitem","meta","nav","noembed","noframes","noscript","object","ol","p","param","plaintext","pre","script","section","select","source","style","summary","table","tbody","td","template","textarea","tfoot","th","thead","title","tr","track","ul","wbr","xmp"];var u=["applet","caption","html","table","td","th","marquee","object","template","foreignObject","desc","title"];var l=u.concat(["button"]);var c=["dd","dt","li","option","optgroup","p","rp","rt"];var d={current:null,formTag:null,aTagInScope:null,buttonTagInScope:null,nobrTagInScope:null,pTagInButtonScope:null,listItemTagAutoclosing:null,dlItemTagAutoclosing:null};var f=function(e,t,r){var o=n({},e||d);var i={tag:t,instance:r};if(u.indexOf(t)!==-1){o.aTagInScope=null;o.buttonTagInScope=null;o.nobrTagInScope=null}if(l.indexOf(t)!==-1){o.pTagInButtonScope=null}if(s.indexOf(t)!==-1&&t!=="address"&&t!=="div"&&t!=="p"){o.listItemTagAutoclosing=null;o.dlItemTagAutoclosing=null}o.current=i;if(t==="form"){o.formTag=i}if(t==="a"){o.aTagInScope=i}if(t==="button"){o.buttonTagInScope=i}if(t==="nobr"){o.nobrTagInScope=i}if(t==="p"){o.pTagInButtonScope=i}if(t==="li"){o.listItemTagAutoclosing=i}if(t==="dd"||t==="dt"){o.dlItemTagAutoclosing=i}return o};var p=function(e,t){switch(t){case"select":return e==="option"||e==="optgroup"||e==="#text";case"optgroup":return e==="option"||e==="#text";case"option":return e==="#text";case"tr":return e==="th"||e==="td"||e==="style"||e==="script"||e==="template";case"tbody":case"thead":case"tfoot":return e==="tr"||e==="style"||e==="script"||e==="template";case"colgroup":return e==="col"||e==="template";case"table":return e==="caption"||e==="colgroup"||e==="tbody"||e==="tfoot"||e==="thead"||e==="style"||e==="script"||e==="template";case"head":return e==="base"||e==="basefont"||e==="bgsound"||e==="link"||e==="meta"||e==="title"||e==="noscript"||e==="noframes"||e==="style"||e==="script"||e==="template";case"html":return e==="head"||e==="body";case"#document":return e==="html"}switch(e){case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return t!=="h1"&&t!=="h2"&&t!=="h3"&&t!=="h4"&&t!=="h5"&&t!=="h6";case"rp":case"rt":return c.indexOf(t)===-1;case"body":case"caption":case"col":case"colgroup":case"frame":case"head":case"html":case"tbody":case"td":case"tfoot":case"th":case"thead":case"tr":return t==null}return true};var h=function(e,t){switch(e){case"address":case"article":case"aside":case"blockquote":case"center":case"details":case"dialog":case"dir":case"div":case"dl":case"fieldset":case"figcaption":case"figure":case"footer":case"header":case"hgroup":case"main":case"menu":case"nav":case"ol":case"p":case"section":case"summary":case"ul":case"pre":case"listing":case"table":case"hr":case"xmp":case"h1":case"h2":case"h3":case"h4":case"h5":case"h6":return t.pTagInButtonScope;case"form":return t.formTag||t.pTagInButtonScope;case"li":return t.listItemTagAutoclosing;case"dd":case"dt":return t.dlItemTagAutoclosing;case"button":return t.buttonTagInScope;case"a":return t.aTagInScope;case"nobr":return t.nobrTagInScope}return null};var v=function(e){if(!e){return[]}var t=[];do{t.push(e)}while(e=e._currentElement._owner);t.reverse();return t};var m={};a=function(e,t,r,n){n=n||d;var o=n.current;var a=o&&o.tag;if(t!=null){true?i(e==null,"validateDOMNesting: when childText is passed, childTag should be null"):void 0;e="#text"}var s=p(e,a)?null:o;var u=s?null:h(e,n);var l=s||u;if(l){var c=l.tag;var f=l.instance;var _=r&&r._currentElement._owner;var g=f&&f._currentElement._owner;var y=v(_);var b=v(g);var x=Math.min(y.length,b.length);var E;var C=-1;for(E=0;E<x;E++){if(y[E]===b[E]){C=E}else{break}}var w="(unknown)";var S=y.slice(C+1).map(function(e){return e.getName()||w});var T=b.slice(C+1).map(function(e){return e.getName()||w});var R=[].concat(C!==-1?y[C].getName()||w:[],T,c,u?["..."]:[],S,e).join(" > ");var M=!!s+"|"+e+"|"+c+"|"+R;if(m[M]){return}m[M]=true;var O=e;var k="";if(e==="#text"){if(/\S/.test(t)){O="Text nodes"}else{O="Whitespace text nodes";k=" Make sure you don't have any extra whitespace between tags on "+"each line of your source code."}}else{O="<"+e+">"}if(s){var P="";if(c==="table"&&e==="tr"){P+=" Add a <tbody> to your code to match the DOM tree generated by "+"the browser."}true?i(false,"validateDOMNesting(...): %s cannot appear as a child of <%s>.%s "+"See %s.%s",O,c,k,R,P):void 0}else{true?i(false,"validateDOMNesting(...): %s cannot appear as a descendant of "+"<%s>. See %s.",O,c,R):void 0}}};a.updatedAncestorInfo=f;a.isTagValidInContext=function(e,t){t=t||d;var r=t.current;var n=r&&r.tag;return p(e,n)&&!h(e,t)}}t.exports=a},{154:154,171:171,172:172}],147:[function(e,t,r){"use strict";var n=e(154);var o={listen:function e(t,r,n){if(t.addEventListener){t.addEventListener(r,n,false);return{remove:function e(){t.removeEventListener(r,n,false)}}}else if(t.attachEvent){t.attachEvent("on"+r,n);return{remove:function e(){t.detachEvent("on"+r,n)}}}},capture:function e(t,r,o){if(t.addEventListener){t.addEventListener(r,o,true);return{remove:function e(){t.removeEventListener(r,o,true)}}}else{if(true){console.error("Attempted to listen to events during the capture phase on a "+"browser that does not support the capture phase. Your application "+"will not receive some events.")}return{remove:n}}},registerDefault:function e(){}};t.exports=o},{154:154}],148:[function(e,t,r){"use strict";var n=!!(typeof window!=="undefined"&&window.document&&window.document.createElement);var o={canUseDOM:n,canUseWorkers:typeof Worker!=="undefined",canUseEventListeners:n&&!!(window.addEventListener||window.attachEvent),canUseViewport:n&&!!window.screen,isInWorker:!n};t.exports=o},{}],149:[function(e,t,r){"use strict";var n=/-(.)/g;function o(e){return e.replace(n,function(e,t){return t.toUpperCase()})}t.exports=o},{}],150:[function(e,t,r){"use strict";var n=e(149);var o=/^-ms-/;function i(e){return n(e.replace(o,"ms-"))}t.exports=i},{149:149}],151:[function(e,t,r){"use strict";var n=e(164);function o(e,t){if(!e||!t){return false}else if(e===t){return true}else if(n(e)){return false}else if(n(t)){return o(e,t.parentNode)}else if("contains"in e){return e.contains(t)}else if(e.compareDocumentPosition){return!!(e.compareDocumentPosition(t)&16)}else{return false}}t.exports=o},{164:164}],152:[function(e,t,r){"use strict";var n=e(162);function o(e){var t=e.length;!(!Array.isArray(e)&&(typeof e==="object"||typeof e==="function"))?true?n(false,"toArray: Array-like object expected"):n(false):void 0;!(typeof t==="number")?true?n(false,"toArray: Object needs a length property"):n(false):void 0;!(t===0||t-1 in e)?true?n(false,"toArray: Object should have keys for indices"):n(false):void 0;!(typeof e.callee!=="function")?true?n(false,"toArray: Object can't be `arguments`. Use rest params "+"(function(...args) {}) or Array.from() instead."):n(false):void 0;if(e.hasOwnProperty){try{return Array.prototype.slice.call(e)}catch(e){}}var r=Array(t);for(var o=0;o<t;o++){r[o]=e[o]}return r}function i(e){return!!e&&(typeof e=="object"||typeof e=="function")&&"length"in e&&!("setInterval"in e)&&typeof e.nodeType!="number"&&(Array.isArray(e)||"callee"in e||"item"in e)}function a(e){if(!i(e)){return[e]}else if(Array.isArray(e)){return e.slice()}else{return o(e)}}t.exports=a},{162:162}],153:[function(e,t,r){"use strict";var n=e(148);var o=e(152);var i=e(158);var a=e(162);var s=n.canUseDOM?document.createElement("div"):null;var u=/^\s*<(\w+)/;function l(e){var t=e.match(u);return t&&t[1].toLowerCase()}function c(e,t){var r=s;!!!s?true?a(false,"createNodesFromMarkup dummy not initialized"):a(false):void 0;var n=l(e);var u=n&&i(n);if(u){r.innerHTML=u[1]+e+u[2];var c=u[0];while(c--){r=r.lastChild}}else{r.innerHTML=e}var d=r.getElementsByTagName("script");if(d.length){!t?true?a(false,"createNodesFromMarkup(...): Unexpected <script> element rendered."):a(false):void 0;o(d).forEach(t)}var f=Array.from(r.childNodes);while(r.lastChild){r.removeChild(r.lastChild)}return f}t.exports=c},{148:148,152:152,158:158,162:162}],154:[function(e,t,r){"use strict";function n(e){return function(){return e}}var o=function e(){};o.thatReturns=n;o.thatReturnsFalse=n(false);o.thatReturnsTrue=n(true);o.thatReturnsNull=n(null);o.thatReturnsThis=function(){return this};o.thatReturnsArgument=function(e){return e};t.exports=o},{}],155:[function(e,t,r){"use strict";var n={};if(true){Object.freeze(n)}t.exports=n},{}],156:[function(e,t,r){"use strict";function n(e){try{e.focus()}catch(e){}}t.exports=n},{}],157:[function(e,t,r){"use strict";function n(){if(typeof document==="undefined"){return null}try{return document.activeElement||document.body}catch(e){return document.body}}t.exports=n},{}],158:[function(e,t,r){"use strict";var n=e(148);var o=e(162);var i=n.canUseDOM?document.createElement("div"):null;var a={};var s=[1,'<select multiple="true">',"</select>"];var u=[1,"<table>","</table>"];var l=[3,"<table><tbody><tr>","</tr></tbody></table>"];var c=[1,'<svg xmlns="http://www.w3.org/2000/svg">',"</svg>"];var d={"*":[1,"?<div>","</div>"],area:[1,"<map>","</map>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],legend:[1,"<fieldset>","</fieldset>"],param:[1,"<object>","</object>"],tr:[2,"<table><tbody>","</tbody></table>"],optgroup:s,option:s,caption:u,colgroup:u,tbody:u,tfoot:u,thead:u,td:l,th:l};var f=["circle","clipPath","defs","ellipse","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","text","tspan"];f.forEach(function(e){d[e]=c;a[e]=true});function p(e){!!!i?true?o(false,"Markup wrapping node not initialized"):o(false):void 0;if(!d.hasOwnProperty(e)){e="*"}if(!a.hasOwnProperty(e)){if(e==="*"){i.innerHTML="<link />"}else{i.innerHTML="<"+e+"></"+e+">"}a[e]=!i.firstChild}return a[e]?d[e]:null}t.exports=p},{148:148,162:162}],159:[function(e,t,r){"use strict";function n(e){if(e===window){return{x:window.pageXOffset||document.documentElement.scrollLeft,y:window.pageYOffset||document.documentElement.scrollTop}}return{x:e.scrollLeft,y:e.scrollTop}}t.exports=n},{}],160:[function(e,t,r){"use strict";var n=/([A-Z])/g;function o(e){return e.replace(n,"-$1").toLowerCase()}t.exports=o},{}],161:[function(e,t,r){"use strict";var n=e(160);var o=/^ms-/;function i(e){return n(e).replace(o,"-ms-")}t.exports=i},{160:160}],162:[function(e,t,r){"use strict";function n(e,t,r,n,o,i,a,s){if(true){if(t===undefined){throw new Error("invariant requires an error message argument")}}if(!e){var u;if(t===undefined){u=new Error("Minified exception occurred; use the non-minified dev environment "+"for the full error message and additional helpful warnings.")}else{var l=[r,n,o,i,a,s];var c=0;u=new Error(t.replace(/%s/g,function(){return l[c++]}));u.name="Invariant Violation"}u.framesToPop=1;throw u}}t.exports=n},{}],163:[function(e,t,r){"use strict";function n(e){return!!(e&&(typeof Node==="function"?e instanceof Node:typeof e==="object"&&typeof e.nodeType==="number"&&typeof e.nodeName==="string"))}t.exports=n},{}],164:[function(e,t,r){"use strict";var n=e(163);function o(e){return n(e)&&e.nodeType==3}t.exports=o},{163:163}],165:[function(e,t,r){"use strict";var n=e(162);var o=function e(t){var r={};var o;!(t instanceof Object&&!Array.isArray(t))?true?n(false,"keyMirror(...): Argument must be an object."):n(false):void 0;for(o in t){if(!t.hasOwnProperty(o)){continue}r[o]=o}return r};t.exports=o},{
162:162}],166:[function(e,t,r){"use strict";var n=function e(t){var r;for(r in t){if(!t.hasOwnProperty(r)){continue}return r}return null};t.exports=n},{}],167:[function(e,t,r){"use strict";function n(e){var t={};return function(r){if(!t.hasOwnProperty(r)){t[r]=e.call(this,r)}return t[r]}}t.exports=n},{}],168:[function(e,t,r){"use strict";var n=e(148);var o;if(n.canUseDOM){o=window.performance||window.msPerformance||window.webkitPerformance}t.exports=o||{}},{148:148}],169:[function(e,t,r){"use strict";var n=e(168);var o;if(n.now){o=function e(){return n.now()}}else{o=function e(){return Date.now()}}t.exports=o},{168:168}],170:[function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty;function o(e,t){if(e===t){return e!==0||1/e===1/t}else{return e!==e&&t!==t}}function i(e,t){if(o(e,t)){return true}if(typeof e!=="object"||e===null||typeof t!=="object"||t===null){return false}var r=Object.keys(e);var i=Object.keys(t);if(r.length!==i.length){return false}for(var a=0;a<r.length;a++){if(!n.call(t,r[a])||!o(e[r[a]],t[r[a]])){return false}}return true}t.exports=i},{}],171:[function(e,t,r){"use strict";var n=e(154);var o=n;if(true){(function(){var e=function e(t){for(var r=arguments.length,n=Array(r>1?r-1:0),o=1;o<r;o++){n[o-1]=arguments[o]}var i=0;var a="Warning: "+t.replace(/%s/g,function(){return n[i++]});if(typeof console!=="undefined"){console.error(a)}try{throw new Error(a)}catch(e){}};o=function t(r,n){if(n===undefined){throw new Error("`warning(condition, format, ...args)` requires a warning "+"message argument")}if(n.indexOf("Failed Composite propType: ")===0){return}if(!r){for(var o=arguments.length,i=Array(o>2?o-2:0),a=2;a<o;a++){i[a-2]=arguments[a]}e.apply(undefined,[n].concat(i))}}})()}t.exports=o},{154:154}],172:[function(e,t,r){"use strict";var n=Object.prototype.hasOwnProperty;var o=Object.prototype.propertyIsEnumerable;function i(e){if(e===null||e===undefined){throw new TypeError("Object.assign cannot be called with null or undefined")}return Object(e)}function a(){try{if(!Object.assign){return false}var e=new String("abc");e[5]="de";if(Object.getOwnPropertyNames(e)[0]==="5"){return false}var t={};for(var r=0;r<10;r++){t["_"+String.fromCharCode(r)]=r}var n=Object.getOwnPropertyNames(t).map(function(e){return t[e]});if(n.join("")!=="0123456789"){return false}var o={};"abcdefghijklmnopqrst".split("").forEach(function(e){o[e]=e});if(Object.keys(Object.assign({},o)).join("")!=="abcdefghijklmnopqrst"){return false}return true}catch(e){return false}}t.exports=a()?Object.assign:function(e,t){var r;var a=i(e);var s;for(var u=1;u<arguments.length;u++){r=Object(arguments[u]);for(var l in r){if(n.call(r,l)){a[l]=r[l]}}if(Object.getOwnPropertySymbols){s=Object.getOwnPropertySymbols(r);for(var c=0;c<s.length;c++){if(o.call(r,s[c])){a[s[c]]=r[s[c]]}}}}return a}},{}]},{},[94])(94)})},1251:function(e,t,r){(function n(o,i){if(true)e.exports=i(r(844),r(845),r(1252));else if(typeof define==="function"&&define.amd)define(["photoeditorsdk","react","react-dom"],i);else if(typeof t==="object")t["PhotoEditorReactUI"]=i(require("photoeditorsdk"),require("react"),require("react-dom"));else o["PhotoEditorReactUI"]=i(o["PhotoEditorSDK"],o["React"],o["ReactDOM"])})(this,function(e,t,r){return function(e){var t={};function r(n){if(t[n])return t[n].exports;var o=t[n]={i:n,l:false,exports:{}};e[n].call(o.exports,o,o.exports,r);o.l=true;return o.exports}r.m=e;r.c=t;r.p="";return r(r.s=202)}([function(e,t){"use strict";t.__esModule=true;t.default=function(e,t){if(!(e instanceof t)){throw new TypeError("Cannot call a class as a function")}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.ImageFormat=t.ColorMatrix=t.now=t.Log=t.cancelAnimationFrame=t.requestAnimationFrame=t.SDK=t.EXIF=t.ReactDOM=t.UniformType=t.OptionType=t.RenderType=t.Base64=t.Color=t.SharedState=t.Constants=t.EventEmitter=t.SDKUtils=t.Vector2=t.ReactBEM=t.BaseComponent=t.Classnames=t.BEM=t.React=t.Utils=t.Promise=undefined;var n=r(29);var o=T(n);var i=r(59);var a=T(i);var s=r(263);var u=T(s);var l=r(77);var c=T(l);var d=r(67);var f=T(d);var p=r(71);var h=T(p);var v=r(97);var m=T(v);var _=r(200);var g=T(_);var y=r(174);var b=T(y);var x=r(199);var E=T(x);var C=r(203);var w=r(74);var S=T(w);function T(e){return e&&e.__esModule?e:{default:e}}var R=o.default.Base64;var M=o.default.Color;var O=o.default.Math.ColorMatrix;var k=o.default.EventEmitter;var P=o.default.EXIF;var D=o.default.OptionType;var B=o.default.Promise;var F=o.default.Utils;var A=o.default.RenderType;var I=o.default.ImageFormat;var N=o.default;var L=o.default.UniformType;var U=o.default.Math.Vector2;var j=typeof window!=="undefined"&&window.performance&&window.performance.now?window.performance.now.bind(window.performance):r(89);t.Promise=B;t.Utils=g.default;t.React=a.default;t.BEM=f.default;t.Classnames=c.default;t.BaseComponent=m.default;t.ReactBEM=h.default;t.Vector2=U;t.SDKUtils=F;t.EventEmitter=k;t.Constants=b.default;t.SharedState=E.default;t.Color=M;t.Base64=R;t.RenderType=A;t.OptionType=D;t.UniformType=L;t.ReactDOM=u.default;t.EXIF=P;t.SDK=N;t.requestAnimationFrame=C.requestAnimationFrame;t.cancelAnimationFrame=C.cancelAnimationFrame;t.Log=S.default;t.now=j;t.ColorMatrix=O;t.ImageFormat=I},function(e,t,r){"use strict";t.__esModule=true;var n=r(209);var o=l(n);var i=r(208);var a=l(i);var s=r(33);var u=l(s);function l(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if(typeof t!=="function"&&t!==null){throw new TypeError("Super expression must either be null or a function, not "+(typeof t==="undefined"?"undefined":(0,u.default)(t)))}e.prototype=(0,a.default)(t&&t.prototype,{constructor:{value:e,enumerable:false,writable:true,configurable:true}});if(t)o.default?(0,o.default)(e,t):e.__proto__=t}},function(e,t,r){"use strict";t.__esModule=true;var n=r(33);var o=i(n);function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t){if(!e){throw new ReferenceError("this hasn't been initialised - super() hasn't been called")}return t&&((typeof t==="undefined"?"undefined":(0,o.default)(t))==="object"||typeof t==="function")?t:e}},function(e,t,r){"use strict";t.__esModule=true;var n=r(75);var o=i(n);function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e,t,r){if(t in e){(0,o.default)(e,t,{value:r,enumerable:true,configurable:true,writable:true})}else{e[t]=r}return e}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=f(n);var i=r(3);var a=f(i);var s=r(2);var u=f(s);var l=r(1);var c=r(11);var d=f(c);function f(e){return e&&e.__esModule?e:{default:e}}var p=12;var h=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);var r=(0,a.default)(this,e.call(this));if(!r.constructor.NATIVE_SCROLLBAR_WIDTH){r.constructor.NATIVE_SCROLLBAR_WIDTH=l.Utils.getScrollbarWidth()}r._needsStyleFixes=true;r._isDragging=false;r._bindAll("_onButtonDragStart","_onButtonDrag","_onButtonDragStop","_onBarDragStart","_onBarDrag","_onBarDragStop","_onListScroll");r.state={buttonSize:0,buttonPosition:0,buttonVisible:false};return r}t.prototype.componentDidMount=function t(){e.prototype.componentDidMount.call(this);this.update()};t.prototype.fixStyles=function e(){if(!l.Utils.isMobile()){this._updateListSize()}};t.prototype._onListScroll=function e(){if(this._isDragging)return;var r=this._getDirection();var n=void 0,o=void 0,i=void 0;if(r===t.HORIZONTAL){n=this._list.scrollWidth-this._list.offsetWidth;o=this._list.scrollLeft;i=this._node.offsetWidth-this.state.buttonSize}else if(r===t.VERTICAL){n=this._list.scrollHeight-this._list.offsetHeight;o=this._list.scrollTop;i=this._node.offsetHeight-this.state.buttonSize}var a=o/n;this.setState({buttonPosition:i*a})};t.prototype._onButtonDragStart=function e(t){this._isDragging=true;this._initialButtonPosition=this.state.buttonPosition||0};t.prototype._onButtonDrag=function e(r){var n=this._getDirection();var o=void 0;if(n===t.HORIZONTAL){o=this._initialButtonPosition+r.x}else if(n===t.VERTICAL){o=this._initialButtonPosition+r.y}this._setButtonPosition(o)};t.prototype._onButtonDragStop=function e(){this._isDragging=false};t.prototype._onBarDragStart=function e(r){var n=l.Utils.getEventPosition(r);this._initialPosition=n.clone();var o=this._node.getBoundingClientRect();var i=new l.Vector2(o.left,o.top);var a=n.clone().subtract(i);var s=this._getDirection();if(s===t.HORIZONTAL){this._setButtonPosition(a.x-this.state.buttonSize/2)}else if(s===t.VERTICAL){this._setButtonPosition(a.y-this.state.buttonSize/2)}document.addEventListener("mousemove",this._onBarDrag);document.addEventListener("touchmove",this._onBarDrag);document.addEventListener("mouseup",this._onBarDragStop);document.addEventListener("touchend",this._onBarDragStop)};t.prototype._onBarDrag=function e(r){var n=l.Utils.getEventPosition(r);var o=this._node.getBoundingClientRect();var i=new l.Vector2(o.left,o.top);var a=n.clone().subtract(i);var s=this._getDirection();if(s===t.HORIZONTAL){this._setButtonPosition(a.x-this.state.buttonSize/2)}else if(s===t.VERTICAL){this._setButtonPosition(a.y-this.state.buttonSize/2)}};t.prototype._onBarDragStop=function e(){document.removeEventListener("mousemove",this._onBarDrag);document.removeEventListener("touchmove",this._onBarDrag);document.removeEventListener("mouseup",this._onBarDragStop);document.removeEventListener("touchend",this._onBarDragStop)};t.prototype._setButtonPosition=function e(r){var n=this._getDirection();var o=void 0,i=void 0;if(n===t.HORIZONTAL){o=this._node.offsetWidth-this.state.buttonSize;i=this._list.scrollWidth-this._list.offsetWidth}else if(n===t.VERTICAL){o=this._node.offsetHeight-this.state.buttonSize;i=this._list.scrollHeight-this._list.offsetHeight}r=Math.max(0,r);r=Math.min(r,o);this.setState({buttonPosition:r});var a=r/o;var s=i*a;if(n===t.HORIZONTAL){this._list.scrollLeft=s}else if(n===t.VERTICAL){this._list.scrollTop=s}};t.prototype._updateButtonSize=function e(r){var n=0;var o=false;var i=void 0,a=void 0;var s=this._getDirection();if(s===t.HORIZONTAL){i=this._list.clientWidth;a=this._list.scrollWidth}else if(s===t.VERTICAL){i=this._list.offsetHeight;a=this._list.scrollHeight}n=i/a*i;o=a>i;this.setState({buttonSize:n,buttonVisible:o},r)};t.prototype._updateListSize=function e(){if(!this._list)return;var r=this._getDirection();if(r===t.HORIZONTAL){this._list.style.height="";var n=this._getFullListDimensions();this._listSize=n.y;this._listContentSize=this._list.offsetHeight}else if(r===t.VERTICAL){this._list.style.width="";var o=this._getFullListDimensions();this._listSize=o.x;this._listContentSize=this._list.offsetWidth}};t.prototype._getFullListDimensions=function e(){var t=this._list.getBoundingClientRect();return new l.Vector2(t.width,t.height)};t.prototype.update=function e(){var r=this;if(l.Utils.isMobile()){return}var n=this.refs,o=n.root,i=n.list;this._node=o;this._list=i;var a=this._getDirection();this._updateButtonSize(function(){if(!r._listSize){r._updateListSize()}var e=r._listSize;if(r.state.buttonVisible){e+=r.constructor.NATIVE_SCROLLBAR_WIDTH}if(a===t.HORIZONTAL){r._list.style.height=e+"px";r._node.style.top=r._listContentSize-p+"px";r._node.style.width=r._list.offsetWidth+"px"}else if(a===t.VERTICAL){r._list.style.width=e+"px";r._node.style.left=r._listContentSize-p+"px";r._node.style.height=r._list.offsetHeight+"px"}});this._list.addEventListener("scroll",this._onListScroll)};t.prototype._getDirection=function e(){return this.props.direction||"horizontal"};t.prototype._getButtonStyle=function e(){var t=this._getDirection();if(t==="horizontal"){return{left:this.state.buttonPosition,width:this.state.buttonSize}}else{return{top:this.state.buttonPosition,height:this.state.buttonSize}}};t.prototype.getList=function e(){return this.refs.list};t.prototype.getRoot=function e(){return this.refs.root};t.prototype.renderWithBEM=function e(){if(l.Utils.isMobile()){return this.props.children}var t=this._getButtonStyle();var r={display:this.state.buttonVisible?"block":"none"};var n=l.React.cloneElement(this.props.children,{ref:"list"});return l.ReactBEM.createElement("div",null,n,l.ReactBEM.createElement("div",{bem:"$b:scrollbar m:"+(this.props.direction||"horizontal")+" m:"+(this.state.buttonVisible?"visible":"invisible"),ref:"root",style:r,onMouseDown:this._onBarDragStart,onTouchStart:this._onBarDragStart},l.ReactBEM.createElement(d.default,{onStart:this._onButtonDragStart,onDrag:this._onButtonDrag,onStop:this._onButtonDragStop},l.ReactBEM.createElement("div",{bem:"e:bar",style:t,onMouseDown:this._onButtonDown}))))};return t}(l.BaseComponent);t.default=h;h.HORIZONTAL="horizontal";h.VERTICAL="vertical";h.contextTypes=l.BaseComponent.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(76);var o=f(n);var i=r(0);var a=f(i);var s=r(3);var u=f(s);var l=r(2);var c=f(l);var d=r(1);function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){(0,c.default)(t,e);function t(r,n,o){var i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;(0,a.default)(this,t);var s=(0,u.default)(this,e.call(this));s.type=r;s.title=n;s.text=o;s.overlay=i;s.data=null;return s}t.prototype.setData=function e(t){this.data=t;this.emit("update")};t.prototype.close=function e(){this.emit("close")};return t}(d.EventEmitter);var h=function(e){(0,c.default)(t,e);function t(){(0,a.default)(this,t);var r=(0,u.default)(this,e.call(this));r._modals=[];return r}t.prototype.displayLoading=function e(t){var r=new p("loading",null,t);this.addModal(r);return r};t.prototype.displayProgress=function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:0;var n=new p("progress",null,t);n.setData({progress:r});this.addModal(n);return n};t.prototype.displayWarning=function e(t,r){var n=new p("warning",t,r);this.addModal(n);return n};t.prototype.displayError=function e(t,r){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;var o=new p("error",t,r,n);this.addModal(o);return o};t.prototype.addModal=function e(t){var r=this;this._modals.push(t);t.on("close",function(){r.removeModal(t)});t.on("update",function(){r.emit("update")});this.emit("update")};t.prototype.removeModal=function e(t){var r=this._modals.indexOf(t);this._modals.splice(r,1);this.emit("update")};t.prototype.getModals=function e(){return this._modals};(0,o.default)(t,null,[{key:"instance",get:function e(){if(!this._instance){this._instance=new t}return this._instance}}]);return t}(d.EventEmitter);t.default=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=h(n);var i=r(3);var a=h(i);var s=r(2);var u=h(s);var l=r(1);var c=r(96);var d=h(c);var f=r(148);var p=h(f);function h(e){return e&&e.__esModule?e:{default:e}}var v=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._hasBackButton=true;s._hasDoneButton=false;s._backButtonClicked=false;s._bindAll("_onBackClick","_onDoneClick");return s}t.prototype._onBackClick=function e(t){this._backButtonClicked=true;this.props.onSwitchControls("back")};t.prototype._onDoneClick=function e(t){this.props.onSwitchControls("home")};t.prototype.renderControls=function e(){return null};t.prototype.renderOverlayControls=function e(){return null};t.prototype.renderWithBEM=function e(){var t=this.props.options&&this.props.options.forcedControl;var r=this._hasBackButton&&!t?l.ReactBEM.createElement(d.default,{onClick:this._onBackClick}):null;var n=this._hasDoneButton||t?l.ReactBEM.createElement(p.default,{onClick:this._onDoneClick}):null;return l.ReactBEM.createElement("div",{bem:"$b:controls",ref:"root"},this.renderOverlayControls(),l.ReactBEM.createElement("div",{bem:"e:table"},r,this.renderControls(),n))};return t}(l.BaseComponent);t.default=v;v.contextTypes=l.BaseComponent.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=i(n);function i(e){return e&&e.__esModule?e:{default:e}}var a=function(){function e(){(0,o.default)(this,e)}e.prototype.getInitialSharedState=function e(){return{}};e.prototype.isAvailable=function e(t){return false};e.getPreloadAssets=function e(){return[]};return e}();a.topBarControlsComponent=null;a.controlsComponent=null;a.canvasControlsComponent=null;a.identifier=null;a.iconPath=null;a.languageKey=null;a.defaultOptions={};t.default=a},function(e,t){var r=e.exports={version:"2.4.0"};if(typeof __e=="number")__e=r},function(e,t,r){var n=r(52)("wks"),o=r(35),i=r(13).Symbol,a=typeof i=="function";var s=e.exports=function(e){return n[e]||(n[e]=a&&i[e]||(a?i:o)("Symbol."+e))};s.store=n},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=c(n);var i=r(3);var a=c(i);var s=r(2);var u=c(s);var l=r(1);function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._bindAll("_onDragStart","_onDragMove","_onDragEnd");return s}t.prototype._onDragStart=function e(t){if(this.props.disabled)return;t.preventDefault();t.stopPropagation();this._initialMousePosition=l.Utils.getEventPosition(t);document.addEventListener("mousemove",this._onDragMove);document.addEventListener("touchmove",this._onDragMove);document.addEventListener("mouseup",this._onDragEnd);document.addEventListener("touchend",this._onDragEnd);var r=this.refs.element;var n=r.getBoundingClientRect();var o=new l.Vector2(n.left,n.top);var i=this._initialMousePosition.clone().subtract(o);this.props.onStart&&this.props.onStart(i,t)};t.prototype._onDragMove=function e(t){t.preventDefault();t.stopPropagation();var r=l.Utils.getEventPosition(t);if(!r)return;var n=r.clone().subtract(this._initialMousePosition);this.props.onDrag&&this.props.onDrag(n,t)};t.prototype._onDragEnd=function e(t){t.preventDefault();t.stopPropagation();t.stopImmediatePropagation();this._onDragMove(t);document.removeEventListener("mousemove",this._onDragMove);document.removeEventListener("touchmove",this._onDragMove);document.removeEventListener("mouseup",this._onDragEnd);document.removeEventListener("touchend",this._onDragEnd);this.props.onStop&&this.props.onStop(t)};t.prototype.render=function e(){if(!this.props.children||this.props.children instanceof Array){throw new Error("DraggableComponent expects exactly one child.")}return l.React.cloneElement(this.props.children,{onMouseDown:this._onDragStart,onTouchStart:this._onDragStart,ref:"element"})};return t}(l.BaseComponent);t.default=d;d.contextTypes=l.BaseComponent.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=f(n);var i=r(3);var a=f(i);var s=r(2);var u=f(s);var l=r(1);var c=r(30);var d=f(c);function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._bindAll("_onSliderValueChange");s.state={value:s.props.value};return s}t.prototype.componentWillReceiveProps=function e(t){if(t.value!==this.state.value){this.state.value=t.value}};t.prototype._onSliderValueChange=function e(t){this.props.onChange&&this.props.onChange(t);this.setState({value:t})};t.prototype._renderSlider=function e(){var t=l.SDKUtils.defaults(this.props,{style:"",middleDot:false,minValue:1,maxValue:100,label:"Label",onChange:this._onSliderValueChange,value:this.state.value});return l.ReactBEM.createElement(d.default,t)};t.prototype.renderWithBEM=function e(){return l.ReactBEM.createElement("div",{bem:"$b:controls e:overlay m:slider m:dark"},this._renderSlider())};return t}(l.BaseComponent);t.default=p;p.contextTypes=l.BaseComponent.contextTypes},function(e,t){var r=e.exports=typeof window!="undefined"&&window.Math==Math?window:typeof self!="undefined"&&self.Math==Math?self:Function("return this")();if(typeof __g=="number")__g=r},function(e,t,r){var n=r(15),o=r(80),i=r(55),a=Object.defineProperty;t.f=r(16)?Object.defineProperty:function e(t,r,s){n(t);r=i(r,true);n(s);if(o)try{return a(t,r,s)}catch(e){}if("get"in s||"set"in s)throw TypeError("Accessors not supported!");if("value"in s)t[r]=s.value;return t}},function(e,t,r){var n=r(26);e.exports=function(e){if(!n(e))throw TypeError(e+" is not an object!");return e}},function(e,t,r){e.exports=!r(25)(function(){return Object.defineProperty({},"a",{get:function(){return 7}}).a!=7})},function(e,t,r){var n=r(13),o=r(9),i=r(44),a=r(22),s="prototype";var u=function(e,t,r){var l=e&u.F,c=e&u.G,d=e&u.S,f=e&u.P,p=e&u.B,h=e&u.W,v=c?o:o[t]||(o[t]={}),m=v[s],_=c?n:d?n[t]:(n[t]||{})[s],g,y,b;if(c)r=t;for(g in r){y=!l&&_&&_[g]!==undefined;if(y&&g in v)continue;b=y?_[g]:r[g];v[g]=c&&typeof _[g]!="function"?r[g]:p&&y?i(b,n):h&&_[g]==b?function(e){var t=function(t,r,n){if(this instanceof e){switch(arguments.length){case 0:return new e;case 1:return new e(t);case 2:return new e(t,r)}return new e(t,r,n)}return e.apply(this,arguments)};t[s]=e[s];return t}(b):f&&typeof b=="function"?i(Function.call,b):b;if(f){(v.virtual||(v.virtual={}))[g]=b;if(e&u.R&&m&&!m[g])a(m,g,b)}}};u.F=1;u.G=2;u.S=4;u.P=8;u.B=16;u.W=32;u.U=64;u.R=128;e.exports=u},function(e,t){var r={}.hasOwnProperty;e.exports=function(e,t){return r.call(e,t)}},function(e,t,r){var n=r(81),o=r(45);e.exports=function(e){return n(o(e))}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=c(n);var i=r(3);var a=c(i);var s=r(2);var u=c(s);var l=r(1);function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._bindAll("_onCanvasZoomDone");return s}t.prototype._performHitTest=function e(t){var r=this.refs.container;var n=r.getBoundingClientRect();var o=new l.Vector2(n.left,n.top);var i=t.subtract(o);var a=this.context.editor;var s=a.controls.getAvailable();for(var u in s){var c=s[u];var d=c.clickAtPosition&&c.clickAtPosition(i,a);if(d){if(d.selectedSprite===this.getSharedState("selectedSprite")){return true}this.props.onSwitchControls(c,d);return true}}return false};t.prototype._onCanvasZoomDone=function e(){this.forceUpdate()};t.prototype._bindEvents=function t(){e.prototype._bindEvents.call(this);this.context.mediator.on(l.Constants.EVENTS.ZOOM_DONE,this._onCanvasZoomDone)};t.prototype._unbindEvents=function t(){e.prototype._unbindEvents.call(this);this.context.mediator.off(l.Constants.EVENTS.ZOOM_DONE,this._onCanvasZoomDone)};return t}(l.BaseComponent);t.default=d;d.contextTypes=l.BaseComponent.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=f(n);var i=r(3);var a=f(i);var s=r(2);var u=f(s);var l=r(1);var c=r(149);var d=f(c);function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);return(0,a.default)(this,e.apply(this,arguments))}t.prototype._renderHeader=function e(){if(!this.context.options.showHeader){return null}return l.ReactBEM.createElement(d.default,null)};t.prototype._renderScreen=function e(){return l.ReactBEM.createElement("div",null)};t.prototype.renderWithBEM=function e(){var t="b:screen";if(!this.context.options.showHeader){t+=" m:noHeader"}return l.ReactBEM.createElement("div",{bem:t,className:!this.props.visible?"is-hidden":null},this._renderHeader(),this._renderScreen())};return t}(l.BaseComponent);t.default=p;p.propTypes={editor:l.React.PropTypes.any};p.contextTypes=l.BaseComponent.contextTypes},function(e,t,r){var n=r(14),o=r(28);e.exports=r(16)?function(e,t,r){return n.f(e,t,o(1,r))}:function(e,t,r){e[t]=r;return e}},function(e,t){e.exports={}},function(e,t,r){"use strict";t.__esModule=true;var n=r(207);var o=i(n);function i(e){return e&&e.__esModule?e:{default:e}}t.default=o.default||function(e){for(var t=1;t<arguments.length;t++){var r=arguments[t];for(var n in r){if(Object.prototype.hasOwnProperty.call(r,n)){e[n]=r[n]}}}return e}},function(e,t){e.exports=function(e){try{return!!e()}catch(e){return true}}},function(e,t){e.exports=function(e){return typeof e==="object"?e!==null:typeof e==="function"}},function(e,t,r){var n=r(85),o=r(46);e.exports=Object.keys||function e(t){return n(t,o)}},function(e,t){e.exports=function(e,t){return{enumerable:!(e&1),configurable:!(e&2),writable:!(e&4),value:t}}},function(t,r){t.exports=e},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(24);var o=h(n);var i=r(0);var a=h(i);var s=r(3);var u=h(s);var l=r(2);var c=h(l);var d=r(1);var f=r(11);var p=h(f);function h(e){return e&&e.__esModule?e:{default:e}}var v=function(e){(0,c.default)(t,e);function t(){(0,a.default)(this,t);for(var r=arguments.length,n=Array(r),o=0;o<r;o++){n[o]=arguments[o]}var i=(0,u.default)(this,e.call.apply(e,[this].concat(n)));i._bindAll("_onKnobDragStart","_onKnobDrag","_onKnobDragStop","_onBarDragStart","_onBarDrag","_onBarDragStop","_onMiddleDotClick");i.state={value:i.props.value||0,sliderPosition:0,foregroundLeft:0,foregroundWidth:0};return i}t.prototype.componentDidMount=function e(){this._setValue(this.state.value,false)};t.prototype.componentWillReceiveProps=function e(t){if(t.value!==this.state.value){this._setValue(t.value,false)}};t.prototype._onMiddleDotClick=function e(){this._previousValue=this.state.value;var t=this.props.minValue+(this.props.maxValue-this.props.minValue)/2;this._setValue(t,true,true)};t.prototype._onKnobDragStart=function e(t){this._previousValue=this.state.value;this._initialSliderPosition=this.state.sliderPosition;this._initialPosition=t};t.prototype._onKnobDrag=function e(t){var r=this.refs.bar;var n=r.offsetWidth;var o=this._initialSliderPosition+t.x;o=Math.max(0,Math.min(o,n));var i=o/n;var a=this.props.minValue+(this.props.maxValue-this.props.minValue)*i;this._setValue(a)};t.prototype._onKnobDragStop=function e(){this._setValue(this.state.value,true,true)};t.prototype._onBarDragStart=function e(t){this._previousValue=this.state.value;this._initialPosition=t.clone();var r=this.refs.bar;var n=r.offsetWidth;var o=t.x/n;var i=this.props.minValue+(this.props.maxValue-this.props.minValue)*o;this._setValue(i)};t.prototype._onBarDrag=function e(t){var r=this._initialPosition.clone().add(t);var n=this.refs.bar;var o=n.offsetWidth;var i=r.x/o;var a=this.props.minValue+(this.props.maxValue-this.props.minValue)*i;a=Math.max(this.props.minValue,Math.min(this.props.maxValue,a));this._setValue(a)};t.prototype._onBarDragStop=function e(){this._setValue(this.state.value,true,true)};t.prototype._getKnobStyle=function e(){return{left:this.state.sliderPosition}};t.prototype._getForegroundStyle=function e(){return{left:this.state.foregroundLeft,width:this.state.foregroundWidth}};t.prototype._displayMiddleDot=function e(){return this.props.middleDot!==false};t.prototype._setValue=function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;t=Math.round(t);var o=this.props,i=o.minValue,a=o.maxValue;var s=(t-i)/(a-i);var u=this.refs.bar;var l=u.offsetWidth;var c=l*s;var d=s*l;var f=0;if(this._displayMiddleDot()){d=Math.abs(s-.5)*l;f=s<.5?l*.5-d:"50%"}this.setState({value:t,sliderPosition:c,foregroundWidth:d,foregroundLeft:f});if(r){this.props.onChange&&this.props.onChange(t,this._previousValue,n)}};t.prototype._buildValue=function e(t){if(t%1!==0){t=t.toFixed(2)}if(this.props.positiveValuePrefix&&t>=0){t=""+this.props.positiveValuePrefix+t}if(this.props.valueUnit){t+=this.props.valueUnit}return t};t.prototype.renderWithBEM=function e(){var t=null;if(this._displayMiddleDot()){t=d.ReactBEM.createElement("div",{bem:"e:middleDot",onClick:this._onMiddleDotClick})}var r={style:this._getForegroundStyle()};var n="$b:slider"+(this.props.style?" m:"+this.props.style:"");return d.ReactBEM.createElement("div",{bem:n},d.ReactBEM.createElement("div",{bem:"$e:bar",ref:"bar"},d.ReactBEM.createElement(p.default,{onStart:this._onBarDragStart,onDrag:this._onBarDrag,onStop:this._onBarDragStop},d.ReactBEM.createElement("div",null,d.ReactBEM.createElement("div",{bem:"$e:background"}),d.ReactBEM.createElement("div",(0,o.default)({bem:"$e:foreground"},r)),d.ReactBEM.createElement(p.default,{onStart:this._onKnobDragStart,onDrag:this._onKnobDrag,onStop:this._onKnobDragStop},d.ReactBEM.createElement("div",{bem:"e:knob b:knob m:slider",style:this._getKnobStyle()})))),t),d.ReactBEM.createElement("div",{bem:"$e:labels"},d.ReactBEM.createElement("div",{bem:"e:label m:lowerBoundary"},this._buildValue(this.props.minValue)),d.ReactBEM.createElement("div",{bem:"e:label m:value"},this.props.label," ",this._buildValue(this.state.value)),d.ReactBEM.createElement("div",{bem:"e:label m:upperBoundary"},this._buildValue(this.props.maxValue))))};return t}(d.BaseComponent);t.default=v;v.contextTypes=d.BaseComponent.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(24);var o=E(n);var i=r(4);var a=E(i);var s=r(0);var u=E(s);var l=r(3);var c=E(l);var d=r(2);var f=E(d);var p=r(1);var h=r(137);var v=E(h);var m=r(136);var _=E(m);var g=r(135);var y=E(g);var b=r(20);var x=E(b);function E(e){return e&&e.__esModule?e:{default:e}}var C=p.SDK.Operations.SpriteOperation,w=C.Sticker,S=C.Text,T=C.Brush;var R=function(e){(0,f.default)(t,e);function t(){var r;(0,u.default)(this,t);for(var n=arguments.length,o=Array(n),i=0;i<n;i++){o[i]=arguments[i]}var s=(0,c.default)(this,e.call.apply(e,[this].concat(o)));s._bindAll("_onCanvasClick","_onSpriteDragStart","_onSpriteDragStop","_onOperationUpdated","_onOperationRemoved","_onSpriteFlip","_onSpriteTakeToFront","_onSpriteRemove");s._canvasClickDisabled=false;s._events=(r={},(0,a.default)(r,p.Constants.EVENTS.OPERATION_UPDATED,s._onOperationUpdated),(0,a.default)(r,p.Constants.EVENTS.OPERATION_REMOVED,s._onOperationRemoved),r);return s}t.prototype._onOperationRemoved=function e(t){var r=this.getSharedState("selectedSprite");if(t!==this.getSharedState("operation")||!r)return;var n=this.context.editor;var o=n.operations.getOrCreate("sprite",{sprites:[r],enabled:false});this.setSharedState({operation:o,operationExistedBefore:false,initialOptions:{}})};t.prototype._onOperationUpdated=function e(t){var r=this.getSharedState("selectedSprite");if(t!==this.getSharedState("operation")||!r)return;var n=t.getSprites();if(n.indexOf(r)===-1){n.push(r)}this.forceUpdate()};t.prototype._onItemBlur=function e(){};t.prototype._onCanvasClick=function e(t){if(this._canvasClickDisabled)return;var r=this._performHitTest(p.Utils.getEventPosition(t));if(!r){if(this.getSharedState("selectedSprite")){this._onItemBlur()}this.props.onSwitchControls("home")}};t.prototype._onSpriteFlip=function e(t){var r=this.getSharedState("selectedSprite");switch(t){case"h":r.setFlipHorizontally(!r.getFlipHorizontally());break;case"v":r.setFlipVertically(!r.getFlipVertically());break}};t.prototype._onSpriteTakeToFront=function e(t){var r=this.getSharedState("operation");r.takeSpriteToFront(this.getSharedState("selectedSprite"));this.forceSharedUpdate()};t.prototype._onSpriteRemove=function e(){var t=this.getSharedState("operation");var r=this.getSharedState("selectedSprite");t.removeSprite(r);r.dispose();this.setSharedState({selectedSprite:null})};t.prototype._onSpriteDragStart=function e(){this._canvasClickDisabled=true};t.prototype._onSpriteDragStop=function e(){var t=this;setTimeout(function(){t._canvasClickDisabled=false},100)};t.prototype._getContainerStyle=function e(){var t=this.context.editor;var r=t.getCanvasDimensions();var n=t.getOutputDimensions();var o=r.clone().divide(2).subtract(n.clone().divide(2)),i=o.x,a=o.y;return{left:i,top:a,width:n.x,height:n.y}};t.prototype._getContainerProps=function e(){
return{}};t.prototype._getInnerContainerProps=function e(){return{style:this._getContainerStyle(),onClick:this._onCanvasClick}};t.prototype._renderSpriteItems=function e(){var t=this;var r=this.getSharedState("operation");var n=r.getSprites();var o=this.getSharedState("selectedSprite");return n.map(function(e){var n=e===o;var i=null;if(e instanceof S){i=v.default}else if(e instanceof w){i=_.default}else if(e instanceof T){i=y.default}return p.ReactBEM.createElement(i,{operation:r,sharedState:t.props.sharedState,sprite:e,selected:n,onDragStart:t._onSpriteDragStart,onDragStop:t._onSpriteDragStop,onRemove:t._onSpriteRemove.bind(t,e),options:t.props.options,ref:"sprite-"+e.getId()})})};t.prototype._renderOverlayControls=function e(){return null};t.prototype.renderWithBEM=function e(){return p.ReactBEM.createElement("div",(0,o.default)({bem:"$b:canvasControls e:container m:full",ref:"container"},this._getContainerProps()),p.ReactBEM.createElement("div",(0,o.default)({bem:"b:canvasControls e:innerContainer",ref:"innerContainer"},this._getInnerContainerProps()),p.ReactBEM.createElement("div",{bem:"$b:spritesCanvasControls",ref:"container"},this._renderSpriteItems(),this._renderOverlayControls())))};return t}(x.default);t.default=R;R.contextTypes=x.default.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=c(n);var i=r(3);var a=c(i);var s=r(2);var u=c(s);var l=r(1);function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);return(0,a.default)(this,e.apply(this,arguments))}t.prototype.renderContent=function e(){return this.props.children};t.prototype.renderWithBEM=function e(){return l.ReactBEM.createElement("div",{bem:"$b:topBar e:row"},l.ReactBEM.createElement("div",{bem:"e:cell"},this.renderContent()))};return t}(l.BaseComponent);t.default=d;d.contextTypes=l.BaseComponent.contextTypes},function(e,t,r){"use strict";t.__esModule=true;var n=r(211);var o=u(n);var i=r(210);var a=u(i);var s=typeof a.default==="function"&&typeof o.default==="symbol"?function(e){return typeof e}:function(e){return e&&typeof a.default==="function"&&e.constructor===a.default&&e!==a.default.prototype?"symbol":typeof e};function u(e){return e&&e.__esModule?e:{default:e}}t.default=typeof a.default==="function"&&s(o.default)==="symbol"?function(e){return typeof e==="undefined"?"undefined":s(e)}:function(e){return e&&typeof a.default==="function"&&e.constructor===a.default&&e!==a.default.prototype?"symbol":typeof e==="undefined"?"undefined":s(e)}},function(e,t){t.f={}.propertyIsEnumerable},function(e,t){var r=0,n=Math.random();e.exports=function(e){return"Symbol(".concat(e===undefined?"":e,")_",(++r+n).toString(36))}},function(e,t,r){"use strict";var n=r(242)(true);r(82)(String,"String",function(e){this._t=String(e);this._i=0},function(){var e=this._t,t=this._i,r;if(t>=e.length)return{value:undefined,done:true};r=n(e,t);this._i+=r.length;return{value:r,done:false}})},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(4);var o=h(n);var i=r(0);var a=h(i);var s=r(3);var u=h(s);var l=r(2);var c=h(l);var d=r(1);var f=r(102);var p=h(f);function h(e){return e&&e.__esModule?e:{default:e}}var v=function(e){(0,c.default)(t,e);function t(){(0,a.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,u.default)(this,e.call.apply(e,[this].concat(n)));s._value=s.props.initialValue.clone();s._bindAll("_onButtonClick","_onValueChange","_onColorPickerOpen","_onColorPickerClose");s._events=(0,o.default)({},d.Constants.EVENTS.COLORPICKER_OPEN,s._onColorPickerOpen);s.state={overlayVisible:false};s._transparentPatternCanvas=d.Utils.createTransparentPatternCanvas();return s}t.prototype.componentDidMount=function t(){e.prototype.componentDidMount.call(this);this._renderColor()};t.prototype.componentDidUpdate=function e(){this._renderColor()};t.prototype._onColorPickerOpen=function e(t){if(t===this)return;this.setState({overlayVisible:false})};t.prototype._onColorPickerClose=function e(){this.setState({overlayVisible:false})};t.prototype._onButtonClick=function e(t){t.preventDefault();t.stopPropagation();if(!this.state.overlayVisible){this._emitEvent(d.Constants.EVENTS.COLORPICKER_OPEN,this)}this.setState({overlayVisible:!this.state.overlayVisible})};t.prototype._onValueChange=function e(t){this._value=t;this._renderColor();this.forceUpdate();this.props.onChange&&this.props.onChange(t)};t.prototype._renderColor=function e(){var t=this.refs.canvas;var r=t.getContext("2d");t.width=t.offsetWidth;t.height=t.offsetHeight;var n=r.createPattern(this._transparentPatternCanvas,"repeat");r.fillStyle=n;r.fillRect(0,0,t.width,t.height);r.fillStyle=this._value.toRGBA();r.fillRect(0,0,t.width,t.height)};t.prototype.renderWithBEM=function e(){var t=null;if(this.state.overlayVisible){t=d.ReactBEM.createElement(p.default,{initialValue:this._value,onChange:this._onValueChange,onClose:this._onColorPickerClose,alpha:this.props.alpha})}var r=this.state.overlayVisible?"is-active":null;return d.ReactBEM.createElement("bem",{specifier:"$b:controls"},d.ReactBEM.createElement("div",{bem:"$b:colorPicker",className:r,onClick:this._onButtonClick},d.ReactBEM.createElement("canvas",{bem:"e:preview",ref:"canvas"}),d.ReactBEM.createElement("div",{bem:"e:label"},this.props.label||this._t("generic.color")),t))};return t}(d.BaseComponent);t.default=v;v.contextTypes=d.BaseComponent.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=c(n);var i=r(3);var a=c(i);var s=r(2);var u=c(s);var l=r(1);function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._bindAll("_onItemDragStart","_onItemDragStop","_onItemDrag","_onSpriteUpdate");return s}t.prototype._getAbsoluteSpritePosition=function e(){var t=this.context.editor;var r=t.getOutputDimensions();return this.props.sprite.getPosition().clone().multiply(r)};t.prototype.componentDidMount=function t(){e.prototype.componentDidMount.call(this);this.props.sprite.on("update",this._onSpriteUpdate)};t.prototype.componentWillUnmount=function t(){e.prototype.componentWillUnmount.call(this);this.props.sprite.off("update",this._onSpriteUpdate)};t.prototype.componentWillReceiveProps=function e(t){this.props.sprite.off("update",this._onSpriteUpdate);t.sprite.on("update",this._onSpriteUpdate)};t.prototype._onSpriteUpdate=function e(){this.forceUpdate()};t.prototype._onItemDragStart=function e(){var t=this.props.sprite;this._initialPosition=t.getPosition();this.props.onDragStart&&this.props.onDragStart()};t.prototype._onItemDrag=function e(t){var r=this.props.sprite;var n=this.context.editor;var o=n.getOutputDimensions();var i=this._initialPosition.clone().add(t.divide(o));r.setPosition(i)};t.prototype._onItemDragStop=function e(){this.props.onDragStop&&this.props.onDragStop()};return t}(l.BaseComponent);t.default=d;d.contextTypes=l.BaseComponent.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=c(n);var i=r(3);var a=c(i);var s=r(2);var u=c(s);var l=r(1);function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._bindAll("_onClick");return s}t.prototype._onClick=function e(t){this.props.onClick&&this.props.onClick()};t.prototype._renderContent=function e(){return null};t.prototype.renderWithBEM=function e(){var t="$e:row m:"+this._modifier;if(this.props.totalRows){t+=" m:row-"+this.props.totalRows}return l.ReactBEM.createElement("bem",{specifier:"b:splashScreen"},l.ReactBEM.createElement("div",{bem:t},this._renderContent()))};return t}(l.BaseComponent);t.default=d;d.propTypes={onClick:l.React.PropTypes.func};d.contextTypes=l.BaseComponent.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=f(n);var i=r(3);var a=f(i);var s=r(2);var u=f(s);var l=r(1);var c=r(182);var d=f(c);function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._bindAll("_onNewFile");return s}t.prototype.componentDidMount=function e(){this._fileLoader=new d.default(this.refs.fileInput);this._fileLoader.on("file",this._onNewFile)};t.prototype.componentWillUnmount=function e(){this._fileLoader.off("file",this._onNewFile);this._fileLoader.dispose();this._fileLoader=null};t.prototype._onNewFile=function e(t){this.props.onNewFile&&this.props.onNewFile(t)};t.prototype.open=function e(){this._fileLoader.open()};t.prototype.renderWithBEM=function e(){return l.ReactBEM.createElement("input",{type:"file",bem:"b:hiddenFileInput",ref:"fileInput"})};return t}(l.BaseComponent);t.default=p;p.contextTypes=l.BaseComponent.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=c(n);var i=r(3);var a=c(i);var s=r(2);var u=c(s);var l=r(1);function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);return(0,a.default)(this,e.apply(this,arguments))}t.prototype.renderWithBEM=function e(){var t="$e:button";if(this.props.style){t+=" m:"+this.props.style}if(this.props.icon){t+=" m:withIcon"}var r=null;if(this.props.icon){r=l.ReactBEM.createElement("img",{bem:"e:icon",src:this._getAssetPath(this.props.icon,true)})}return l.ReactBEM.createElement("bem",{specifier:"$b:topBar"},l.ReactBEM.createElement("div",{bem:t,onClick:this.props.onClick},r,l.ReactBEM.createElement("div",{bem:"e:label"},this.props.label||"Button")))};return t}(l.BaseComponent);t.default=d;d.contextTypes=l.BaseComponent.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=a(n);var i=r(1);function a(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(t){(0,o.default)(this,e);this._options=t;this._categoriesById={};this._categories=[{name:"retro",filters:[i.SDK.Filters.CelsiusFilter,i.SDK.Filters.ChestFilter,i.SDK.Filters.FixieFilter,i.SDK.Filters.LeninFilter,i.SDK.Filters.PolaFilter,i.SDK.Filters.Pola669Filter,i.SDK.Filters.K1Filter,i.SDK.Filters.K2Filter,i.SDK.Filters.K6Filter,i.SDK.Filters.KDynamicFilter]},{name:"bw",filters:[i.SDK.Filters.BWFilter,i.SDK.Filters.BWHardFilter,i.SDK.Filters.X400Filter]},{name:"summer",filters:[i.SDK.Filters.FrontFilter,i.SDK.Filters.MellowFilter,i.SDK.Filters.SemiredFilter,i.SDK.Filters.SunnyFilter,i.SDK.Filters.TexasFilter]},{name:"winter",filters:[i.SDK.Filters.MetalFilter,i.SDK.Filters.A15Filter,i.SDK.Filters.BreezeFilter,i.SDK.Filters.FridgeFilter,i.SDK.Filters.OrchidFilter,i.SDK.Filters.QuoziFilter]},{name:"special",filters:[i.SDK.Filters.FoodFilter,i.SDK.Filters.GlamFilter,i.SDK.Filters.LomoFilter,i.SDK.Filters.GobblinFilter]}];this._initCategories()}e.prototype._initCategories=function e(){var t=this;if(this._options.categories){if(this._options.replaceCategories){this._categories=this._options.categories}else{this._categories=i.Utils.mergeCategories(this._categories,this._options.categories,"filters")}}if(this._options.selectableFilters){(function(){var e=[];t._categories.forEach(function(r){var n=r.filters.filter(function(e){return t._options.selectableFilters.indexOf(e.identifier)!==-1});if(n.length>0){e.push({name:r.name,filters:n})}});t._categories=e})()}var r={name:"all",filters:this._categories.map(function(e){return e.filters}).reduce(function(e,t){return e.concat(t)})};this._categories.unshift(r);this._categories.forEach(function(e){t._categoriesById[e.name]=e})};e.prototype.getFiltersForCategory=function e(t){if(!this._categoriesById[t]){throw new Error("Unknown filter category '"+t+"'")}return this._categoriesById[t].filters};e.prototype.getCategories=function e(){return this._categories};return e}();t.default=s},function(e,t){var r={}.toString;e.exports=function(e){return r.call(e).slice(8,-1)}},function(e,t,r){var n=r(223);e.exports=function(e,t,r){n(e);if(t===undefined)return e;switch(r){case 1:return function(r){return e.call(t,r)};case 2:return function(r,n){return e.call(t,r,n)};case 3:return function(r,n,o){return e.call(t,r,n,o)}}return function(){return e.apply(t,arguments)}}},function(e,t){e.exports=function(e){if(e==undefined)throw TypeError("Can't call method on  "+e);return e}},function(e,t){e.exports="constructor,hasOwnProperty,isPrototypeOf,propertyIsEnumerable,toLocaleString,toString,valueOf".split(",")},function(e,t){e.exports=true},function(e,t,r){var n=r(15),o=r(238),i=r(46),a=r(51)("IE_PROTO"),s=function(){},u="prototype";var l=function(){var e=r(79)("iframe"),t=i.length,n="<",o=">",a;e.style.display="none";r(228).appendChild(e);e.src="javascript:";a=e.contentWindow.document;a.open();a.write(n+"script"+o+"document.F=Object"+n+"/script"+o);a.close();l=a.F;while(t--)delete l[u][i[t]];return l()};e.exports=Object.create||function e(t,r){var i;if(t!==null){s[u]=n(t);i=new s;s[u]=null;i[a]=t}else i=l();return r===undefined?i:o(i,r)}},function(e,t){t.f=Object.getOwnPropertySymbols},function(e,t,r){var n=r(14).f,o=r(18),i=r(10)("toStringTag");e.exports=function(e,t,r){if(e&&!o(e=r?e:e.prototype,i))n(e,i,{configurable:true,value:t})}},function(e,t,r){var n=r(52)("keys"),o=r(35);e.exports=function(e){return n[e]||(n[e]=o(e))}},function(e,t,r){var n=r(13),o="__core-js_shared__",i=n[o]||(n[o]={});e.exports=function(e){return i[e]||(i[e]={})}},function(e,t){var r=Math.ceil,n=Math.floor;e.exports=function(e){return isNaN(e=+e)?0:(e>0?n:r)(e)}},function(e,t,r){var n=r(45);e.exports=function(e){return Object(n(e))}},function(e,t,r){var n=r(26);e.exports=function(e,t){if(!n(e))return e;var r,o;if(t&&typeof(r=e.toString)=="function"&&!n(o=r.call(e)))return o;if(typeof(r=e.valueOf)=="function"&&!n(o=r.call(e)))return o;if(!t&&typeof(r=e.toString)=="function"&&!n(o=r.call(e)))return o;throw TypeError("Can't convert object to primitive value")}},function(e,t,r){var n=r(13),o=r(9),i=r(47),a=r(57),s=r(14).f;e.exports=function(e){var t=o.Symbol||(o.Symbol=i?{}:n.Symbol||{});if(e.charAt(0)!="_"&&!(e in t))s(t,e,{value:a.f(e)})}},function(e,t,r){t.f=r(10)},function(e,t,r){r(247);var n=r(13),o=r(22),i=r(23),a=r(10)("toStringTag");for(var s=["NodeList","DOMTokenList","MediaList","StyleSheetList","CSSRuleList"],u=0;u<5;u++){var l=s[u],c=n[l],d=c&&c.prototype;if(d&&!d[a])o(d,a,l);i[l]=i.Array}},function(e,r){e.exports=t},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(105);Object.defineProperty(t,"adjustments",{enumerable:true,get:function e(){return f(n).default}});var o=r(113);Object.defineProperty(t,"crop",{enumerable:true,get:function e(){return f(o).default}});var i=r(115);Object.defineProperty(t,"filter",{enumerable:true,get:function e(){return f(i).default}});var a=r(118);Object.defineProperty(t,"focus",{enumerable:true,get:function e(){return f(a).default}});var s=r(138);Object.defineProperty(t,"sticker",{enumerable:true,get:function e(){return f(s).default}});var u=r(144);Object.defineProperty(t,"text",{enumerable:true,get:function e(){return f(u).default}});var l=r(108);Object.defineProperty(t,"brush",{enumerable:true,get:function e(){return f(l).default}});var c=r(132);Object.defineProperty(t,"selectiveBlur",{enumerable:true,get:function e(){return f(c).default}});var d=r(123);Object.defineProperty(t,"frame",{enumerable:true,get:function e(){return f(d).default}});function f(e){return e&&e.__esModule?e:{default:e}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=l(n);var i=r(29);var a=l(i);var s=r(260);var u=l(s);function l(e){return e&&e.__esModule?e:{default:e}}var c=5e3;var d=a.default.Promise;var f=function(){function e(t){(0,o.default)(this,e);this._url=t;this._parsedUrl=u.default.parse(this._url,true)}e.prototype._isJSONPRequest=function e(){var t=this._parsedUrl.query;for(var r in t){var n=t[r];if(n==="?"){return true}}return false};e.prototype.load=function e(){if(this._isJSONPRequest()){return this._loadJSONP()}else{return this._loadJSON()}};e.prototype._loadJSON=function e(){var t=this;return new d(function(e,r){var n=void 0;if(window.XDomainRequest){n=new window.XDomainRequest;n.onload=function(){var t=JSON.parse(n.responseText);e(t)};n.onerror=function(e){r(e)}}else if(window.XMLHttpRequest){n=new XMLHttpRequest;n.onreadystatechange=function(t){if(n.readyState===4){if(n.status===200){var o=JSON.parse(n.responseText);e(o)}else{r(new Error("HTTP Status "+n.status))}}}}n.open("GET",t._url,true);n.send()})};e.prototype._loadJSONP=function e(){var t=this;var r=false;var n=false;var o="pesdk"+Math.round(Math.random()*99999999999999);return new d(function(e,i){var a=t._createJSONPNode(o);window[o]=function(o){t._removeJSONPNode(a);if(!r){n=true;e(o)}};window.setTimeout(function(){if(!n){t._removeJSONPNode(a);r=true;i(new Error("Timeout of 5 seconds exceeded."))}},c)})};e.prototype._createJSONPNode=function e(t){var r=this._buildJSONPUrl(t);var n=document.querySelector("head");var o=document.createElement("script");o.src=r;n.appendChild(o);return o};e.prototype._removeJSONPNode=function e(t){t.parentNode.removeChild(t)};e.prototype._buildJSONPUrl=function e(t){var r=this._parsedUrl.query;var n=null;for(var o in r){if(r[o]==="?"){n=o;break}}delete this._parsedUrl.search;r[n]=t;return u.default.format(this._parsedUrl)};return e}();t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=f(n);var i=r(3);var a=f(i);var s=r(2);var u=f(s);var l=r(1);var c=r(99);var d=f(c);function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);var r=(0,a.default)(this,e.call(this));r._bindAll("_onButtonClick");r.state={overlayVisible:false};return r}t.prototype._onButtonClick=function e(t){t.preventDefault();t.stopPropagation();this.setState({overlayVisible:!this.state.overlayVisible})};t.prototype.renderWithBEM=function e(){var t=null;if(this.state.overlayVisible){t=l.ReactBEM.createElement(d.default,{items:this.props.items,selectedItem:this.props.selectedItem,onChange:this.props.onChange})}var r=this.state.overlayVisible?"is-active":null;return l.ReactBEM.createElement("bem",{specifier:"$b:controls"},l.ReactBEM.createElement("div",{bem:"$e:categoryDropdown",className:r,onClick:this._onButtonClick},l.ReactBEM.createElement("img",{bem:"e:icon",src:this.props.selectedItem.icon}),l.ReactBEM.createElement("div",{bem:"e:label"},this.props.selectedItem.label),t))};return t}(l.BaseComponent);t.default=p;p.contextTypes=l.BaseComponent.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=h(n);var i=r(3);var a=h(i);var s=r(2);var u=h(s);var l=r(1);var c=r(7);var d=h(c);var f=r(5);var p=h(f);function h(e){return e&&e.__esModule?e:{default:e}}var v=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._hasBackButton=false;return s}t.prototype._onItemClick=function e(t){this.props.onSwitchControls(t)};t.prototype._renderListItems=function e(){var t=this;var r=this.context.editor;var n=[];var o=function e(n){var o=r.controls.get(n);return l.ReactBEM.createElement("li",{bem:"e:item",key:o.identifier,"data-identifier":o.identifier,onClick:t._onItemClick.bind(t,o)},l.ReactBEM.createElement("bem",{specifier:"$b:controls"},l.ReactBEM.createElement("div",{bem:"$e:button m:withLabel"},l.ReactBEM.createElement("img",{bem:"e:icon",src:t._getAssetPath(o.iconPath,true)}),l.ReactBEM.createElement("div",{bem:"e:label"},t._t(o.languageKey)))))};var i=this.context.options.editor.controlsOrder;i.forEach(function(e){if(Array.isArray(e)){(function(){var t=e;var i=[];t.forEach(function(e){if(!r.controls.isEnabled(e))return;i.push(o(e))});if(i.length){n.push(i)}})()}else{var t=e;if(!r.controls.isEnabled(t))return;n.push(o(t))}});var a=[];n.forEach(function(e){a=a.concat(e);if(e!==n[n.length-1]){a.push(l.ReactBEM.createElement("li",{bem:"e:separator"}))}});return a};t.prototype.renderControls=function e(){var t=this._renderListItems();return l.ReactBEM.createElement("div",{bem:"e:cell m:list"},l.ReactBEM.createElement(p.default,null,l.ReactBEM.createElement("ul",{bem:"$e:list"},t)))};return t}(d.default);t.default=v;v.contextTypes=d.default.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=c(n);var i=r(3);var a=c(i);var s=r(2);var u=c(s);var l=r(1);function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);return(0,a.default)(this,e.apply(this,arguments))}t.prototype.componentDidMount=function t(){e.prototype.componentDidMount.call(this);this._renderCanvas()};t.prototype.componentDidUpdate=function e(){this._renderCanvas()};t.prototype._renderCanvas=function e(){var t=this.refs.canvas;var r=this.context.editor;var n=r.getSDK();var o=n.getPixelRatio();t.width=t.offsetWidth*o;t.height=t.offsetHeight*o;t.style.width=t.offsetWidth+"px";t.style.height=t.offsetHeight+"px";var i=t.getContext("2d");i.fillStyle="red";i.clearRect(0,0,t.width,t.height);i.font=(this.props.fontStyle||"")+" "+(this.props.fontWeight||"")+" "+24*o+"px "+this.props.fontFamily;i.textBaseline="middle";i.textAlign="center";i.fillStyle="white";i.fillText("Abc",t.width/2,t.height/2)};t.prototype.renderWithBEM=function e(){return l.ReactBEM.createElement("canvas",{bem:"b:fontFamily e:canvas",ref:"canvas"})};return t}(l.BaseComponent);t.default=d;d.contextTypes=l.BaseComponent.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=c(n);var i=r(3);var a=c(i);var s=r(2);var u=c(s);var l=r(1);function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._bindAll("_onClick");return s}t.prototype._onClick=function e(){this.props.onClick&&this.props.onClick(this.props.searchSuggestion)};t.prototype.renderWithBEM=function e(){var t=this.props.searchSuggestion;var r={backgroundImage:"url("+t.coverImage+")"};return l.ReactBEM.createElement("bem",{specifier:"b:photoRoll e:libraryList"},l.ReactBEM.createElement("li",{bem:"e:item",style:r,onClick:this._onClick},l.ReactBEM.createElement("div",{bem:"e:overlay"}),l.ReactBEM.createElement("div",{bem:"e:name"},t.query)))};return t}(l.BaseComponent);t.default=d;d.contextTypes=l.BaseComponent.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=m(n);var i=r(3);var a=m(i);var s=r(2);var u=m(s);var l=r(1);var c=r(6);var d=m(c);var f=r(159);var p=m(f);var h=r(5);var v=m(h);function m(e){return e&&e.__esModule?e:{default:e}}var _=240;var g=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._needsStyleFixes=true;s._totalPhotosHeight=0;s.state={loading:false,photos:[]};return s}t.prototype.componentDidMount=function t(){e.prototype.componentDidMount.call(this);this._loadPhotos()};t.prototype.componentDidUpdate=function e(){if(this.refs.scrollbar){this.refs.scrollbar.update()}};t.prototype._onPhotoClicked=function e(t){this.props.onPhotoClicked&&this.props.onPhotoClicked(t)};t.prototype._getHeadline=function e(){return this.props.library.name};t.prototype.fixStyles=function e(){if(l.Utils.Browser.isIElte(11)){var t=this.refs.cell;var r=this.refs.scrollbar.getList();if(!(t&&r)){return}var n=t.offsetHeight;r.style.height=n+"px"}if(this.refs.scrollbar){this.refs.scrollbar.update()}};t.prototype._renderColumns=function e(){var t=this;var r=this.state.photos;var n=3;var o=[];var i=[];for(var a=0;a<n;a++){i.push([]);o.push(0)}r.forEach(function(e){var r=e.dimensions;var a=null;var s=Infinity;for(var u=0;u<n;u++){if(o[u]<s){a=u;s=o[u]}}i[a].push(l.ReactBEM.createElement(p.default,{photo:e.obj,onClick:t._onPhotoClicked.bind(t,e.obj)}));o[a]+=r.y});return i};t.prototype._renderPhotos=function e(){var t=this._renderColumns();return l.ReactBEM.createElement("div",{bem:"$b:photoRoll e:row m:fullHeight"},l.ReactBEM.createElement("div",{bem:"e:cell",ref:"cell"},l.ReactBEM.createElement(v.default,{direction:"vertical",ref:"scrollbar"},l.ReactBEM.createElement("div",{bem:"e:container",ref:"container"},l.ReactBEM.createElement("div",{bem:"e:innerContainer"},l.ReactBEM.createElement("div",{bem:"e:headline"},this._getHeadline()),l.ReactBEM.createElement("bem",{specifier:"e:photoList"},t.map(function(e){return l.ReactBEM.createElement("ul",{bem:"$e:list"},e)})))))))};t.prototype._loadPhotos=function e(){var t=this;this._totalPhotosHeight=0;var r=d.default.instance.displayProgress(this._t("loading.loading"));var n=this.context.options.photoRoll.provider;var o=new n;o.getPhotosForLibrary(this.props.library).then(function(e){return t._preloadPhotos(e,r)}).then(function(e){t.setState({photos:e,loading:false});r.close()}).catch(function(e){console.log(e);r.close();d.default.instance.displayError(t._t("errors.photoRollLoadFail.title"),t._t("errors.photoRollLoadFail.text",{error:e.message}))})};t.prototype._preloadPhotos=function e(t,r){var n=this;var o=t.length;var i=0;return Promise.all(t.map(function(e){return n._preloadPhoto(e).then(function(t){var a=new l.Vector2(t.width,t.height);a.multiply(_/t.width);n._totalPhotosHeight+=a.y;i++;r.setData({progress:i/o});return{obj:e,dimensions:a}})}))};t.prototype._preloadPhoto=function e(t){return new Promise(function(e,r){var n=new window.Image;n.addEventListener("load",function(){e(n)});n.addEventListener("error",function(){e(n)});n.crossOrigin="Anonymous";n.src=t.urls.thumb})};t.prototype.renderWithBEM=function e(){if(!this.state.loading){return this._renderPhotos()}else{return l.ReactBEM.createElement("div",null)}};return t}(l.BaseComponent);t.default=g;g.contextTypes=l.BaseComponent.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=s(n);var i=r(76);var a=s(i);function s(e){return e&&e.__esModule?e:{default:e}}var u="__";var l="--";var c="pesdk-react-";var d=function(){function e(t,r,n){(0,o.default)(this,e);this._parent=t;this._type=r;this._name=n}e.prototype.element=function t(r){return new e(this,"element",r)};e.prototype.modifier=function t(r){return new e(this,"modifier",r)};(0,a.default)(e,[{key:"str",get:function e(){var t=this._parent?this._parent.str:"";switch(this._type){case"block":t+=""+c+this._name;break;case"element":t+=""+u+this._name;break;case"modifier":t+=""+l+this._name;break}return t}}]);return e}();t.default={block:function e(t){return new d(null,"block",t)}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=w(n);var i=r(3);var a=w(i);var s=r(2);var u=w(s);var l=r(1);var c=r(180);var d=w(c);var f=r(187);var p=w(f);var h=r(178);var v=w(h);var m=r(175);var _=w(m);var g=r(176);var y=w(g);var b=r(179);var x=w(b);var E=r(177);var C=w(E);function w(e){return e&&e.__esModule?e:{default:e}}var S=function(e){(0,u.default)(t,e);function t(r,n,i){var s=arguments.length>3&&arguments[3]!==undefined?arguments[3]:false;(0,o.default)(this,t);var u=(0,a.default)(this,e.call(this));u._ui=r;u._options=n;u._mediator=i;u._ready=false;u._padding=[0,0,0,0];if(!s){u._initSDK();u._onZoom=u._onZoom.bind(u);u._onUndo=u._onUndo.bind(u);u.operations=new v.default(u,u._sdk,u._mediator);u.history=new C.default(u,u._sdk,u._mediator);u.history.on("undo",u._onUndo);u.zoom=new x.default(u,u._sdk,u._mediator);u.zoom.on("set",u._onZoom);u._initSerializers()}u.controls=new _.default(u,u._sdk,u._mediator);u.features=new y.default(u,u._sdk,u._mediator);u._running=false;u._renderRequested=true;u._renderCallbacks=[];u._animationFrameRequest=null;u.render=u.render.bind(u);u._tick=u._tick.bind(u);return u}t.prototype.setImage=function e(){var t=this;var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this._options.editor.image;var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;var o=this._sdk.getRenderer();var i=new l.Vector2(r.width,r.height);var a=this.getMaxMegapixels()*1e6;var s=o.getMaxDimensions();if(n){this.reset()}var u=new p.default(r,a,s);var c=null;var d=function e(r){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:i;var o=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;t._setImage(r,c,n);t._initWatermark();t._ready=true;t.emit("ready")};if(!u.needsResize()){d(r)}else{this.emit("resize");c=this._sdk.parseExif(r);u.resize().then(function(e){var r=e.canvas,n=e.dimensions,o=e.reason;r.src="data:image/jpeg;base64,";t.emit("resized",{dimensions:n,reason:o});d(r,n,o)})}};t.prototype._initWatermark=function e(){if(this._options.editor.watermarkImage){this._watermarkOperation=this.operations.getOrCreate("watermark",{image:this._options.editor.watermarkImage})}};t.prototype._initSDK=function e(){var t=this._options,r=t.logLevel,n=t.displayWelcomeMessage,o=t.debug,i=t.apiKey;var a=this._options.editor,s=a.smoothDownscaling,u=a.smoothUpscaling,c=a.preferredRenderer,d=a.pixelRatio;var f={logLevel:r,debug:o,displayWelcomeMessage:n,pixelRatio:d,smoothDownscaling:s,smoothUpscaling:u,transparent:true,apiKey:i};this._sdk=new l.SDK(c,f)};t.prototype._onZoom=function e(t){var r=this;var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;this.fixOffset();this.render(function(){r._mediator.emit(l.Constants.EVENTS.ZOOM_DONE);n&&n()})};t.prototype._onUndo=function e(){this.render()};t.prototype.getRotation=function e(){return this._sdk.getRotation()};t.prototype.setRotation=function e(t){this._sdk.setRotation(t)};t.prototype.getSpriteScale=function e(){return this._sdk.getSpriteScale()};t.prototype.setSpriteScale=function e(t){this._sdk.setSpriteScale(t)};t.prototype.isToolEnabled=function e(t){return this._options.editor.tools.indexOf(t)!==-1};t.prototype.getMaxMegapixels=function e(){var t=this._options.editor.maxMegaPixels;return l.Utils.isMobile()?t.mobile:t.desktop};t.prototype.getOutputDimensions=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;return this._sdk.getOutputDimensions(t)};t.prototype.getOutputTextureDimensions=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;return this._sdk.getOutputTextureDimensions(t)};t.prototype.getFinalDimensions=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;return this._sdk.getFinalDimensions(t)};t.prototype.getCanvasDimensions=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;var r=this._sdk.getCanvas();var n=new l.Vector2(r.offsetWidth,r.offsetHeight);if(t){n.subtract(this._padding[1]+this._padding[3],this._padding[0]+this._padding[2])}return n};t.prototype._setImage=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this._options.editor.image;var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:null;var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;this._sdk.setAllOperationsToDirty();this._options.editor.image=t;this._sdk.setImage(t,r,n);this.zoom.set("auto");this.emit("new-image")};t.prototype.export=function e(){var t=this;var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:false;if(this._watermarkOperation){this._watermarkOperation.setEnabled(false);
}this._sdk.setAllOperationsToDirty();var n=this._options.editor.export;var o=new d.default(this._sdk,n,r);return o.export().then(function(e){t.emit("export",e);t._mediator.emit(l.Constants.EVENTS.EXPORT,e,t);if(t._watermarkOperation){t._watermarkOperation.setEnabled(true);t._sdk.render()}t._sdk.setAllOperationsToDirty();return e})};t.prototype._initSerializers=function e(){this._serializers={"1.0.0":r(195).default,"1.0.1":r(197).default}};t.prototype.serialize=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"1.0.1";var n=this._serializers[r];if(!n){return l.Promise.reject(new Error("No serializer for version "+r+" found."))}var o=new n(this);return o.serialize(t)};t.prototype.deserialize=function e(t){var r=this._serializers[t.version];if(!r){return l.Promise.reject(new Error("No serializer for version "+t.version+" found."))}var n=new r(this);return n.deserialize(t)};t.prototype._applyOffset=function e(){var t=this._offset.clone();t.x-=this._padding[1]/2;t.x+=this._padding[3]/2;t.y-=this._padding[2]/2;t.y+=this._padding[0]/2;this._sdk.setOffset(t)};t.prototype.start=function e(){this.zoom.set("auto");this._animationFrameRequest=(0,l.requestAnimationFrame)(this._tick)};t.prototype.stop=function e(){this._running=false;if(this._animationFrameRequest){(0,l.cancelAnimationFrame)(this._animationFrameRequest);this._renderCallbacks=[]}};t.prototype.render=function e(t){this._renderRequested=true;if(t){this._renderCallbacks.push(t)}};t.prototype.setOffset=function e(t){this._offset=this._clampOffset(t)};t.prototype.getOffset=function e(){return this._offset};t.prototype.fixOffset=function e(){this.setOffset(this._sdk.getOffset())};t.prototype._clampOffset=function e(t){var r=this._sdk.getRenderer();var n=new l.Vector2(r.getWidth(),r.getHeight());var o=this._sdk.getOutputDimensions(false);var i=n.clone().subtract(o).divide(2).clamp(null,new l.Vector2(0,0));var a=o.clone().subtract(n).divide(2).clamp(new l.Vector2(0,0),null);var s=t.clone().clamp(i,a).round();return s};t.prototype._tick=function e(){var t=this;if(this._renderRequested){(function(){var e=t._renderCallbacks.slice(0);t._renderCallbacks=[];t._render().then(function(){e.forEach(function(e){return e()});t._animationFrameRequest=(0,l.requestAnimationFrame)(t._tick)}).catch(function(e){l.Log.printError(e)});t._renderRequested=false})()}else{this._animationFrameRequest=(0,l.requestAnimationFrame)(this._tick)}};t.prototype._render=function e(){var t=this;if(!this._ready)return l.Promise.resolve();this._applyOffset();return this._sdk.render().then(function(){t._lastOutputBounds=t._sdk.getSprite().getBounds()}).catch(function(e){t.emit("render-error",e)})};t.prototype.reset=function e(){this._sdk.reset();this.history.reset();this.operations.reset()};t.prototype.dispose=function e(){this.stop();this._sdk.dispose()};t.prototype.isReady=function e(){return this._ready};t.prototype.getRenderer=function e(){return this._sdk.getRenderer()};t.prototype.getSDK=function e(){return this._sdk};t.prototype.getInputDimensions=function e(){return this._sdk.getInputDimensions()};t.prototype.getPadding=function e(){return this._padding};t.prototype.setPadding=function e(t){if(!t){this._padding=[0,0,0,0]}else{this._padding=t}};t.prototype.getImage=function e(){return this._options.editor.image};t.prototype.getOptions=function e(){return this._options};t.prototype.getUI=function e(){return this._ui};t.prototype.broadcastCrop=function e(t,r){var n=this;var o=["sprite","selective-blur"];o.forEach(function(e){var o=n.operations.get(e);if(!o){return}o.crop(t,r)})};t.prototype.broadcastFlip=function e(t){var r=this;var n=["linear-focus","radial-focus","sprite","selective-blur"];n.forEach(function(e){var n=r.operations.get(e);if(!n){return}n.flip(t)})};t.prototype.broadcastRotate=function e(t){var r=this;var n=["crop","linear-focus","radial-focus","sprite","selective-blur"];n.forEach(function(e){var n=r.operations.get(e);if(!n){return}n.rotate(t)})};return t}(l.EventEmitter);t.default=S},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=c(n);var i=r(3);var a=c(i);var s=r(2);var u=c(s);var l=r(1);function c(e){return e&&e.__esModule?e:{default:e}}var d=l.SDK.OptionType;var f=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);return(0,a.default)(this,e.apply(this,arguments))}return t}(l.SDK.Configurable);t.default=f;f.prototype.availableOptions={name:{type:d.STRING,required:true},fontWeight:{type:d.ALL,default:400},fontFamily:{type:d.STRING,required:true},fontStyle:{type:d.STRING,default:"normal"},provider:{type:d.STRING,available:["google"]},default:{type:d.BOOLEAN,default:false}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=a(n);var i=r(1);function a(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(t){(0,o.default)(this,e);this._options=t;this._categoriesById={};this._categories=[];this._initCategories()}e.prototype._initCategories=function e(){var t=this;var r=this._options,n=r.replaceCategories,o=r.categories;var a=i.Constants.DEFAULTS.STICKER_CATEGORIES;if(!o){this._categories=a.slice(0)}else{if(n){this._categories=o.slice(0)}else{this._categories=i.Utils.mergeCategories(a,o,"stickers")}}var s={name:"all",stickers:this._categories.map(function(e){return e.stickers}).reduce(function(e,t){return e.concat(t)})};this._categories.unshift(s);this._categoriesById={};this._categories.forEach(function(e){t._categoriesById[e.name]=e})};e.prototype.getStickersForCategory=function e(t){if(!this._categoriesById[t]){throw new Error("Unknown sticker category '"+t+"'")}return this._categoriesById[t].stickers};e.prototype.getCategories=function e(){return this._categories};return e}();t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(213);var o=p(n);var i=r(33);var a=p(i);var s=r(59);var u=p(s);var l=r(77);var c=p(l);var d=r(67);var f=p(d);function p(e){return e&&e.__esModule?e:{default:e}}function h(e){var t=[];for(var r=0;r<e.length;r++){if(e[r]instanceof Array){t=t.concat(h(e[r]))}else{t.push(e[r])}}return t}var v={b:"block",e:"element",m:"modifier"};var m={_parseBemSpecifier:function e(t){if(!t)return[];var r=t.split(" ");var n=r.map(function(e){var t=e.match(/^(\$)?([bem]):(.*)$/i);if(!t){throw new Error("Invalid BEM specifier: "+e)}var r=typeof t[1]!=="undefined";var n=v[t[2]];var o=t[3];return{type:n,name:o,pass:r}});return n},_getBemInfoForNode:function e(t){var r=t.type==="bem";var n=r?t.props.specifier:t.props.bem;if(r&&!n){throw new Error("<bem> elements should always have a `specifier` property")}var o=this._parseBemSpecifier(n);if(r){o.forEach(function(e){e.pass=true})}return{data:o,isBemNode:r}},createElement:function e(t,r){for(var n=arguments.length,o=Array(n>2?n-2:0),i=2;i<n;i++){o[i-2]=arguments[i]}r=r||{};o=o.filter(function(e){return e!==null&&typeof e!=="undefined"});return{type:t,props:r,children:o}},_isNodeBEMable:function e(t){return t!==null&&(typeof t==="undefined"?"undefined":(0,a.default)(t))==="object"&&!u.default.isValidElement(t)},_applyBEMClasses:function e(t){var r=this;if(!this._isNodeBEMable(t))return t;var n=t.props.className?[t.props.className]:[];var o=this._getBemInfoForNode(t);var i=t.props.__bemObject;var a=t.props.__bemObject;o.data.forEach(function(e){if(e.type==="block"){i=f.default.block(e.name);if(e.pass){a=f.default.block(e.name)}n.push(i.str)}else if(e.type==="element"){if(!i){throw new Error("Tried to create an element, but no parent block has been found.")}i=i.element(e.name);if(e.pass){a=a.element(e.name)}n.push(i.str)}else if(e.type==="modifier"){if(!i){throw new Error("Tried to create a modifier, but no parent block has been found.")}if(e.pass){a=a.modifier(e.name)}n.push(i.modifier(e.name).str)}});var s=(0,c.default)(n);if(s){t.props.className=s}t.children=h(t.children);t.children.forEach(function(e){if(!r._isNodeBEMable(e))return;e.props.__bemObject=a});t.children=t.children.map(function(e){return r._applyBEMClasses(e)});t.children=h(t.children);delete t.props.__bemObject;delete t.props.bem;if(o.isBemNode){if(t.children instanceof Array&&t.children.length===1){t=t.children[0]}else{t=t.children}}return t},_transformToReact:function e(t){var r=this;if(!this._isNodeBEMable(t))return t;t.children=t.children.map(function(e){return r._transformToReact(e)});return u.default.createElement.apply(u.default,[t.type,t.props].concat((0,o.default)(t.children)))},transform:function e(t){t=this._applyBEMClasses(t);if(t instanceof Array){return t}t=this._transformToReact(t);return t}};t.default=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=c(n);var i=r(1);var a=r(42);var s=c(a);var u=r(70);var l=c(u);function c(e){return e&&e.__esModule?e:{default:e}}var d=function(){function e(t,r){(0,o.default)(this,e);this._editor=t;this._data=r;this._filterManager=new s.default(this._editor._options);this._stickerManager=new l.default(this._editor._options)}e.prototype.deserialize=function e(){var t=this;return this._validateVersion().then(function(){return t._deserializeInputImage()}).then(function(){return t._deserializeOperations()}).then(function(){return t._editor.zoom.set("auto")})};e.prototype._validateVersion=function e(){if(this._data.version!=="1.0.0"){return Promise.reject(new Error("Invalid version "+this._data.version+", expected 1.0.0"))}return Promise.resolve()};e.prototype._deserializeInputImage=function e(){var t=this;return new Promise(function(e,r){var n=t._data.inputImage,o=n.data,i=n.type;if(o&&i){(function(){var r=new window.Image;r.addEventListener("load",function(){t._editor.setImage(r);e()});r.src="data:"+i+";base64,"+o})()}else{e()}})};e.prototype._deserializeOperations=function e(){var t=this;var r=this._data.operations.map(function(e){switch(e.type){case"crop":return t._deserializeCropOperation(e);case"orientation":return t._deserializeOrientationOperation(e);case"filter":return t._deserializeFilterOperation(e);case"adjustments":return t._deserializeAdjustmentsOperation(e);case"sprite":return t._deserializeSpriteOperation(e);case"focus":return t._deserializeFocusOperation(e)}});return Promise.all(r)};e.prototype._deserializeCropOperation=function e(t){var r=t.options;var n=r.scale,o=r.rotation;var a=i.Vector2.fromObject(r.start);var s=i.Vector2.fromObject(r.end);if(o>Math.PI){o-=Math.PI*2}this._editor.operations.getOrCreate("crop",{start:a,end:s,scale:n,rotation:o});return Promise.resolve()};e.prototype._deserializeOrientationOperation=function e(t){var r=t.options;this._editor.operations.getOrCreate("orientation",r)};e.prototype._deserializeFilterOperation=function e(t){var r=t.options;var n=this._filterManager.getFiltersForCategory("all");var o=void 0;for(var i=0;i<n.length;i++){var a=n[i];if(a.identifier===r.name){o=a;break}}if(!o){throw new Error("Unknown filter '"+r.name+"'")}this._editor.operations.getOrCreate("filter",{filter:new o,intensity:r.intensity})};e.prototype._deserializeAdjustmentsOperation=function e(t){var r=i.SDK.Operations.AdjustmentsOperation;var n=t.options;var o={};for(var a in n){var s=n[a];var u=r.prototype.availableOptions[a].default;o[a]=s+u}this._editor.operations.getOrCreate("adjustments",o)};e.prototype._deserializeSpriteOperation=function e(t){var r=this;var n=t.options;var o=this._editor.operations.getOrCreate("sprite");var i=n.sprites.map(function(e){switch(e.type){case"sticker":return r._deserializeSticker(o,e);case"text":return r._deserializeText(o,e);case"brush":return r._deserializeBrush(o,e)}}).filter(function(e){return!!e});return Promise.all(i).then(function(e){o.setSprites(e)})};e.prototype._deserializeSticker=function e(t,r){var n=this;var o=i.SDK.Operations.SpriteOperation;var a=r.options;var s=this._stickerManager.getStickersForCategory("all");var u=void 0;for(var l=0;l<s.length;l++){if(s[l].name===a.name){u=s[l];continue}}if(!u){throw new Error("Unknown sticker '"+a.name+"'")}return new Promise(function(e,r){var s=new window.Image;s.addEventListener("load",function(){var r=o.Sticker.prototype.availableOptions.adjustments.structure;var n=a.rotation,u=a.flipHorizontally,l=a.flipVertically;e(t.createSticker({image:s,position:i.Vector2.fromObject(a.position),dimensions:i.Vector2.fromObject(a.dimensions),rotation:n,flipHorizontally:u,flipVertically:l,adjustments:{brightness:a.adjustments.brightness+r.brightness.default,saturation:a.adjustments.saturation+r.saturation.default,contrast:a.adjustments.contrast+r.contrast.default}}))});s.crossOrigin="Anonymous";s.src=n._editor.getUI().getAssetPath(u.images.mediaBase.uri)})};e.prototype._deserializeText=function e(t,r){var n=r.options;var o=n.fontSize,a=n.lineHeight,s=n.fontFamily,u=n.fontWeight,l=n.alignment,c=n.rotation,d=n.maxWidth,f=n.color,p=n.backgroundColor;return Promise.resolve(t.createText({fontSize:o,lineHeight:a,fontFamily:s,fontWeight:u,alignment:l,rotation:c,maxWidth:d,text:n.text,color:i.Color.fromArray(f),backgroundColor:i.Color.fromArray(p),position:i.Vector2.fromObject(n.position)}))};e.prototype._deserializeBrush=function e(t,r){var n=r.options;var o=n.paths;var a=t.createBrush();o.forEach(function(e){var t=e.color,r=e.size,n=e.points;var o=new i.Color(t[0],t[1],t[2],t[3]);var s=a.createPath(r,1,o);n.forEach(function(e){s.addControlPoint(i.Vector2.fromObject(e))})});return Promise.resolve(a)};e.prototype._deserializeFocusOperation=function e(t){var r=t.options.options;switch(t.options.type){case"radial":{var n=r.position,o=r.radius,a=r.gradientRadius,s=r.blurRadius;this._editor.operations.getOrCreate("radial-focus",{position:i.Vector2.fromObject(n),radius:o,gradientRadius:a,blurRadius:s})}break;case"linear":{var u=r.start,l=r.end,c=r.size,d=r.gradientSize,f=r.blurRadius;this._editor.operations.getOrCreate("linear-focus",{start:i.Vector2.fromObject(u),end:i.Vector2.fromObject(l),size:c,gradientSize:d,blurRadius:f})}break}};e.prototype._getInputDimensionsForOperation=function e(t){var r=false;var n=this._editor.getInputDimensions();this._editor.operations.getStack().forEach(function(e){if(e===t)r=true;if(r)return;n=e.getNewDimensions(n)});return n};return e}();t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=a(n);var i=r(1);function a(e){return e&&e.__esModule?e:{default:e}}var s=Math.PI*2;var u=function(){function e(t){(0,o.default)(this,e);this._editor=t;this._serializeOperations=this._serializeOperations.bind(this)}e.prototype.serialize=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};this._options=i.SDKUtils.defaults(t,{image:true});var r={version:"1.0.0"};return this._serializeInputImage(r).then(this._serializeOperations)};e.prototype._serializeInputImage=function e(t){var r=this._editor.getImage();if(!this._options.image){t.inputImage={width:r.width,height:r.height};return Promise.resolve(t)}var n=new i.SDK("webgl",{image:r});return n.export(i.RenderType.DATA_URL,i.ImageFormat.PNG).then(function(e){var n=r.width,o=r.height;t.inputImage={type:i.ImageFormat.PNG,data:e.replace(/^data:image\/(.*?);base64,/,""),width:n,height:o};return t})};e.prototype._serializeOperations=function e(t){var r=this;var n=[];var o=this._editor.operations.getStack();o.forEach(function(e){n.push(r._serializeOperation(e))});t.operations=n;return Promise.resolve(t)};e.prototype._serializeOperation=function e(t){switch(t.constructor.identifier){case"crop":return this._serializeCropOperation(t);case"orientation":return this._serializeOrientationOperation(t);case"filter":return this._serializeFilterOperation(t);case"adjustments":return this._serializeAdjustmentsOperation(t);case"sprite":return this._serializeSpriteOperation(t);case"radial-focus":return this._serializeRadialFocusOperation(t);case"linear-focus":return this._serializeLinearFocusOperation(t);default:throw new Error("Unable to serialize operation of type "+t.constructor.identifier)}};e.prototype._serializeCropOperation=function e(t){var r=t.serializeOptions(["start","end","rotation","scale"],true);r.rotation=(r.rotation+s)%s;return{type:"crop",options:r}};e.prototype._serializeOrientationOperation=function e(t){return{type:"orientation",options:t.serializeOptions(["flipVertically","flipHorizontally","rotation"],true)}};e.prototype._serializeFilterOperation=function e(t){return{type:"filter",options:{intensity:t.getIntensity(),name:t.getFilter().constructor.identifier}}};e.prototype._serializeAdjustmentsOperation=function e(t){var r=t.availableOptions;var n={};for(var o in r){var i=r[o];var a=t.getOption(o);if(a!==i.default){n[o]=a-i.default}}return{type:"adjustments",options:n}};e.prototype._serializeSpriteOperation=function e(t){var r=this;var n=t.getSprites().map(function(e){if(e instanceof t.constructor.Sticker){return r._serializeSticker(t,e)}else if(e instanceof t.constructor.Text){return r._serializeText(t,e)}else if(e instanceof t.constructor.Brush){return r._serializeBrush(t,e)}});return{type:"sprite",options:{sprites:n}}};e.prototype._serializeSticker=function e(t,r){var n=r.getAdjustments();var o=r.serializeOptions(["name","position","dimensions","flipVertically","flipHorizontally","rotation"],true);o.rotation=(o.rotation+s)%s;var i=n.availableOptions;o.adjustments={brightness:n.getBrightness()-i.brightness.default,saturation:n.getSaturation()-i.saturation.default,contrast:n.getContrast()-i.contrast.default};return{type:"sticker",options:o}};e.prototype._serializeText=function e(t,r){var n=r.serializeOptions(["fontSize","lineHeight","fontFamily","fontWeight","alignment","color","backgroundColor","position","rotation","text","maxWidth"],true);n.rotation=(n.rotation+s)%s;return{type:"text",options:n}};e.prototype._serializeBrush=function e(t,r){var n=this;return{type:"brush",options:{paths:r.getPaths().map(function(e){return n._serializePath(e)})}}};e.prototype._serializePath=function e(t){var r=t.serializeOptions(["color","thickness"],true);r.size=r.thickness;delete r.thickness;r.points=t.getControlPoints().map(function(e){return e.getPosition().toObject()});return r};e.prototype._serializeRadialFocusOperation=function e(t){return{type:"focus",options:{type:"radial",options:t.serializeOptions(["position","radius","gradientRadius","blurRadius"],true)}}};e.prototype._serializeLinearFocusOperation=function e(t){return{type:"focus",options:{type:"linear",options:t.serializeOptions(["start","end","blurRadius","size","gradientSize"],true)}}};e.prototype._getInputDimensionsForOperation=function e(t){var r=false;var n=this._editor.getInputDimensions();this._editor.operations.getStack().forEach(function(e){if(e===t)r=true;if(r)return;n=e.getNewDimensions(n)});return n};return e}();t.default=u},function(e,t,r){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r="warn";var n=[{type:"trace",background:"#EEEEEE",color:"#AAAAAA"},{type:"info",background:"#BDE5F8",color:"#00529B"},{type:"warn",background:"#FEEFB3",color:"#9F6000"},{type:"error",background:"#FFBABA",color:"#D8000C"},{type:"log",background:"#EEEEEE",color:"#1f4f6b"}];var o=n.map(function(e){return e.type});var i={};i.setLevel=function(e){r=e};i.canLog=function(e){if(r===null)return false;var t=o.indexOf(e);var n=o.indexOf(r);if(t<n)return false;return true};i.hasColorfulOutput=function(){return(!e||e&&e.browser)&&typeof navigator!=="undefined"&&navigator.userAgent.match(/Gecko|WebKit/i)&&!navigator.userAgent.match(/Trident/)};i.printError=function(e){var t=e.stack.split("\n");t.forEach(function(e){i.error("Error",e)})};n.forEach(function(e){var t=e.type,r=e.background,n=e.color;i[t]=function(e){if(!i.canLog(t))return;for(var o=arguments.length,a=Array(o>1?o-1:0),s=1;s<o;s++){a[s-1]=arguments[s]}var u=a.map(function(e){return typeof e==="string"?e:e.toString()}).join(" ");if(!i.hasColorfulOutput()){return console.log("PhotoEditorSDK | "+e+" | "+u)}console.log("%c  %c PhotoEditorSDK %c  %c "+e+" %c  "+u+"  %c  ","background: #43ADEB; line-height: 20px; padding: 4px 0","background: #2B2B2B; color: white; line-height: 20px; padding: 4px 0","background: #43ADEB; line-height: 20px; padding: 4px 0","background: "+r+"; color: "+n+"; line-height: 20px; padding: 4px 0; font-weight: bold","background: #2B2B2B; color: white; line-height: 20px; padding: 4px 0","background: #43ADEB; line-height: 20px; padding: 4px 0")}});t.default=i}).call(t,r(90))},function(e,t,r){e.exports={default:r(219),__esModule:true}},function(e,t,r){"use strict";t.__esModule=true;var n=r(75);var o=i(n);function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(){function e(e,t){for(var r=0;r<t.length;r++){var n=t[r];n.enumerable=n.enumerable||false;n.configurable=true;if("value"in n)n.writable=true;(0,o.default)(e,n.key,n)}}return function(t,r,n){if(r)e(t.prototype,r);if(n)e(t,n);return t}}()},function(e,t,r){var n,o;(function(){"use strict";var r={}.hasOwnProperty;function i(){var e=[];for(var t=0;t<arguments.length;t++){var n=arguments[t];if(!n)continue;var o=typeof n;if(o==="string"||o==="number"){e.push(n)}else if(Array.isArray(n)){e.push(i.apply(null,n))}else if(o==="object"){for(var a in n){if(r.call(n,a)&&n[a]){e.push(a)}}}}return e.join(" ")}if(typeof e!=="undefined"&&e.exports){e.exports=i}else if(true){!(n=[],o=function(){return i}.apply(t,n),o!==undefined&&(e.exports=o))}else{window.classNames=i}})()},function(e,t,r){var n=r(43),o=r(10)("toStringTag"),i=n(function(){return arguments}())=="Arguments";var a=function(e,t){try{return e[t]}catch(e){}};e.exports=function(e){var t,r,s;return e===undefined?"Undefined":e===null?"Null":typeof(r=a(t=Object(e),o))=="string"?r:i?n(t):(s=n(t))=="Object"&&typeof t.callee=="function"?"Arguments":s}},function(e,t,r){var n=r(26),o=r(13).document,i=n(o)&&n(o.createElement);e.exports=function(e){return i?o.createElement(e):{}}},function(e,t,r){e.exports=!r(16)&&!r(25)(function(){return Object.defineProperty(r(79)("div"),"a",{get:function(){return 7}}).a!=7})},function(e,t,r){var n=r(43);e.exports=Object("z").propertyIsEnumerable(0)?Object:function(e){return n(e)=="String"?e.split(""):Object(e)}},function(e,t,r){"use strict";var n=r(47),o=r(17),i=r(86),a=r(22),s=r(18),u=r(23),l=r(232),c=r(50),d=r(240),f=r(10)("iterator"),p=!([].keys&&"next"in[].keys()),h="@@iterator",v="keys",m="values";var _=function(){return this};e.exports=function(e,t,r,g,y,b,x){l(r,t,g);var E=function(e){if(!p&&e in T)return T[e];switch(e){case v:return function t(){return new r(this,e)};case m:return function t(){return new r(this,e)}}return function t(){return new r(this,e)}};var C=t+" Iterator",w=y==m,S=false,T=e.prototype,R=T[f]||T[h]||y&&T[y],M=R||E(y),O=y?!w?M:E("entries"):undefined,k=t=="Array"?T.entries||R:R,P,D,B;if(k){B=d(k.call(new e));if(B!==Object.prototype){c(B,C,true);if(!n&&!s(B,f))a(B,f,_)}}if(w&&R&&R.name!==m){S=true;M=function e(){return R.call(this)}}if((!n||x)&&(p||S||!T[f])){a(T,f,M)}u[t]=M;u[C]=_;if(y){P={values:w?M:E(m),keys:b?M:E(v),entries:O};if(x)for(D in P){if(!(D in T))i(T,D,P[D])}else o(o.P+o.F*(p||S),t,P)}return P}},function(e,t,r){var n=r(34),o=r(28),i=r(19),a=r(55),s=r(18),u=r(80),l=Object.getOwnPropertyDescriptor;t.f=r(16)?l:function e(t,r){t=i(t);r=a(r,true);if(u)try{return l(t,r)}catch(e){}if(s(t,r))return o(!n.f.call(t,r),t[r])}},function(e,t,r){var n=r(85),o=r(46).concat("length","prototype");t.f=Object.getOwnPropertyNames||function e(t){return n(t,o)}},function(e,t,r){var n=r(18),o=r(19),i=r(225)(false),a=r(51)("IE_PROTO");e.exports=function(e,t){var r=o(e),s=0,u=[],l;for(l in r)if(l!=a)n(r,l)&&u.push(l);while(t.length>s)if(n(r,l=t[s++])){~i(u,l)||u.push(l)}return u}},function(e,t,r){e.exports=r(22)},function(e,t,r){var n=r(53),o=Math.min;e.exports=function(e){return e>0?o(n(e),9007199254740991):0}},function(e,t,r){var n=r(78),o=r(10)("iterator"),i=r(23);e.exports=r(9).getIteratorMethod=function(e){if(e!=undefined)return e[o]||e["@@iterator"]||i[n(e)]}},function(e,t,r){(function(t){(function(){var r,n,o;if(typeof performance!=="undefined"&&performance!==null&&performance.now){e.exports=function(){return performance.now()}}else if(typeof t!=="undefined"&&t!==null&&t.hrtime){e.exports=function(){return(r()-o)/1e6};n=t.hrtime;r=function(){var e;e=n();return e[0]*1e9+e[1]};o=r()}else if(Date.now){e.exports=function(){return Date.now()-o};o=Date.now()}else{e.exports=function(){return(new Date).getTime()-o};o=(new Date).getTime()}}).call(this)}).call(t,r(90))},function(e,t){var r=e.exports={};var n;var o;function i(){throw new Error("setTimeout has not been defined")}function a(){throw new Error("clearTimeout has not been defined")}(function(){try{if(typeof setTimeout==="function"){n=setTimeout}else{n=i}}catch(e){n=i}try{if(typeof clearTimeout==="function"){o=clearTimeout}else{o=a}}catch(e){o=a}})();function s(e){if(n===setTimeout){return setTimeout(e,0)}if((n===i||!n)&&setTimeout){n=setTimeout;return setTimeout(e,0)}try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}function u(e){if(o===clearTimeout){return clearTimeout(e)}if((o===a||!o)&&clearTimeout){o=clearTimeout;return clearTimeout(e)}try{return o(e)}catch(t){try{return o.call(null,e)}catch(t){return o.call(this,e)}}}var l=[];var c=false;var d;var f=-1;function p(){if(!c||!d){return}c=false;if(d.length){l=d.concat(l)}else{f=-1}if(l.length){h()}}function h(){if(c){return}var e=s(p);c=true;var t=l.length;while(t){d=l;l=[];while(++f<t){if(d){d[f].run()}}f=-1;t=l.length}d=null;c=false;u(e)}r.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1){for(var r=1;r<arguments.length;r++){t[r-1]=arguments[r]}}l.push(new v(e,t));if(l.length===1&&!c){s(h)}};function v(e,t){this.fun=e;this.array=t}v.prototype.run=function(){this.fun.apply(null,this.array)};r.title="browser";r.browser=true;r.env={};r.argv=[];r.version="";r.versions={};function m(){}r.on=m;r.addListener=m;r.once=m;r.off=m;r.removeListener=m;r.removeAllListeners=m;r.emit=m;r.binding=function(e){throw new Error("process.binding is not supported")};r.cwd=function(){return"/"};r.chdir=function(e){throw new Error("process.chdir is not supported")};r.umask=function(){return 0}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(4);var o=M(n);var i=r(0);var a=M(i);var s=r(3);var u=M(s);var l=r(2);var c=M(l);var d=r(1);var f=r(157);var p=M(f);var h=r(168);var v=M(h);var m=r(162);var _=M(m);var g=r(172);var y=M(g);var b=r(156);var x=M(b);var E=r(21);var C=M(E);var w=r(150);var S=M(w);var T=r(6);var R=M(T);function M(e){return e&&e.__esModule?e:{default:e}}var O=function(e){(0,c.default)(t,e);function t(){(0,a.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,u.default)(this,e.call.apply(e,[this].concat(n)));s._screens={loading:p.default,splash:v.default,photoRoll:_.default,webcam:y.default,editor:x.default,empty:C.default};var l=void 0;if(s.props.options.preloader){l="loading"}s._screenAfterLoading;if(s.props.options.editor.image){s._screenAfterLoading="editor"}else{s._screenAfterLoading="splash"}if(!l){l=s._screenAfterLoading}s._previousScreensStack=[];s.state={activeScreen:s._screens[l],activeScreenName:l,screens:(0,o.default)({},l,s._screens[l])};return s}t.prototype.hasPreviousScreen=function e(){return!!this._previousScreensStack.length};t.prototype.getPreviousScreen=function e(){var t=this._previousScreensStack;return t[t.length-1]};t.prototype.switchToScreen=function e(t){var r=this;var n=null;if(t==="back"){n=this._previousScreensStack.pop();if(!n){throw new Error("Unable to switch to previous screen - no previous screen found.")}}else{if(t==="post-loading")t=this._screenAfterLoading;n=this._screens[t];if(!n){throw new Error("Unknown screen `"+t+"`")}this._previousScreensStack.push(this.state.activeScreen)}if(!this.state.screens[t]){this.state.screens[t]=n}if(this.state.activeScreenName!=="editor"){delete this.state.screens[this.state.activeScreenName]}return new d.Promise(function(e){r.setState({activeScreen:n,activeScreenName:t},function(){e()})})};t.prototype.setImage=function e(t,r){var n=this;var o=this.props.options;o.editor.image=t;var i=!this.refs.editorScreen;this.switchToScreen("editor").then(function(){if(!i){n.refs.editorScreen.setImage(t,r)}})};t.prototype.export=function e(){if(this.state.activeScreen!==this._screens.editor){return d.Promise.reject(new Error("Unable to export: Active screen is not the editor screen."))}if(this.state.screens.editor){var t;return(t=this.refs.editorScreen).export.apply(t,arguments)}};t.prototype.getEditor=function e(){if(this.state.activeScreen!==this._screens.editor){return d.Promise.reject(new Error("Unable to get editor: Active screen is not the editor screen."))}if(this.state.screens.editor){return this.refs.editorScreen.getEditor()}};t.prototype.serialize=function e(){var t;if(!this.state.screens.editor){return d.Promise.reject(new Error("Editor screen unavailable"))}return(t=this.refs.editorScreen).serialize.apply(t,arguments)};t.prototype.deserialize=function e(t){if(!this.state.screens.editor){return d.Promise.reject(new Error("Editor screen unavailable"))}return this.refs.editorScreen.deserialize(t)};t.prototype.getChildContext=function e(){return{ui:this.props.ui,options:this.props.options,mediator:this.props.mediator}};t.prototype._renderScreens=function e(){var t=[];for(var r in this.state.screens){var n=this.state.screens[r];var o=this.state.activeScreen===n;t.push(d.ReactBEM.createElement(n,{ref:r+"Screen",app:this,visible:o}))}return t};t.prototype.render=function e(){return d.ReactBEM.transform(d.ReactBEM.createElement("div",{bem:"b:editor"},d.ReactBEM.createElement(S.default,{modalManager:R.default.instance}),this._renderScreens()))};return t}(d.React.Component);t.default=O;O.childContextTypes={ui:d.React.PropTypes.object.isRequired,mediator:d.React.PropTypes.object.isRequired,options:d.React.PropTypes.object.isRequired};O.propTypes={ui:d.React.PropTypes.object.isRequired,mediator:d.React.PropTypes.object.isRequired,options:d.React.PropTypes.object.isRequired}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=s(n);var i=r(184);var a=s(i);function s(e){return e&&e.__esModule?e:{default:e}}var u=function(){function e(t){(0,o.default)(this,e);this._fonts=t;this._loadedFonts=[]}e.prototype.setFonts=function e(t){this._fonts=t};e.prototype.needsToLoad=function e(){for(var t=0;t<this._fonts.length;t++){var r=this._fonts[t].getProvider();if(!r)continue;return true}};e.prototype._getFontIdentifier=function e(t){return t.getName()+"-"+t.getFontWeight()+"-"+t.getFontFamily()+"-"+t.getFontStyle()};e.prototype.fontLoaded=function e(t){var r=this._getFontIdentifier(t);return this._loadedFonts.indexOf(r)!==-1};e.prototype.setFontLoaded=function e(t){if(!this.fontLoaded(t)){var r=this._getFontIdentifier(t);this._loadedFonts.push(r)}};e.prototype.load=function e(){var t=this;var r=this._fonts.slice();var n={google:new a.default};r.filter(function(e){return!t.fontLoaded(e)}).forEach(function(e){var t=e.getProvider();if(!t)return;var r=n[t];r.add(e)});var o=[];for(var i in n){o.push(n[i].load())}return Promise.all(o).then(function(){r.forEach(function(e){t.setFontLoaded(e)})})};return e}();t.default=u},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(192);Object.defineProperty(t,"Provider",{enumerable:true,get:function e(){return s(n).default}});var o=r(190);Object.defineProperty(t,"Library",{enumerable:true,get:function e(){return s(o).default}});var i=r(193);Object.defineProperty(t,"SearchSuggestion",{enumerable:true,get:function e(){return s(i).default}});var a=r(191);Object.defineProperty(t,"Photo",{enumerable:true,get:function e(){return s(a).default}});function s(e){return e&&e.__esModule?e:{default:e}}},function(e,t){e.exports={controls:{overview:{filters:"Filter",adjustments:"Korrekturen",crop:"Zuschneiden",blur:"Weichzeichnen",frame:"Rahmen",sticker:"Sticker",text:"Text",
brush:"Malen","selective-blur":"Sel. Unschärfe"},text:{foreground:"Vordergrund",background:"Hintergrund",size:"Größe",font:"Schriftart",alignment:"Ausrichtung",takeToFront:"Nach oben"},adjustments:{brightness:"Helligkeit",contrast:"Kontrast",saturation:"Sättigung",gamma:"Gamma",exposure:"Belichtung",shadows:"Schatten",highlights:"Lichter",clarity:"Klarheit"},crop:{none:"Original",custom:"Manuell",square:"Quadratisch","4-3":"4:3","16-9":"16:9",social:"Social Media","fb-ad":"Facebook Ad","fb-post":"Facebook Post","fb-cover":"Facebook Cover",rotation:"Drehung"},focus:{none:"Original",radial:"Kreisförmig",linear:"Linear",blurRadius:"Radius"},selectiveBlur:{blurRadius:"Radius",thickness:"Dicke"},filters:{intensity:"Intensität",categories:{all:"Alle",retro:"Retro",bw:"Schwarz & Weiß",summer:"Sommer",winter:"Winter",special:"Spezial"}},sticker:{brightness:"Helligkeit",contrast:"Kontrast",saturation:"Sättigung",blur:"Weichzeichnen",flip:"Spiegeln","flip-v":"Spiegeln (V)","flip-h":"Spiegeln (H)",takeToFront:"Nach oben",categories:{all:"Alle",glasses:"Brillen",hats:"Hüte",beards:"Bärte",misc:"Gemischt"}},brush:{thickness:"Dicke",color:"Farbe"},frame:{noFrame:"Kein Rahmen",scale:"Größe"}},webcam:{headline:"Mache ein Foto!"},editor:{headline:"Foto editieren",new:"Neu",backgroundImage:"Hintergrundbild",undo:"Rückgängig",export:"Speichern"},splash:{upload:{button:"Lade ein Foto hoch",description:"Klicke hier, um ein Foto von deinem Rechner hochzuladen oder lade es per Drag-and-Drop hoch"},webcam:{headline:"Webcam",description:"Klicke hier, um ein Foto mit deiner Webcam zu machen"},photoRoll:{headline:"Kostenloses Bildmaterial",description:"Suche dir eines von tausenden Stock Photos aus."}},photoRoll:{search:{placeholder:"Nach Fotos suchen",noSearchResults:'Entschuldigung, aber wir konnten für <strong>"${query}"</strong> leider keine Ergebnisse finden.',results:{headline:'Suchergebnisse für "${query}"'}}},generic:{back:"Zurück",cancel:"Abbrechen",color:"Farbe"},loading:{resizing:"Bild wird bearbeitet...",exporting:"Exportiere...",loading:"Lade..."},warnings:{imageResized_maxMegaPixels:{title:"Bild verkleinert",text:"Da dein Bild die maximale Größe von ${maxMegaPixels} Megapixeln überschreitet, wurde es auf ${width}x${height} Pixel verkleinert."},imageResized_maxDimensions:{title:"Bild verkleinert",text:"Aufgrund von Hardware-Beschränkungen wurde das Bild auf ${width}x${height} Pixel verkleinert."}},errors:{imageLoadFail:{title:"Bild konnte nicht geladen werden",text:"Beim Laden des Bildes unter ${path} ist ein Fehler aufgetreten."},webcamUnavailable:{title:"Webcam nicht verfügbar",text:"Webcam-Bild kann nicht dargestellt werden. (Fehler: ${error})"},webcamNotSupported:{title:"Webcam nicht unterstützt",text:"Dein Browser unterstützt das Webcam-Feature leider noch nicht."},renderingError:{title:"Rendering-Fehler",text:"Beim Rendern des Bildes ist ein Fehler aufgetreten."},context_lost:{title:"Es ist ein Fehler aufgetreten",text:"Dein Browser hat zu lange gebraucht, um das Bild zu generieren. Bitte versuche es noch einmal."},context_lost_limit:{title:"Es ist ein Fehler aufgetreten",text:"Bild-Generierung ist mehrmals fehlgeschlagen."},loadingStickersFailed:{title:"Laden der Sticker fehlgeschlagen"},loadingFontsFailed:{title:"Laden der Schriftarten fehlgeschlagen",text:"Einige Schriftarten sind möglicherweise nicht verfügbar."},photoRollLoadFail:{title:"Laden der Photo Roll fehlgeschlagen",text:"Die Photo Roll konnte nicht geladen werden: ${error}"},title:"Es ist ein Fehler aufgetreten"}}},function(e,t){e.exports={controls:{overview:{filters:"Filters",adjustments:"Adjust",crop:"Crop",focus:"Focus",frame:"Frame",sticker:"Sticker",text:"Text",brush:"Brush","selective-blur":"Selective Blur"},text:{foreground:"Foreground",background:"Background",size:"Size",font:"Font",alignment:"Alignment",takeToFront:"To Front"},adjustments:{brightness:"Brightness",contrast:"Contrast",saturation:"Saturation",exposure:"Exposure",gamma:"Gamma",shadows:"Shadows",highlights:"Highlights",clarity:"Clarity"},crop:{none:"Original",custom:"Custom",square:"Square","4-3":"4:3","16-9":"16:9",social:"Social Media","fb-ad":"Facebook Ad","fb-post":"Facebook Post","fb-cover":"Facebook Cover",rotation:"Rotation"},focus:{none:"None",radial:"Radial",linear:"Linear",blurRadius:"Blur radius"},selectiveBlur:{blurRadius:"Blur radius",thickness:"Thickness"},filters:{intensity:"Intensity",categories:{all:"All",retro:"Retro",bw:"Black & White",summer:"Summer",winter:"Winter",special:"Special"}},sticker:{brightness:"Brightness",contrast:"Contrast",saturation:"Saturation",blur:"Blur",flip:"Flip","flip-v":"Flip (V)","flip-h":"Flip (H)",takeToFront:"To Front",categories:{all:"All",glasses:"Glasses",hats:"Hats",beards:"Beards",misc:"Misc"}},brush:{thickness:"Thickness",color:"Color"},frame:{noFrame:"No Frame",scale:"Scale"}},webcam:{headline:"Take a photo!"},editor:{headline:"Edit Photo",new:"New",backgroundImage:"Background Image",undo:"Undo",export:"Export"},splash:{upload:{button:"Upload your image",description:"Upload a picture from your library or just drag and drop"},webcam:{headline:"Webcam",description:"Take a picture with your webcam or phone"},photoRoll:{headline:"Free stock footage",description:"Select from thousands of Free Stock Photos"}},photoRoll:{search:{placeholder:"Search for photos",noSearchResults:'Sorry, but we couldn\'t find any photos for <strong>"${query}"</strong>.',results:{headline:'Search results for "${query}"'}}},generic:{back:"Back",cancel:"Cancel",color:"Color"},loading:{resizing:"Resizing...",exporting:"Exporting...",loading:"Loading..."},warnings:{imageResized_maxMegaPixels:{title:"Image resized",text:"Your image exceeds the maximum size of ${maxMegaPixels} megapixels and has therefore been resized to ${width}x${height} pixels."},imageResized_maxDimensions:{title:"Image resized",text:"Due to hardware limitations your image has been resized to ${width}x${height} pixels."}},errors:{imageLoadFail:{title:"Failed to load image",text:"Failed to load the image at ${path}"},webcamUnavailable:{title:"Webcam unavailable",text:"Unable to display webcam image (Error: ${error})"},webcamNotSupported:{title:"Webcam not supported",text:"The webcam feature is not supported by your browser."},renderingError:{title:"Error while rendering",text:"An error has occurred while rendering the image."},context_lost:{title:"An error has occurred",text:"Your browser took too long to render the image. Please try applying less operations."},context_lost_limit:{title:"An error has occurred",text:"Your browser failed multiple times while rendering the image."},loadingStickersFailed:{title:"Failed to load stickers"},loadingFontsFailed:{title:"Failed to load fonts",text:"Some fonts might not be available."},photoRollLoadFail:{title:"Failed to load Photo Roll",text:"Failed to load photos for the photo roll: ${error}"},title:"An error has occurred"}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=c(n);var i=r(3);var a=c(i);var s=r(2);var u=c(s);var l=r(1);function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);return(0,a.default)(this,e.apply(this,arguments))}t.prototype.renderWithBEM=function e(){return l.ReactBEM.createElement("bem",{specifier:"$b:controls"},l.ReactBEM.createElement("div",{bem:"e:cell m:largeButton"},l.ReactBEM.createElement("div",{bem:"$e:largeButton",onClick:this.props.onClick},l.ReactBEM.createElement("img",{bem:"e:icon",src:this._getAssetPath("controls/back.png",true)}))))};return t}(l.BaseComponent);t.default=d;d.contextTypes=l.BaseComponent.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=p(n);var i=r(3);var a=p(i);var s=r(2);var u=p(s);var l=r(59);var c=p(l);var d=r(71);var f=p(d);function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._events={};s._needsStyleFixes=false;s._bindAll("_onSharedStateUpdate","fixStyles");return s}t.prototype.fixStyles=function e(){};t.prototype.componentDidMount=function e(){this._bindEvents();if(this.props.sharedState){this.props.sharedState.on("update",this._onSharedStateUpdate)}if(this._needsStyleFixes){this.fixStyles();if(this.context.options.responsive){window.addEventListener("resize",this.fixStyles)}}};t.prototype.componentWillUnmount=function e(){this._unbindEvents();if(this.props.sharedState){this.props.sharedState.off("update",this._onSharedStateUpdate)}if(this.context.options.responsive&&this._needsStyleFixes){window.removeEventListener("resize",this.fixStyles)}};t.prototype.componentWillReceiveProps=function e(t){if(t.sharedState){if(this.props.sharedState){this.props.sharedState.off("update",this._onSharedStateUpdate)}t.sharedState.on("update",this._onSharedStateUpdate)}};t.prototype._bindAll=function e(){var t=this;for(var r=arguments.length,n=Array(r),o=0;o<r;o++){n[o]=arguments[o]}n.forEach(function(e){if(typeof t[e]!=="function"){throw new Error("_bindAll: "+t.constructor.name+"."+e+" is not a function.")}t[e]=t[e].bind(t)})};t.prototype._t=function e(t,r){return this.context.ui.translate(t,r)};t.prototype._getAssetPath=function e(){var t;return(t=this.context.ui).getAssetPath.apply(t,arguments)};t.prototype._onSharedStateUpdate=function e(t,r){this.sharedStateDidChange(r);if(this.shouldSharedComponentUpdate(t,r)){this.forceUpdate()}};t.prototype.shouldSharedComponentUpdate=function e(t,r){return true};t.prototype.sharedStateDidChange=function e(t){};t.prototype.setSharedState=function e(t,r){this.props.sharedState.set(t,r)};t.prototype.getSharedState=function e(t){return this.props.sharedState.get(t)};t.prototype.forceSharedUpdate=function e(){this.props.sharedState.broadcastUpdate()};t.prototype._bindEvents=function e(){for(var t in this._events){var r=this._events[t];this.context.mediator.on(t,r)}};t.prototype._unbindEvents=function e(){for(var t in this._events){var r=this._events[t];this.context.mediator.off(t,r)}};t.prototype._emitEvent=function e(t){var r;for(var n=arguments.length,o=Array(n>1?n-1:0),i=1;i<n;i++){o[i-1]=arguments[i]}(r=this.context.mediator).emit.apply(r,[t].concat(o))};t.prototype.renderWithBEM=function e(){return f.default.createElement("div")};t.prototype.render=function e(){return f.default.transform(this.renderWithBEM())};return t}(c.default.Component);t.default=h;h.contextTypes={editor:c.default.PropTypes.object,ui:c.default.PropTypes.object,options:c.default.PropTypes.object,mediator:c.default.PropTypes.object,editorScreen:c.default.PropTypes.object};h.propTypes={sharedState:c.default.PropTypes.any}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=c(n);var i=r(3);var a=c(i);var s=r(2);var u=c(s);var l=r(1);function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);return(0,a.default)(this,e.apply(this,arguments))}t.prototype.renderWithBEM=function e(){var t="b:button";if(this.props.uppercase){t+=" m:uppercase"}return l.ReactBEM.createElement("button",{bem:t,className:this.props.className,onClick:this.props.onClick},this.props.children)};return t}(l.BaseComponent);t.default=d;d.propTypes={onClick:l.React.PropTypes.func,children:l.React.PropTypes.any.isRequired,className:l.React.PropTypes.string};d.contextTypes=l.BaseComponent.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=c(n);var i=r(3);var a=c(i);var s=r(2);var u=c(s);var l=r(1);function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);return(0,a.default)(this,e.apply(this,arguments))}t.prototype._onItemClick=function e(t){this.props.onChange&&this.props.onChange(t)};t.prototype._renderListItems=function e(){var t=this;return this.props.items.map(function(e){var r=e.name===t.props.selectedItem.name;return l.ReactBEM.createElement("li",{bem:"$e:item",className:r?" is-active":"",onClick:t._onItemClick.bind(t,e)},l.ReactBEM.createElement("img",{bem:"e:icon",src:e.icon}),l.ReactBEM.createElement("div",{bem:"e:label"},e.label))})};t.prototype.renderWithBEM=function e(){return l.ReactBEM.createElement("div",{bem:"$b:categoryDropdown $e:overlay"},l.ReactBEM.createElement("ul",{bem:"$e:list"},this._renderListItems()))};return t}(l.BaseComponent);t.default=d;d.contextTypes=l.BaseComponent.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=f(n);var i=r(3);var a=f(i);var s=r(2);var u=f(s);var l=r(1);var c=r(11);var d=f(c);function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._bindAll("_onKnobDrag","_onKnobDragStart");s._value=s.props.initialValue.clone();s._transparentPatternCanvas=l.Utils.createTransparentPatternCanvas();return s}t.prototype.componentDidMount=function t(){e.prototype.componentDidMount.call(this);this._renderCanvas()};t.prototype.shouldComponentUpdate=function e(t){var r=t.initialValue;if(r!==this._value){this._value=r.clone();this._renderCanvas();return true}return false};t.prototype._onKnobDragStart=function e(t,r){if(r.target===this.refs.knob){this._initialAlpha=this._value.a}else{this._setAlphaFromPosition(t)}};t.prototype._onKnobDrag=function e(t,r){var n=this.refs.canvas;var o=n.offsetWidth;var i=t.x/o;this._setAlpha(this._initialAlpha+i)};t.prototype._getKnobStyle=function e(){return{left:(this._value.a*100).toFixed(2)+"%",top:"50%"}};t.prototype._setAlpha=function e(t){this._value.a=t;this._value.a=Math.min(1,Math.max(0,this._value.a));this.forceUpdate();this.props.onChange&&this.props.onChange(this._value)};t.prototype._setAlphaFromPosition=function e(t){var r=this.refs.canvas;this._initialAlpha=t.x/r.offsetWidth;this._setAlpha(this._initialAlpha)};t.prototype._renderCanvas=function e(){var t=this.refs.canvas;var r=t.getContext("2d");t.width=t.offsetWidth;t.height=t.offsetHeight;var n=r.createPattern(this._transparentPatternCanvas,"repeat");r.fillStyle=n;r.fillRect(0,0,t.width,t.height);var o=r.createLinearGradient(0,0,t.width,t.height);var i=this._value.clone();i.a=0;o.addColorStop(0,i.toRGBA());o.addColorStop(1,this._value.toHex());r.fillStyle=o;r.fillRect(0,0,t.width,t.height)};t.prototype.renderWithBEM=function e(){return l.ReactBEM.createElement("div",{bem:"$b:colorPicker $e:alpha"},l.ReactBEM.createElement(d.default,{onStart:this._onKnobDragStart,onDrag:this._onKnobDrag},l.ReactBEM.createElement("div",null,l.ReactBEM.createElement("canvas",{bem:"e:canvas",ref:"canvas"}),l.ReactBEM.createElement("div",{bem:"e:knob $b:knob m:transparent",ref:"knob",style:this._getKnobStyle()}))))};return t}(l.BaseComponent);t.default=p;p.contextTypes=l.BaseComponent.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=f(n);var i=r(3);var a=f(i);var s=r(2);var u=f(s);var l=r(1);var c=r(11);var d=f(c);function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._bindAll("_onKnobDrag","_onKnobDragStart");s._value=s.props.initialValue.clone();var u=s._value.toHSV();var l=u[0];var c=u[1];var d=u[2];s._hsvColor={h:l,s:c,v:d};return s}t.prototype.componentDidMount=function t(){e.prototype.componentDidMount.call(this);this._renderCanvas()};t.prototype.shouldComponentUpdate=function e(t){var r=t.initialValue;if(r!==this._value){this._value=r.clone();var n=this._value.toHSV();var o=n[0];var i=n[1];var a=n[2];this._hsvColor={h:o,s:i,v:a};this._renderCanvas();return true}return false};t.prototype._onKnobDragStart=function e(t,r){if(r.target===this.refs.knob){this._initialHue=this._hsvColor.h}else{this._setValueFromPosition(t)}};t.prototype._onKnobDrag=function e(t,r){var n=this.refs.canvas;var o=n.offsetHeight;var i=t.y/o;this._setHue(this._initialHue+i)};t.prototype._getKnobStyle=function e(){return{left:"50%",top:(this._hsvColor.h*100).toFixed(2)+"%"}};t.prototype._setHue=function e(t){var r=this._hsvColor,n=r.s,o=r.v;t=Math.min(1,Math.max(0,t));n=Math.max(.01,Math.min(n,.99));o=Math.max(.01,Math.min(o,.99));this._value=l.Color.fromHSV(t,n,o,this._value.a);this._hsvColor={h:t,s:n,v:o};this.forceUpdate();this.props.onChange&&this.props.onChange(this._value)};t.prototype._setValueFromPosition=function e(t){var r=this.refs.canvas;this._initialHue=t.y/r.offsetHeight;this._setHue(this._initialHue)};t.prototype._renderCanvas=function e(){var t=this.refs.canvas;var r=t.getContext("2d");t.width=t.offsetWidth;t.height=t.offsetHeight;for(var n=0;n<t.height;n++){var o=n/t.height;var i=l.Color.fromHSV(o,1,1);r.strokeStyle=i.toRGBA();r.beginPath();r.moveTo(0,n);r.lineTo(t.width,n);r.stroke()}};t.prototype.renderWithBEM=function e(){return l.ReactBEM.createElement("div",{bem:"$b:colorPicker $e:hue"},l.ReactBEM.createElement(d.default,{onStart:this._onKnobDragStart,onDrag:this._onKnobDrag},l.ReactBEM.createElement("div",null,l.ReactBEM.createElement("canvas",{bem:"e:canvas",ref:"canvas"}),l.ReactBEM.createElement("div",{bem:"e:knob $b:knob m:transparent",ref:"knob",style:this._getKnobStyle()}))))};return t}(l.BaseComponent);t.default=p;p.contextTypes=l.BaseComponent.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=m(n);var i=r(3);var a=m(i);var s=r(2);var u=m(s);var l=r(1);var c=r(100);var d=m(c);var f=r(103);var p=m(f);var h=r(101);var v=m(h);function m(e){return e&&e.__esModule?e:{default:e}}var _=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._value=s.props.initialValue.clone();var u=s._value.toHSV();var l=u[0];var c=u[1];var d=u[2];s._hsv={h:l,s:c,v:d};s._bindAll("_onElementClick","_onColorChange","_onDocumentClick");return s}t.prototype.componentDidMount=function t(){e.prototype.componentDidMount.call(this);document.addEventListener("click",this._onDocumentClick)};t.prototype.componentWillUnmount=function t(){e.prototype.componentWillUnmount.call(this);document.removeEventListener("click",this._onDocumentClick)};t.prototype._onDocumentClick=function e(t){for(var r=t.target;r;r=r.parentNode){if(r===this.refs.root){return}}this.props.onClose&&this.props.onClose()};t.prototype._onElementClick=function e(t){t.stopPropagation()};t.prototype._onColorChange=function e(t){this._value=t;this.props.onChange&&this.props.onChange(t)};t.prototype.renderWithBEM=function e(){var t=void 0;if(this.props.alpha!==false){t=l.ReactBEM.createElement(d.default,{initialValue:this._value,onChange:this._onColorChange})}return l.ReactBEM.createElement("div",{bem:"$b:colorPicker $e:overlay",onClick:this._onElementClick,ref:"root"},t,l.ReactBEM.createElement("div",{bem:"e:bottom"},l.ReactBEM.createElement(p.default,{initialValue:this._value,onChange:this._onColorChange}),l.ReactBEM.createElement(v.default,{initialValue:this._value,onChange:this._onColorChange})))};return t}(l.BaseComponent);t.default=_;_.contextTypes=l.BaseComponent.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=f(n);var i=r(3);var a=f(i);var s=r(2);var u=f(s);var l=r(1);var c=r(11);var d=f(c);function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._bindAll("_onKnobDrag","_onKnobDragStart");s._value=s.props.initialValue.clone();var u=s._value.toHSV();var l=u[0];var c=u[1];var d=u[2];s._hsvColor={h:l,s:c,v:d};return s}t.prototype.componentDidMount=function t(){e.prototype.componentDidMount.call(this);this._renderCanvas()};t.prototype.shouldComponentUpdate=function e(t){var r=t.initialValue;if(r!==this._value){this._value=r.clone();var n=this._value.toHSV();var o=n[0];var i=n[1];var a=n[2];this._hsvColor={h:o,s:i,v:a};this._renderCanvas();return true}return false};t.prototype._onKnobDragStart=function e(t,r){if(r.target===this.refs.knob){this._initialValue=this._hsvColor.v;this._initialSaturation=this._hsvColor.s}else{this._setValuesFromPosition(t)}};t.prototype._onKnobDrag=function e(t,r){var n=this.refs.canvas;var o=n.offsetWidth;var i=n.offsetHeight;var a=t.x/o;var s=t.y/i*-1;var u=this._hsvColor.h;this._setHSV(u,this._initialSaturation+a,this._initialValue+s)};t.prototype._getKnobStyle=function e(){var t=this._hsvColor,r=t.s,n=t.v;return{left:(r*100).toFixed(2)+"%",top:((1-n)*100).toFixed(2)+"%"}};t.prototype._setHSV=function e(t,r,n){r=Math.max(.01,Math.min(r,.99));n=Math.max(.01,Math.min(n,.99));this._value=l.Color.fromHSV(t,r,n,this._value.a);this._hsvColor={h:t,s:r,v:n};this.forceUpdate();this.props.onChange&&this.props.onChange(this._value)};t.prototype._setValuesFromPosition=function e(t){var r=this.refs.canvas;this._initialSaturation=t.x/r.offsetWidth;this._initialValue=1-t.y/r.offsetHeight;var n=this._hsvColor.h;this._setHSV(n,this._initialSaturation,this._initialValue)};t.prototype._renderCanvas=function e(){var t=this.refs.canvas;var r=t.getContext("2d");t.width=t.offsetWidth;t.height=t.offsetHeight;var n=r.getImageData(0,0,t.width,t.height);for(var o=0;o<t.height;o++){var i=(t.height-o)/t.height;for(var a=0;a<t.width;a++){var s=a/t.width;var u=l.Color.fromHSV(this._hsvColor.h,s,i);var c=u.r,d=u.g,f=u.b,p=u.a;var h=(o*t.width+a)*4;n.data[h]=c*255;n.data[h+1]=d*255;n.data[h+2]=f*255;n.data[h+3]=p*255}}r.putImageData(n,0,0)};t.prototype.renderWithBEM=function e(){return l.ReactBEM.createElement("div",{bem:"$b:colorPicker $e:saturation"},l.ReactBEM.createElement(d.default,{onStart:this._onKnobDragStart,onDrag:this._onKnobDrag},l.ReactBEM.createElement("div",null,l.ReactBEM.createElement("canvas",{bem:"e:canvas",ref:"canvas"}),l.ReactBEM.createElement("div",{bem:"e:knob $b:knob m:transparent",ref:"knob",style:this._getKnobStyle()}))))};return t}(l.BaseComponent);t.default=p;p.contextTypes=l.BaseComponent.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=g(n);var i=r(3);var a=g(i);var s=r(2);var u=g(s);var l=r(1);var c=r(7);var d=g(c);var f=r(5);var p=g(f);var h=r(12);var v=g(h);var m=r(124);var _=g(m);function g(e){return e&&e.__esModule?e:{default:e}}var y=[{identifier:"brightness",isAvailable:function e(t){return t.isToolEnabled("brightness")},minValue:-1,midValue:0,maxValue:1},{identifier:"saturation",isAvailable:function e(t){return t.isToolEnabled("saturation")},minValue:0,midValue:1,maxValue:2},{identifier:"contrast",isAvailable:function e(t){return t.isToolEnabled("contrast")},minValue:0,midValue:1,maxValue:2},{identifier:"gamma",isAvailable:function e(t){return t.isToolEnabled("gamma")},minValue:.5,midValue:1,maxValue:3},{identifier:"clarity",isAvailable:function e(t){return t.isToolEnabled("clarity")},minValue:-1,midValue:0,maxValue:1},{identifier:"exposure",isAvailable:function e(t){return t.isToolEnabled("exposure")},minValue:-1,midValue:0,maxValue:1},{identifier:"shadows",isAvailable:function e(t){return t.isToolEnabled("shadows")},minValue:0,midValue:1,maxValue:2},{identifier:"highlights",isAvailable:function e(t){return t.isToolEnabled("highlights")},minValue:-1,midValue:0,maxValue:1}];var b=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._bindAll("_onSliderValueChange");var u=s.context.editor;s._operation=u.operations.getOrCreate("adjustments");s.state={selectedControls:null};return s}t.prototype._onBackClick=function t(r){var n=this.context.editor;var o=this.getSharedState("operationExistedBefore");var i=this.getSharedState("initialOptions");if(!this._operation.optionsEqual(i)){n.history.add(this._operation,i,o)}var a=this._operation.getDefaultOptions();if(this._operation.optionsEqual(a)){n.operations.remove(this._operation)}e.prototype._onBackClick.call(this,r)};t.prototype._onSliderValueChange=function e(t){var r=this.state.selectedControls;var n=r.identifier,o=r.minValue,i=r.midValue,a=r.maxValue;t=t<0?i+(i-o)*t/100:i+(a-i)*t/100;this._operation.setOption(n,t);var s=this.context.editor;s.render()};t.prototype._onButtonClick=function e(t,r){this.setState({selectedControls:t})};t.prototype._buildSliderProps=function e(t){var r=t.identifier,n=t.minValue,o=t.midValue,i=t.maxValue;var a=this._operation?this._operation.getOption(r):o;var s=(a<=o?(a-n)/(o-n)-1:(a-o)/(i-o))*100;return{minValue:-100,maxValue:100,value:s,valueUnit:"%",positiveValuePrefix:"+",label:this._t("controls.adjustments."+r),middleDot:true,onChange:this._onSliderValueChange}};t.prototype.renderOverlayControls=function e(){var t=this.state.selectedControls;if(!t)return;var r=this._buildSliderProps(t);return l.ReactBEM.createElement(v.default,r)};t.prototype._renderListItems=function e(){var t=this;return y.filter(function(e){return e.isAvailable(t.context.editor)}).map(function(e){var r=t.state.selectedControls===e;var n=r?"is-active":null;var o=void 0;if(!r&&false){var i=t._buildSliderProps(e);o=l.ReactBEM.createElement("bem",{specifier:"b:adjustmentsControls"},l.ReactBEM.createElement("div",{bem:"e:miniSlider"},l.ReactBEM.createElement(_.default,i)))}return l.ReactBEM.createElement("li",{bem:"e:item",key:e.identifier,"data-identifier":e.identifier},l.ReactBEM.createElement("bem",{specifier:"$b:controls"},l.ReactBEM.createElement("div",{bem:"$e:button m:withLabel",onClick:t._onButtonClick.bind(t,e),className:n},l.ReactBEM.createElement("img",{bem:"e:icon",src:t._getAssetPath("controls/adjustments/"+e.identifier+".png",true)}),l.ReactBEM.createElement("div",{bem:"e:label"},t._t("controls.adjustments."+e.identifier)),o)))})};t.prototype.renderControls=function e(){var t=this._renderListItems();return l.ReactBEM.createElement("div",{bem:"e:cell m:list"},l.ReactBEM.createElement(p.default,null,l.ReactBEM.createElement("ul",{bem:"$e:list"},t)))};return t}(d.default);t.default=b;b.contextTypes=d.default.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=p(n);var i=r(3);var a=p(i);var s=r(2);var u=p(s);var l=r(8);var c=p(l);var d=r(104);var f=p(d);function p(e){return e&&e.__esModule?e:{default:e}}var h=["brightness","clarity","contrast","exposure","highlights","saturation","shadows","gamma"];var v=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);return(0,a.default)(this,e.apply(this,arguments))}t.onEnter=function e(t){var r=this.context.editor;var n=r.operations.exists("adjustments");var o=r.operations.getOrCreate("adjustments");var i=o.serializeOptions();this.setSharedState({operation:o,operationExistedBefore:n,initialOptions:i})};t.isAvailable=function e(t){return h.filter(function(e){return t.isToolEnabled(e)}).length>0};t.getPreloadAssets=function e(t){return h.filter(function(e){return t.isToolEnabled(e)}).map(function(e){return"controls/adjustments/"+e+".png"})};return t}(c.default);v.controlsComponent=f.default;v.identifier="adjustments";v.iconPath="controls/overview/adjustments.png";v.languageKey="controls.overview.adjustments";v.defaultOptions={};t.default=v},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(4);var o=h(n);var i=r(0);var a=h(i);var s=r(3);var u=h(s);var l=r(2);var c=h(l);var d=r(1);var f=r(31);var p=h(f);function h(e){return e&&e.__esModule?e:{default:e}}var v=function(e){(0,c.default)(t,e);function t(){(0,a.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,u.default)(this,e.call.apply(e,[this].concat(n)));s._windowResized=false;s._drawing=false;s._bindAll("_onMouseEnter","_onMouseLeave","_onMouseDown","_onMouseMove","_onMouseUp","_onMouseMoveOnCanvas","_onWindowResize");s._lastDrawPosition=null;s._events=d.SDKUtils.extend(s._events,(0,o.default)({},d.Constants.EVENTS.WINDOW_RESIZE,s._onWindowResize));s.state={cursorVisible:false,cursorPosition:new d.Vector2};return s}t.prototype.componentDidMount=function t(){e.prototype.componentDidMount.call(this);this._updateContainerRect()};t.prototype.componentDidUpdate=function e(){if(this._windowResized){this._updateContainerRect();this._windowResized=false}};t.prototype._onWindowResize=function e(){this._windowResized=true};t.prototype._onOperationRemoved=function e(t){void 0};t.prototype._onOperationUpdated=function e(t){if(t===this.getSharedState("operation")){this.forceUpdate()}};t.prototype._onMouseDown=function e(t){t.preventDefault();this._optionsBeforeDraw=this.getSharedState("operation").serializeOptions();delete this._optionsBeforeDraw.enabled;this._operationExistedBeforeDraw=this.getSharedState("operationExistedBefore");this.setSharedState({operationExistedBefore:true},false);var r=this.context.editor.getOutputDimensions();var n=this._getCursorPosition(t);var o=this.getSharedState("brush");var i=this.getSharedState("thickness")/r.min();var a=this.getSharedState("color");var s=this.getSharedState("hardness");this._drawing=true;this._currentPath=o.createPath(i,s,a);this._currentPath.addControlPoint(n.clone().divide(r));document.addEventListener("mousemove",this._onMouseMove);document.addEventListener("touchmove",this._onMouseMove);document.addEventListener("mouseup",this._onMouseUp);document.addEventListener("touchend",this._onMouseUp)};t.prototype._onMouseUp=function e(){this._currentPath.setClosed(true);var t=this.context.editor;var r=t.getOutputTextureDimensions();this.getSharedState("brush").render(r);this._currentPath=null;this._drawing=false;t.history.add(this.getSharedState("operation"),this._optionsBeforeDraw,this._operationExistedBeforeDraw);document.removeEventListener("mousemove",this._onMouseMove);document.removeEventListener("touchmove",this._onMouseMove);document.removeEventListener("mouseup",this._onMouseUp);document.removeEventListener("touchend",this._onMouseUp)};t.prototype._onMouseEnter=function e(t){var r=this._getCursorPosition(t);this.setState({cursorVisible:true,cursorPosition:r});this._onMouseMove(t)};t.prototype._onMouseLeave=function e(){this.setState({cursorVisible:false})};t.prototype._onMouseMove=function e(t){var r=this.context.editor;var n=r.getOutputDimensions();var o=r.getOutputTextureDimensions();var i=r.zoom.get();var a=this._getCursorPosition(t);this.setState({cursorPosition:a});var s=void 0;if(!this._lastDrawPosition){s=true}else{var u=this.getSharedState("thickness");var l=this._lastDrawPosition.clone().subtract(a).abs().len()/i;s=l>=u/10}if(this._drawing&&s){this._currentPath.addControlPoint(a.clone().divide(n));this.getSharedState("brush").render(o);this._lastDrawPosition=a.clone()}};t.prototype._onMouseMoveOnCanvas=function e(t){var r=this._getCursorPosition(t);this.setState({cursorPosition:r})};t.prototype._getCursorStyle=function e(){var t=this.getSharedState("thickness");var r=this.getSharedState("color");var n=this.state.cursorPosition;return{left:n.x,top:n.y,width:t,height:t,background:r.toRGBA(),marginLeft:t*-.5,marginTop:t*-.5}};t.prototype._updateContainerRect=function e(){this._containerBoundingRect=this.refs.innerContainer.getBoundingClientRect()};t.prototype._getCursorPosition=function e(t){var r=d.Utils.getEventPosition(t);var n=this._containerBoundingRect;return r.subtract(n.left,n.top)};t.prototype._getContainerProps=function t(){var r=e.prototype._getContainerProps.call(this);r.onMouseDown=r.onTouchStart=this._onMouseDown;return r};
t.prototype._getInnerContainerProps=function t(){var r=e.prototype._getInnerContainerProps.call(this);delete r.onClick;r.onMouseEnter=this._onMouseEnter;r.onMouseLeave=this._onMouseLeave;r.onMouseMove=this._onMouseMoveOnCanvas;return r};t.prototype._renderOverlayControls=function e(){var t=this.state.cursorVisible?"is-visible":null;return d.ReactBEM.createElement("div",{bem:"$b:brushCanvasControls"},d.ReactBEM.createElement("div",{bem:"e:cursor",className:t,style:this._getCursorStyle()}))};return t}(p.default);t.default=v;v.contextTypes=p.default.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(4);var o=E(n);var i=r(0);var a=E(i);var s=r(3);var u=E(s);var l=r(2);var c=E(l);var d=r(1);var f=r(7);var p=E(f);var h=r(30);var v=E(h);var m=r(5);var _=E(m);var g=r(37);var y=E(g);var b=r(109);var x=E(b);function E(e){return e&&e.__esModule?e:{default:e}}var C=function(e){(0,c.default)(t,e);function t(){var r;(0,a.default)(this,t);for(var n=arguments.length,i=Array(n),s=0;s<n;s++){i[s]=arguments[s]}var l=(0,u.default)(this,e.call.apply(e,[this].concat(i)));l._hasDoneButton=false;l._brushOptions={thickness:l.getSharedState("thickness"),color:l.getSharedState("color").clone()};l._hasPresets=l.props.options.thicknessPresets&&l.props.options.thicknessPresets.length>0;l._hasSlider=!l._hasPresets;l._bindAll("_onThicknessUpdated","_onColorUpdated","_onOperationUpdated","_onOperationRemoved");l.state={thicknessControlsEnabled:false};l._events=(r={},(0,o.default)(r,d.Constants.EVENTS.OPERATION_UPDATED,l._onOperationUpdated),(0,o.default)(r,d.Constants.EVENTS.OPERATION_REMOVED,l._onOperationRemoved),r);return l}t.prototype.componentDidMount=function t(){e.prototype.componentDidMount.call(this);var r=this.context.editor;r.zoom.set("auto");r.features.disable("zoom","drag")};t.prototype._onThicknessClick=function e(t){this._onThicknessUpdated(t);this.forceUpdate()};t.prototype._onOperationRemoved=function e(t){if(t!==this.getSharedState("operation"))return;if(this._backButtonClicked)return;var r=this.context.editor;var n=r.operations.getOrCreate("sprite");var o=n.createBrush();n.addSprite(o);this.setSharedState({operation:n,brush:o,operationExistedBefore:false,initialOptions:{}});r.render()};t.prototype._onOperationUpdated=function e(t){var r=this;if(t===this.getSharedState("operation")){(function(){var e=r.getSharedState("brush");if(e){var n=t.getSprites().filter(function(t){return t.getId()===e.getId()})[0];r.setSharedState({brush:n})}t.setEnabled(true);r.context.editor.render(function(){t.setEnabled(false);r.context.editor.render()})})()}};t.prototype._onThicknessUpdated=function e(t){this.setSharedState({thickness:t});this._brushOptions.thickness=t};t.prototype._onColorUpdated=function e(t){this.setSharedState({color:t});this._brushOptions.color=t.clone()};t.prototype._renderThicknessItems=function e(){var t=this;var r=this.props.options.thicknessPresets;var n=Math.max.apply(null,r);return r.map(function(e){var r=t.getSharedState("thickness")===e;return d.ReactBEM.createElement(x.default,{thickness:e,maxThickness:n,active:r,key:e,onClick:t._onThicknessClick.bind(t,e)})})};t.prototype.renderControls=function e(){var t=this.context.editor;var r=t.zoom.get();var n=[];if(this._hasSlider){var o=t.getFinalDimensions();var i=1;var a=Math.round(o.clone().multiply(r).min()/2);var s=this._brushOptions.thickness;n.push(d.ReactBEM.createElement("div",{bem:"e:cell m:slider"},d.ReactBEM.createElement(v.default,{style:"large",minValue:i,maxValue:a,valueUnit:"px",middleDot:false,label:this._t("controls.brush.thickness"),onChange:this._onThicknessUpdated,value:s})))}else if(this._hasPresets){n.push(d.ReactBEM.createElement("div",{bem:"e:cell m:list"},d.ReactBEM.createElement(_.default,null,d.ReactBEM.createElement("ul",{bem:"$e:list"},this._renderThicknessItems()))))}n.push(d.ReactBEM.createElement("div",{bem:"e:cell m:colorPicker"},d.ReactBEM.createElement(y.default,{initialValue:this._brushOptions.color.clone(),onChange:this._onColorUpdated})));return n};return t}(p.default);t.default=C;C.contextTypes=p.default.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=m(n);var i=r(3);var a=m(i);var s=r(2);var u=m(s);var l=r(1);var c=r(8);var d=m(c);var f=r(107);var p=m(f);var h=r(106);var v=m(h);function m(e){return e&&e.__esModule?e:{default:e}}var _=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);return(0,a.default)(this,e.apply(this,arguments))}t.onExit=function e(){var t=this.context.editor;var r=this.getSharedState("operation");r.setEnabled(true);t.zoom.undo();t.features.enable("zoom","drag");t.render()};t.onEnter=function e(t,r){var n=this.context.editor;n.zoom.set("auto",function(){a.setEnabled(false);n.render()});var o=n.getOutputDimensions();var i=n.operations.exists("sprite");var a=n.operations.getOrCreate("sprite");var s=a.createBrush();var u=a.serializeOptions();a.addSprite(s);var c=Math.max(o.min()*.05,1);if(r.thicknessPresets&&r.thicknessPresets.length>0){c=r.thicknessPresets[0]}var d=new l.Color(1,0,0,1);var f=1;this.setSharedState({operationExistedBefore:i,operation:a,brush:s,initialOptions:u,thickness:c,color:d,hardness:f})};t.isAvailable=function e(t){return t.isToolEnabled("brush")};t.getPreloadAssets=function e(){return["controls/brush/thickness.png"]};return t}(d.default);_.controlsComponent=p.default;_.canvasControlsComponent=v.default;_.identifier="brush";_.iconPath="controls/overview/brush.png";_.languageKey="controls.overview.brush";_.defaultOptions={thicknessPresets:[]};t.default=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=c(n);var i=r(3);var a=c(i);var s=r(2);var u=c(s);var l=r(1);function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);return(0,a.default)(this,e.apply(this,arguments))}t.prototype.componentDidMount=function t(){e.prototype.componentDidMount.call(this);this._renderCanvas()};t.prototype.componentDidUpdate=function e(){this._renderCanvas()};t.prototype._renderCanvas=function e(){var t=this.refs.canvas;var r=t.getContext("2d");t.width=t.offsetWidth;t.height=t.offsetHeight;var n=this.props,o=n.maxThickness,i=n.thickness;var a=t.width*(i/o);var s=a/2;r.fillStyle="white";r.beginPath();r.arc(t.width/2,t.height/2,s,0,2*Math.PI);r.fill()};t.prototype.renderWithBEM=function e(){return l.ReactBEM.createElement("bem",{specifier:"$b:controls $e:list"},l.ReactBEM.createElement("li",{bem:"e:item",onClick:this.props.onClick},l.ReactBEM.createElement("bem",{specifier:"$b:controls"},l.ReactBEM.createElement("div",{bem:"$e:button m:withLabel",className:this.props.active?"is-active":null},l.ReactBEM.createElement("canvas",{bem:"e:canvas",ref:"canvas"}),l.ReactBEM.createElement("div",{bem:"e:label"},this.props.thickness)))))};return t}(l.BaseComponent);t.default=d;d.contextTypes=l.BaseComponent.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=h(n);var i=r(3);var a=h(i);var s=r(2);var u=h(s);var l=r(1);var c=r(11);var d=h(c);var f=r(20);var p=h(f);function h(e){return e&&e.__esModule?e:{default:e}}var v=new l.Vector2(50,50);var m=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._needsStyleFixes=true;s._bindAll("_onCenterDragStart","_onCenterDrag");s.state={dimensions:s.getSharedState("initialDimensions")};return s}t.prototype.fixStyles=function e(){if(l.Utils.Browser.isIElte(11)){var t=this.context.editor;var r=this.refs.container;var n=t.getCanvasDimensions(false);var o=n.y;r.style.height=o+"px"}};t.prototype.sharedStateDidChange=function e(t){if(t!==this.getSharedState("ratio")){this._updateDimensions()}};t.prototype._updateDimensions=function e(){var t=this.getSharedState("operation");var r=this.getSharedState("ratio")||{ratio:"*"};var n=void 0;if(r.dimensions){n=r.dimensions.clone()}else{var o=t.getInputDimensions();var i=this.getSharedState("start");var a=this.getSharedState("end");var s=a.clone().subtract(i);n=s.multiply(o).floor()}this.setState({dimensions:n})};t.prototype._onCenterDragStart=function e(){var t=this.getSharedState("start");var r=this.getSharedState("end");this._initialValues={start:t.clone(),end:r.clone(),size:r.clone().subtract(t)}};t.prototype._onCenterDrag=function e(t){var r=this.context.editor;var n=this._initialValues,o=n.start,i=n.size;var a=r.getOutputDimensions();var s=t.clone().divide(a);var u=new l.Vector2(0,0);var c=new l.Vector2(1,1).subtract(i);var d=o.clone().add(s).clamp(u,c);var f=d.clone().add(i);this.setSharedState({start:d,end:f})};t.prototype._onKnobDragStart=function e(t){this._currentDragOption=t;this._initialValues={start:this.getSharedState("start").clone(),end:this.getSharedState("end").clone()}};t.prototype._onKnobDrag=function e(t,r){var n=this.context.editor;var o=n.getOutputDimensions();var i=this.getSharedState("ratio")||{ratio:"*"},a=i.ratio,s=i.dimensions;if(s&&!a){a=s.x/s.y}var u=this._initialValues.end.clone().subtract(this._initialValues.start).multiply(o);var c=void 0;if(t==="start"){u.subtract(r);c=this._initialValues.end.clone().multiply(o)}else if(t==="end"){u.add(r);c=new l.Vector2(1,1).subtract(this._initialValues.start).multiply(o)}u.x=Math.min(Math.max(v.x,u.x),c.x);if(a!=="*"){u.y=u.x/a}u.y=Math.min(Math.max(v.y,u.y),c.y);if(a!=="*"){u.x=u.y*a}if(t==="start"){var d=this._initialValues.end.clone().subtract(u.clone().divide(o));this.setSharedState({start:d},false);this._updateDimensions()}else if(t==="end"){var f=this._initialValues.start.clone().add(u.clone().divide(o));this.setSharedState({end:f},false);this._updateDimensions()}};t.prototype._calculateDimensions=function e(){var t=this.context.editor;var r=this.getSharedState("start");var n=this.getSharedState("end");return n.clone().subtract(r).multiply(t.getInputDimensions()).round()};t.prototype._getAreaStyles=function e(){var t=this.context.editor;var r=t.getOutputDimensions();var n=t.getCanvasDimensions();var o=this.getSharedState("start").clone().multiply(r).floor();var i=this.getSharedState("end").clone().multiply(r).ceil();var a=i.clone().subtract(o);var s=n.clone().subtract(r).divide(2).floor();var u=t.getPadding();o.add(s).add(0,u[0]);return{topLeft:this._getDimensionsStyles(o.x,o.y),topCenter:this._getDimensionsStyles(a.x,o.y),centerLeft:this._getDimensionsStyles(o.x,a.y),center:this._getDimensionsStyles(a.x,a.y)}};t.prototype._getDimensionsStyles=function e(t,r){return{width:Math.max(1,t),height:Math.max(1,r)}};t.prototype.renderWithBEM=function e(){var t=this.getSharedState("ratio");var r=this.state.dimensions;var n=void 0;if(t){var o=this._getAreaStyles();n=l.ReactBEM.createElement("div",{bem:"$b:cropCanvasControls"},l.ReactBEM.createElement("div",{bem:"e:row"},l.ReactBEM.createElement("div",{bem:"e:cell m:dark",style:o.topLeft}," "),l.ReactBEM.createElement("div",{bem:"e:cell m:dark",style:o.topCenter}," "),l.ReactBEM.createElement("div",{bem:"e:cell m:dark"})),l.ReactBEM.createElement("div",{bem:"e:row"},l.ReactBEM.createElement("div",{bem:"e:cell m:dark",style:o.centerLeft}," "),l.ReactBEM.createElement(d.default,{onStart:this._onCenterDragStart,onDrag:this._onCenterDrag},l.ReactBEM.createElement("div",{bem:"e:cell m:bordered",style:o.center},l.ReactBEM.createElement(d.default,{onStart:this._onKnobDragStart.bind(this,"start"),onDrag:this._onKnobDrag.bind(this,"start")},l.ReactBEM.createElement("div",{bem:"e:knob m:topLeft $b:knob"},l.ReactBEM.createElement("img",{bem:"e:icon",src:this._getAssetPath("controls/knobs/resize-diagonal-down.png",true)}))),l.ReactBEM.createElement("div",{bem:"e:dimensions"},r.x+"x"+r.y),l.ReactBEM.createElement(d.default,{onStart:this._onKnobDragStart.bind(this,"end"),onDrag:this._onKnobDrag.bind(this,"end")},l.ReactBEM.createElement("div",{bem:"e:knob m:bottomRight $b:knob"},l.ReactBEM.createElement("img",{bem:"e:icon",src:this._getAssetPath("controls/knobs/resize-diagonal-down.png",true)}))))),l.ReactBEM.createElement("div",{bem:"e:cell m:dark"}," ")),l.ReactBEM.createElement("div",{bem:"e:row"},l.ReactBEM.createElement("div",{bem:"e:cell m:dark"}," "),l.ReactBEM.createElement("div",{bem:"e:cell m:dark"}," "),l.ReactBEM.createElement("div",{bem:"e:cell m:dark"}," ")))}else{n=l.ReactBEM.createElement("div",{bem:"$b:cropCanvasControls"},l.ReactBEM.createElement("div",{bem:"e:dimensions"},r.x+"x"+r.y))}return l.ReactBEM.createElement("div",{bem:"b:canvasControls e:container m:full",ref:"container"},n)};return t}(p.default);t.default=m;m.contextTypes=p.default.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(4);var o=g(n);var i=r(0);var a=g(i);var s=r(3);var u=g(s);var l=r(2);var c=g(l);var d=r(1);var f=r(7);var p=g(f);var h=r(5);var v=g(h);var m=r(12);var _=g(m);function g(e){return e&&e.__esModule?e:{default:e}}var y=function(e){(0,c.default)(t,e);function t(){(0,a.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,u.default)(this,e.call.apply(e,[this].concat(n)));s._bindAll("_selectRatio","_onRotationChange","_reapplyRatio");s.state={ratio:null};s._ratios=s.constructor.getRatios(s.props.options);s._events=(0,o.default)({},d.Constants.EVENTS.CROP_REAPPLY_RATIO,s._reapplyRatio);s._selectInitialRatio(!s.getSharedState("cropOperationExistedBefore"));return s}t.getRatios=function e(t){var r=t.ratios,n=t.replaceRatios,o=t.selectableRatios;r=r||[];var i=void 0;i=d.Constants.DEFAULTS.CROP_RATIOS;if(n){i=r}else{i=i.concat(r)}if(o&&o.length){i=d.Utils.select(i,o,function(e){return e.name})}return i};t.prototype.shouldSharedComponentUpdate=function e(t,r){return t.ratio!==r.ratio};t.prototype._onRotationChange=function e(t){var r=this.context.editor;t=t*Math.PI/180;r.setRotation(t);this._updateSpriteScale();r.render();this.setSharedState({rotation:t})};t.prototype._updateSpriteScale=function e(){var t=this.context.editor;var r=this._getRotatedSpriteDimensions();var n=t.getOutputDimensions(false);var o=n.clone().multiply(.5);o.subtract(r.clone().divide(2));o.abs();var i=1;if(o.y>o.x){i=o.y*2/n.y+1}else{i=o.x*2/n.x+1}t.setSpriteScale(i)};t.prototype._getRotatedSpriteDimensions=function e(){var t=this.context.editor;var r=t.getRotation();var n=t.getOutputDimensions(false);return new d.Vector2(Math.abs(n.x*Math.cos(r))+Math.abs(n.y*Math.sin(r)),Math.abs(n.x*Math.sin(r))+Math.abs(n.y*Math.cos(r)))};t.prototype._calculateTextureScale=function e(){var t=this.getSharedState("operation");var r=this.getSharedState("ratio");if(!r.dimensions){return 1}var n=this.getSharedState("start");var o=this.getSharedState("end");var i=o.clone().subtract(n);var a=t.getInputDimensions().multiply(i);return r.dimensions.x/a.x};t.prototype._getHistoryItems=function e(){var t=[];var r=this._getCropHistoryItem();if(r){t.push(r)}var n=this._getOrientationHistoryItem();if(n){t.push(n)}return t};t.prototype._getCropHistoryItem=function e(){var t=this.context.editor;var r=this.getSharedState("operation");var n=this.getSharedState("initialCropOptions");var o=this.getSharedState("cropOperationExistedBefore");if(!r.optionsEqual(n)){return{operation:r,options:n,existent:o,undo:function e(r,n){t.broadcastCrop(r,n)}}}};t.prototype._getOrientationHistoryItem=function e(){var t=this.context.editor;var r=this.getSharedState("orientationOperation");var n=this.getSharedState("initialOrientationOptions");var o=this.getSharedState("orientationOperationExistedBefore");if(!r.optionsEqual(n)){return{operation:r,options:n,existent:o,undo:function e(r,n){if(r.getRotation()!==n.rotation){t.broadcastRotate(n.rotation-r.getRotation())}var o=n.rotation;var i=o===90||o===270;if(r.getFlipVertically()!==n.flipVertically){t.broadcastFlip(i?"horizontal":"vertical")}else if(r.getFlipHorizontally()!==n.flipHorizontally){t.broadcastFlip(i?"vertical":"horizontal")}}}}};t.prototype._reapplyRatio=function e(){var t=this.getSharedState("ratio");this._selectRatio(t)};t.prototype._onBackClick=function t(r){var n=this.context.editor;var o=this.getSharedState("ratio");var i=this.getSharedState("operation");var a=this.getSharedState("orientationOperation");var s=n.getRotation();var u=this.getSharedState("start");var l=this.getSharedState("end");if((o===null||u.equals(0,0)&&l.equals(1,1))&&s===0){n.operations.remove(i)}else{var c=this._calculateTextureScale();var d={rotation:s,scale:n.getSpriteScale(),start:u,end:l,textureScale:c,enabled:true};n.broadcastCrop(i,d);i.set(d)}if(a.getRotation()===0&&!a.getFlipVertically()&&!a.getFlipHorizontally()){n.operations.remove(a)}n.setPadding(false);n.setRotation(0);n.setSpriteScale(1);var f=this._getHistoryItems();if(f.length){n.history.add(f)}n.features.enable("zoom","drag");n.zoom.undo();e.prototype._onBackClick.call(this,r)};t.prototype._selectInitialRatio=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:true;var r=this.getSharedState("operation");var n=null;var o=d.SDKUtils.flatten(this._ratios);var i=r._ratio;if(i){var a=o.filter(function(e){return e===i});n=a[0]}if(!n){var s=o.filter(function(e){return e.selected});n=s.pop()}if(!n){n=o[0]}return this._selectRatio(n,t,false)};t.prototype._selectRatio=function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;var o=this.getSharedState("operation");if(r&&t){this._setDefaultOptionsForRatio(t,n)}o._ratio=t;this.setSharedState({ratio:t},n)};t.prototype._setDefaultOptionsForRatio=function e(t){var r=t.ratio,n=t.name,o=t.dimensions;var i=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var a=this.context.editor;var s=new d.Vector2;var u=new d.Vector2;if(o&&!r){r=o.x/o.y}if(r==="*"){s=new d.Vector2(0,0);u=new d.Vector2(1,1)}else{var l=a.getOutputDimensions();var c=l.x/l.y;if(c<=r){var f=1/l.y*(l.x/r);s.set(0,(1-f)/2);u.set(1,1-s.y)}else{var p=1/l.x*(r*l.y);s.set((1-p)/2,0);u.set(1-s.x,1)}}this.setSharedState({start:s,end:u},i)};t.prototype.renderOverlayControls=function e(){var t=this.getSharedState("rotation")*180/Math.PI;return d.ReactBEM.createElement(_.default,{value:t,minValue:-45,middleDot:true,maxValue:45,valueUnit:"°",label:this._t("controls.crop.rotation"),onChange:this._onRotationChange})};t.prototype._renderListItems=function e(){var t=this;var r=[];var n=function e(r){return d.ReactBEM.createElement("li",{bem:"e:item",key:r.name,"data-identifier":r.name},d.ReactBEM.createElement("bem",{specifier:"$b:controls"},d.ReactBEM.createElement("div",{bem:"$e:button m:withLabel",className:t.getSharedState("ratio")===r?"is-active":null,onClick:t._selectRatio.bind(t,r)},d.ReactBEM.createElement("img",{bem:"e:icon",src:t._getAssetPath("controls/crop/"+r.name+".png",true)}),d.ReactBEM.createElement("div",{bem:"e:label"},t._t("controls.crop."+r.name)))))};this._ratios.forEach(function(e){if(Array.isArray(e)){(function(){var t=e;var o=[];t.forEach(function(e){o.push(n(e))});if(o.length){r.push(o)}})()}else{var t=e;r.push(n(t))}});var o=[];r.forEach(function(e){o=o.concat(e);if(Array.isArray(e)&&e!==r[r.length-1]){o.push(d.ReactBEM.createElement("li",{bem:"e:separator"}))}});var i=d.ReactBEM.createElement("li",{bem:"e:item","data-identifier":"none",key:"noCrop"},d.ReactBEM.createElement("bem",{specifier:"$b:controls"},d.ReactBEM.createElement("div",{bem:"$e:button m:withLabel",className:!this.getSharedState("ratio")?"is-active":null,onClick:this._selectRatio.bind(this,null)},d.ReactBEM.createElement("img",{bem:"e:icon",src:this._getAssetPath("controls/crop/none.png",true)}),d.ReactBEM.createElement("div",{bem:"e:label"},this._t("controls.crop.none")))));return[i,d.ReactBEM.createElement("li",{bem:"e:separator"})].concat(o)};t.prototype.renderControls=function e(){var t=this._renderListItems();return d.ReactBEM.createElement("div",{bem:"e:cell m:list"},d.ReactBEM.createElement(v.default,null,d.ReactBEM.createElement("ul",{bem:"$e:list"},t)))};return t}(p.default);t.default=y;y.contextTypes=p.default.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(4);var o=h(n);var i=r(0);var a=h(i);var s=r(3);var u=h(s);var l=r(2);var c=h(l);var d=r(1);var f=r(32);var p=h(f);function h(e){return e&&e.__esModule?e:{default:e}}var v=function(e){(0,c.default)(t,e);function t(){(0,a.default)(this,t);return(0,u.default)(this,e.apply(this,arguments))}t.prototype._onRotateClick=function e(t){var r=void 0;if(t==="cw"){r=90}else if(t==="ccw"){r=-90}var n=this.context.editor;var o=this.getSharedState("orientationOperation");var i=(o.getRotation()+r)%360;o.set({rotation:i});var a={orientationRotation:i};var s=this.getSharedState("ratio");if(!s.dimensions){var u=this.getSharedState("start");var l=this.getSharedState("end");var c=u.clone();if(t==="cw"){u.set(1-l.y,c.x);l.set(1-c.y,l.x)}else if(t==="ccw"){u.set(c.y,1-l.x);l.set(l.y,1-c.x)}a.start=u;a.end=l}if(s.dimensions){this._emitEvent(d.Constants.EVENTS.CROP_REAPPLY_RATIO)}this.setSharedState(a);n.broadcastRotate(r);n.zoom.set("auto")};t.prototype._onFlipClick=function e(t){var r;var n=this.context.editor;var i=this.getSharedState("orientationOperation");var a=!this.getSharedState("flip"+t);var s=this.getSharedState("rotation")*-1;this.setSharedState((r={},(0,o.default)(r,"flip"+t,a),(0,o.default)(r,"rotation",s),r));n.setRotation(s);i.flip(t);var u=this.getSharedState("start");var l=this.getSharedState("end");var c=u.clone();if(t==="horizontal"){u.set(1-l.x,u.y);l.set(1-c.x,l.y)}else if(t==="vertical"){u.set(u.x,1-l.y);l.set(l.x,1-c.y)}this.setSharedState({start:u,end:l});n.broadcastFlip(t);n.render()};t.prototype.shouldSharedComponentUpdate=function e(t,r){return false};t.prototype.renderContent=function e(){return d.ReactBEM.createElement("bem",{specifier:"$b:topBar"},d.ReactBEM.createElement("div",{bem:"$e:iconButton",onClick:this._onFlipClick.bind(this,"vertical")},d.ReactBEM.createElement("img",{bem:"e:icon",src:this._getAssetPath("controls/crop/flip-v.png",true)})),d.ReactBEM.createElement("div",{bem:"$e:iconButton",onClick:this._onFlipClick.bind(this,"horizontal")},d.ReactBEM.createElement("img",{bem:"e:icon",src:this._getAssetPath("controls/crop/flip-h.png",true)})),d.ReactBEM.createElement("div",{bem:"e:space"}),d.ReactBEM.createElement("div",{bem:"$e:iconButton",onClick:this._onRotateClick.bind(this,"ccw")},d.ReactBEM.createElement("img",{bem:"e:icon",src:this._getAssetPath("controls/crop/rotate-ccw.png",true)})),d.ReactBEM.createElement("div",{bem:"$e:iconButton",onClick:this._onRotateClick.bind(this,"cw")},d.ReactBEM.createElement("img",{bem:"e:icon",src:this._getAssetPath("controls/crop/rotate-cw.png",true)})))};return t}(p.default);t.default=v;v.contextTypes=p.default.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=g(n);var i=r(3);var a=g(i);var s=r(2);var u=g(s);var l=r(1);var c=r(8);var d=g(c);var f=r(111);var p=g(f);var h=r(110);var v=g(h);var m=r(112);var _=g(m);function g(e){return e&&e.__esModule?e:{default:e}}var y=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);return(0,a.default)(this,e.apply(this,arguments))}t.onEnter=function e(t){var r=this.context.editor;var n=r.operations.exists("crop");var o=r.operations.getOrCreate("crop");o.setEnabled(false,false);var i=r.operations.exists("orientation");var a=r.operations.getOrCreate("orientation");var s={end:new l.Vector2(1,1),rotation:0,start:new l.Vector2(0,0),scale:1,textureScale:1};var u=o.getInputDimensions();var c=o.getNewDimensions(u);var d=s;if(n){d=o.serializeOptions();delete d.enabled}r.broadcastCrop(o,s);o.set(s,n);var f=a.serializeOptions();delete f.enabled;r.setSpriteScale(d.scale);r.setRotation(d.rotation);r.setPadding([10,0,58+10,0]);r.zoom.set("auto",function(){r.features.disable("zoom","drag")},false);this.setSharedState({initialCropOptions:d,initialOrientationOptions:f,operation:o,orientationOperation:a,orientationOperationExistedBefore:i,cropOperationExistedBefore:n,start:l.Vector2.fromObject(d.start),end:l.Vector2.fromObject(d.end),rotation:d.rotation,orientationRotation:a.getRotation(),flipVertically:a.getFlipVertically(),flipHorizontally:a.getFlipHorizontally(),initialDimensions:c})};t.isAvailable=function e(t){return t.isToolEnabled("crop")};t.getPreloadAssets=function e(t){var r=t.getOptions();var n=l.SDKUtils.defaults(r.editor.controlsOptions.crop,this.defaultOptions);var o=["controls/crop/rotate-ccw.png","controls/crop/rotate-cw.png","controls/crop/flip-h.png","controls/crop/flip-v.png"];var i=p.default.getRatios(n);i.forEach(function(e){if(Array.isArray(e)){e.forEach(function(e){var t=e.name;o.push("controls/crop/"+t+".png")})}else{o.push("controls/crop/"+e.name+".png")}});return o};return t}(d.default);y.topBarControlsComponent=_.default;y.controlsComponent=p.default;y.canvasControlsComponent=v.default;y.identifier="crop";y.iconPath="controls/overview/crop.png";y.languageKey="controls.overview.crop";y.defaultOptions={};t.default=y},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(4);var o=E(n);var i=r(0);var a=E(i);var s=r(3);var u=E(s);var l=r(2);var c=E(l);var d=r(1);var f=r(7);var p=E(f);var h=r(5);var v=E(h);var m=r(62);var _=E(m);var g=r(12);var y=E(g);var b=r(42);var x=E(b);function E(e){return e&&e.__esModule?e:{default:e}}var C=function(e){(0,c.default)(t,e);function t(){(0,a.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,u.default)(this,e.call.apply(e,[this].concat(n)));s._bindAll("_onItemClick","_onOperationUpdated","_onSliderValueChange","_onCategoryChange");s._operation=s.getSharedState("operation");s._events=(0,o.default)({},d.Constants.EVENTS.OPERATION_UPDATED,s._onOperationUpdated);s._initFilterManager();s.state={category:"all"};return s}t.prototype._initFilterManager=function e(){this._filterManager=new x.default(this.props.options)};t.prototype._onSliderValueChange=function e(t){this._operation.setIntensity(t/100);var r=this.context.editor;r.render()};t.prototype._onCategoryChange=function e(t){var r=this;this.setState({category:t.name},function(){r.refs.scrollbar.update()})};t.prototype._onOperationUpdated=function e(t){if(t===this._operation){this.forceUpdate()}};t.prototype._onItemClick=function e(t,r){this._operation.set({filter:new t({intensity:1}),intensity:1});var n=this.context.editor;n.render();this.forceUpdate()};t.prototype.renderOverlayControls=function e(){var t=this._operation.getFilter();if(t.isIdentity)return null;var r=this._operation.getIntensity();return d.ReactBEM.createElement(y.default,{minValue:0,maxValue:100,value:r*100,valueUnit:"%",positiveValuePrefix:"+",label:this._t("controls.filters.intensity"),onChange:this._onSliderValueChange})};t.prototype._renderListItems=function e(){var t=this;var r=this._operation.getFilter();var n=this._filterManager.getFiltersForCategory(this.state.category);return[d.SDK.Filters.IdentityFilter].concat(n).map(function(e){var n=e.identifier;return d.ReactBEM.createElement("li",{bem:"e:item",key:n,onClick:t._onItemClick.bind(t,e)},d.ReactBEM.createElement("bem",{specifier:"$b:controls"},d.ReactBEM.createElement("div",{bem:"$e:button m:withInlineLabel"},d.ReactBEM.createElement("img",{bem:"e:icon",src:t._getAssetPath("controls/filters/"+n+".png",true)}),d.ReactBEM.createElement("div",{bem:"$e:inlineLabel",className:r instanceof e?"is-active":null},d.ReactBEM.createElement("div",{bem:"e:label"},e.displayName)))))})};t.prototype._renderCategoryDropdown=function e(){var t=this;var r=this._filterManager.getCategories();var n=!this.props.options.hideCategories&&r.length>1;if(!n){return null}var o=r.map(function(e){return{name:e.name,label:t._t("controls.filters.categories."+e.name),icon:t._getAssetPath("controls/filters/categories/"+e.name+".png",true)}});var i={name:this.state.category,label:this._t("controls.filters.categories."+this.state.category),icon:this._getAssetPath("controls/filters/categories/"+this.state.category+".png",true)};return d.ReactBEM.createElement("div",{bem:"e:cell m:categoryDropdown"},d.ReactBEM.createElement(_.default,{items:o,selectedItem:i,onChange:this._onCategoryChange}))};t.prototype.renderControls=function e(){var t=this._renderListItems();var r=this._renderCategoryDropdown();return[r,d.ReactBEM.createElement("div",{bem:"e:cell m:list"},d.ReactBEM.createElement(v.default,{ref:"scrollbar"},d.ReactBEM.createElement("ul",{bem:"$e:list"},t)))]};return t}(p.default);t.default=C;C.contextTypes=p.default.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=m(n);var i=r(3);var a=m(i);var s=r(2);var u=m(s);var l=r(1);var c=r(8);var d=m(c);var f=r(114);var p=m(f);var h=r(42);var v=m(h);function m(e){return e&&e.__esModule?e:{default:e}}var _=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);return(0,a.default)(this,e.apply(this,arguments))}t.onEnter=function e(t){var r=this.context.editor;var n=r.operations.exists("filter");var o=r.operations.getOrCreate("filter");var i=o.serializeOptions(["filter","intensity"]);this.setSharedState({operation:o,operationExistedBefore:n,initialOptions:i})};t.onExit=function e(){var t=this.getSharedState("initialOptions");var r=this._operation.getFilter().constructor;var n=t.filter.constructor;var o=this._operation.getIntensity();if(r!==t.filter.constructor||o!==t.intensity){var i=this.context.editor;i.history.add(this._operation,{filter:new n,intensity:o},this.getSharedState("operationExistedBefore"))}if(r.isIdentity){var a=this.context.editor;a.operations.remove(this._operation)}};t.isAvailable=function e(t){return t.isToolEnabled(this.identifier)};t.getPreloadAssets=function e(t){var r=t.getOptions();var n=l.SDKUtils.defaults(r.editor.controlsOptions.filter,this.defaultOptions);var o=new v.default(n);var i=[];var a=o.getCategories();a.forEach(function(e){i.push("controls/filters/categories/"+e.name+".png");var t=o.getFiltersForCategory(e.name);t.forEach(function(e){i.push("controls/filters/"+e.identifier+".png")})});return i};return t}(d.default);_.controlsComponent=p.default;_.identifier="filter";_.iconPath="controls/overview/filters.png";_.languageKey="controls.overview.filters";_.defaultOptions={categories:[],replaceCategories:false,selectableFilters:null,hideCategories:false};t.default=_},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=m(n);var i=r(3);var a=m(i);var s=r(2);var u=m(s);var l=r(1);var c=r(20);var d=m(c);var f=r(119);var p=m(f);var h=r(120);var v=m(h);function m(e){return e&&e.__esModule?e:{default:e}}var _=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);return(0,a.default)(this,e.apply(this,arguments))}t.prototype._getControlsForOperation=function e(t){if(!t)return null;switch(t.constructor.identifier){case"linear-focus":return p.default;case"radial-focus":return v.default}};t.prototype.renderWithBEM=function e(){var t=this.getSharedState("operation");var r=this._getControlsForOperation(t);if(!r)return l.ReactBEM.createElement("div",null);return l.ReactBEM.createElement(r,this.props)};return t}(d.default);t.default=_;_.contextTypes=d.default.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(4);var o=g(n);var i=r(0);var a=g(i);var s=r(3);var u=g(s);var l=r(2);var c=g(l);var d=r(1);var f=r(7);var p=g(f);var h=r(5);var v=g(h);var m=r(12);var _=g(m);function g(e){return e&&e.__esModule?e:{default:e}}var y=[{toolName:"radial-focus",iconName:"radial",languageKey:"controls.focus.radial"},{toolName:"linear-focus",iconName:"linear",languageKey:"controls.focus.linear"}];var b=function(e){(0,c.default)(t,e);function t(){(0,a.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,u.default)(this,e.call.apply(e,[this].concat(n)));s._bindAll("_onBlurRadiusChange","_onOperationRemoved");
s._removedOperation=null;s._events=(0,o.default)({},d.Constants.EVENTS.OPERATION_REMOVED,s._onOperationRemoved);return s}t.prototype._onBlurRadiusChange=function e(t){var r=this.getSharedState("operation");var n=this.getSharedState("inputDimensions");r.setBlurRadius(t/n.min());var o=this.context.editor;o.render()};t.prototype._onButtonClick=function e(t,r){var n=this.context.editor;var o=this.getSharedState("operation");if(o){this._removedOperation=o;n.operations.remove(o)}var i=null;if(t){i=n.operations.getOrCreate(t)}this.setSharedState({operation:i});n.render()};t.prototype._onOperationRemoved=function e(t){var r=this.getSharedState("operation");if(!r||t!==r||t===this._removedOperation)return;if(this._backButtonClicked)return;var n=this.context.editor;var o=r.constructor.identifier;var i=n.operations.getOrCreate(o);this.setSharedState({operation:i,operationExistedBefore:false,initialOptions:{}})};t.prototype.renderOverlayControls=function e(){var t=this.getSharedState("operation");if(!t)return null;var r=this.getSharedState("inputDimensions");var n=r.min();var o=t.getBlurRadius()*n;return d.ReactBEM.createElement(_.default,{minValue:0,maxValue:Math.min(180,Math.round(n*.1)),valueUnit:"px",middleDot:false,label:this._t("controls.focus.blurRadius"),onChange:this._onBlurRadiusChange,value:o})};t.prototype._renderListItems=function e(){var t=this;var r=this.getSharedState("operation");var n=this.context.editor;var o=d.ReactBEM.createElement("li",{bem:"e:item",key:"none"},d.ReactBEM.createElement("bem",{specifier:"$b:controls"},d.ReactBEM.createElement("div",{bem:"$e:button m:withLabel",className:!r?"is-active":null,onClick:this._onButtonClick.bind(this,null)},d.ReactBEM.createElement("img",{bem:"e:icon",src:this._getAssetPath("controls/focus/none.png",true)}),d.ReactBEM.createElement("div",{bem:"e:label"},this._t("controls.focus.none")))));return[o].concat(y.filter(function(e){var t=e.toolName;return n.isToolEnabled(t)}).map(function(e){var n=e.toolName,o=e.iconName,i=e.languageKey;var a=r&&r.constructor.identifier===n;return d.ReactBEM.createElement("li",{bem:"e:item","data-identifier":n,key:n},d.ReactBEM.createElement("bem",{specifier:"$b:controls"},d.ReactBEM.createElement("div",{bem:"$e:button m:withLabel",className:a?"is-active":null,onClick:t._onButtonClick.bind(t,n)},d.ReactBEM.createElement("img",{bem:"e:icon",src:t._getAssetPath("controls/focus/"+o+".png",true)}),d.ReactBEM.createElement("div",{bem:"e:label"},t._t(i)))))}))};t.prototype.renderControls=function e(){var t=this._renderListItems();return d.ReactBEM.createElement("div",{bem:"e:cell m:list"},d.ReactBEM.createElement(v.default,null,d.ReactBEM.createElement("ul",{bem:"$e:list"},t)))};return t}(p.default);t.default=b;b.contextTypes=p.default.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=v(n);var i=r(3);var a=v(i);var s=r(2);var u=v(s);var l=r(8);var c=v(l);var d=r(117);var f=v(d);var p=r(116);var h=v(p);function v(e){return e&&e.__esModule?e:{default:e}}var m=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);return(0,a.default)(this,e.apply(this,arguments))}t.isAvailable=function e(t){return t.isToolEnabled("radial-focus")||t.isToolEnabled("linear-focus")};t.onExit=function e(){var t=this.context.editor;t.features.enable("zoom","drag");var r=this.getSharedState("initialOptions");var n=this.getSharedState("initialOperation");var o=this.getSharedState("operation");if(!o&&n||o&&n&&o.constructor===n.constructor){t.history.add(n,r,true)}if(o&&!n){t.history.add(o,{},false)}if(o&&n&&o.constructor!==n.constructor){t.history.add([{operation:n,options:r,existent:true},{operation:o,options:{},existent:false}])}};t.onEnter=function e(t){var r=this.context.editor;var n=r.operations.get("linear-focus")||r.operations.get("radial-focus");var o={};if(n){o=n.serializeOptions();delete o.enabled}this.setSharedState({operation:n,initialOperation:n,operationExistedBefore:!!n,initialOptions:o,inputDimensions:r.getOutputDimensions()})};t.getPreloadAssets=function e(t){var r=[];if(t.isToolEnabled("radial-focus")){r.push("controls/focus/radial.png")}if(t.isToolEnabled("linear-focus")){r.push("controls/focus/linear.png")}return r};return t}(c.default);m.controlsComponent=f.default;m.canvasControlsComponent=h.default;m.identifier="focus";m.iconPath="controls/overview/focus.png";m.languageKey="controls.overview.focus";m.defaultOptions={};t.default=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(4);var o=m(n);var i=r(0);var a=m(i);var s=r(3);var u=m(s);var l=r(2);var c=m(l);var d=r(1);var f=r(11);var p=m(f);var h=r(20);var v=m(h);function m(e){return e&&e.__esModule?e:{default:e}}var _=function(e){(0,c.default)(t,e);function t(){(0,a.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,u.default)(this,e.call.apply(e,[this].concat(n)));s._bindAll("_onCenterDragStart","_onCenterDrag","_onKnobDragStart","_onKnobDrag","_onOperationUpdated");s.state={areaPosition:new d.Vector2,areaDimensions:new d.Vector2,knobPosition:new d.Vector2};s._operation=s.getSharedState("operation");s._events=(0,o.default)({},d.Constants.EVENTS.OPERATION_UPDATED,s._onOperationUpdated);return s}t.prototype._onCanvasZoomDone=function e(){this._setStylesFromOptions()};t.prototype._onOperationUpdated=function e(t){if(t!==this.getSharedState("operation"))return;this._setStylesFromOptions()};t.prototype.sharedStateDidChange=function e(t){if(t.operation){this._operation=t.operation;if(this._operation.constructor.identifier==="linear-focus")this._setStylesFromOptions()}};t.prototype.componentDidMount=function t(){var r=this;e.prototype.componentDidMount.call(this);var n=this.context.editor;n.zoom.set("auto",function(){n.features.disable("zoom","drag");r._setStylesFromOptions()})};t.prototype._onCenterDragStart=function e(){this._initialStart=this._operation.getStart();this._initialEnd=this._operation.getEnd();this._initialDist=this._initialEnd.clone().subtract(this._initialStart)};t.prototype._onCenterDrag=function e(t){var r=this.context.editor;var n=r.getOutputDimensions();var o=t.clone().divide(n);var i=this._initialStart.clone().add(o).clamp(new d.Vector2(0,0),new d.Vector2(1,1).subtract(this._initialDist));var a=i.clone().add(this._initialDist);this._operation.set({start:i,end:a});r.render();this._setStylesFromOptions();this.forceUpdate()};t.prototype._onKnobDragStart=function e(t){this._initialKnobPosition=this.state.knobPosition.clone()};t.prototype._onKnobDrag=function e(t){var r=this.context.editor;var n=r.getOutputDimensions();var o=this._initialKnobPosition.clone().add(t).clamp(new d.Vector2(0,0),n);var i=o.clone().subtract(this.state.areaPosition);var a=this.state.areaPosition.clone().add(-i.y,i.x).divide(n);var s=this.state.areaPosition.clone().add(i.y,-i.x).divide(n);var u=i.len()*2;this._operation.set({start:a,end:s,size:u/n.min(),gradientSize:u/n.min()});this.setState({knobPosition:o,areaDimensions:new d.Vector2(this.state.areaDimensions.x,u)});r.render()};t.prototype._getAreaStyle=function e(){var t=this.state.knobPosition.clone().subtract(this.state.areaPosition);var r=Math.atan2(t.x,t.y)*(180/Math.PI);var n="rotate("+(-r).toFixed(2)+"deg)";return{width:this.state.areaDimensions.x,height:this.state.areaDimensions.y,left:this.state.areaPosition.x,top:this.state.areaPosition.y,marginLeft:this.state.areaDimensions.x*-.5,marginTop:this.state.areaDimensions.y*-.5,transform:n,MozTransform:n,msTransform:n,WebkitTransform:n}};t.prototype._getKnobStyle=function e(){return{left:this.state.knobPosition.x,top:this.state.knobPosition.y}};t.prototype._setStylesFromOptions=function e(){var t=this.context.editor;var r=t.getOutputDimensions();var n=this._operation.getStart().clone().multiply(r);var o=this._operation.getEnd().clone().multiply(r);var i=this._operation.getSize()*r.min();var a=o.clone().subtract(n);var s=n.clone().add(a.clone().divide(2));var u=new d.Vector2(r.len()*2,i);var l=a.len();var c=a.clone().divide(l).divide(2);this.setState({areaDimensions:u,areaPosition:s.clone(),knobPosition:s.clone().add(-i*c.y,i*c.x)})};t.prototype._getContainerStyle=function e(){var t=this.context.editor.getSDK().getSprite().getBounds(),r=t.x,n=t.y,o=t.width,i=t.height;return{left:r,top:n,width:o,height:i}};t.prototype.renderWithBEM=function e(){return d.ReactBEM.createElement("div",{bem:"b:canvasControls e:container m:full",ref:"container",style:this._getContainerStyle()},d.ReactBEM.createElement("div",{bem:"$b:linearFocusCanvasControls"},d.ReactBEM.createElement(p.default,{onStart:this._onCenterDragStart,onDrag:this._onCenterDrag},d.ReactBEM.createElement("div",{bem:"e:area",style:this._getAreaStyle()})),d.ReactBEM.createElement(p.default,{onStart:this._onKnobDragStart,onDrag:this._onKnobDrag},d.ReactBEM.createElement("div",{bem:"e:knob $b:knob",style:this._getKnobStyle()}))))};return t}(v.default);t.default=_;_.contextTypes=v.default.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(4);var o=m(n);var i=r(0);var a=m(i);var s=r(3);var u=m(s);var l=r(2);var c=m(l);var d=r(1);var f=r(11);var p=m(f);var h=r(20);var v=m(h);function m(e){return e&&e.__esModule?e:{default:e}}var _=function(e){(0,c.default)(t,e);function t(){(0,a.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,u.default)(this,e.call.apply(e,[this].concat(n)));s._bindAll("_onCenterDragStart","_onCenterDrag","_onKnobDragStart","_onKnobDrag","_onOperationUpdated");s.state={areaPosition:new d.Vector2,areaDimensions:new d.Vector2,knobPosition:new d.Vector2};s._knobChangedManually=false;s._operation=s.getSharedState("operation");s._events=(0,o.default)({},d.Constants.EVENTS.OPERATION_UPDATED,s._onOperationUpdated);return s}t.prototype._onCanvasZoomDone=function e(){this._setStylesFromOptions()};t.prototype._onOperationUpdated=function e(t){if(t!==this.getSharedState("operation"))return;this._knobChangedManually=false;this._setStylesFromOptions()};t.prototype.sharedStateDidChange=function e(t){if(t.operation){this._operation=t.operation;if(this._operation.constructor.identifier==="radial-focus")this._setStylesFromOptions()}};t.prototype.componentDidMount=function t(){var r=this;e.prototype.componentDidMount.call(this);var n=this.context.editor;n.zoom.set("auto",function(){n.features.disable("zoom","drag");r._setStylesFromOptions()})};t.prototype._onCenterDragStart=function e(){this._initialPosition=this._operation.getPosition();this._initialKnobPosition=this.state.knobPosition.clone()};t.prototype._onCenterDrag=function e(t){var r=this.context.editor;var n=r.getOutputDimensions();var o=t.clone().divide(n);var i=this._initialPosition.clone().add(o);var a=this._initialKnobPosition.clone().add(t);this._operation.set({position:i});this.state.knobPosition=a;r.render();this._setStylesFromOptions()};t.prototype._onKnobDragStart=function e(t){this._knobChangedManually=true;this._initialKnobPosition=this.state.knobPosition.clone()};t.prototype._onKnobDrag=function e(t){var r=this.context.editor;var n=r.getOutputDimensions();var o=this._initialKnobPosition.clone().add(t).clamp(new d.Vector2(0,0),n);var i=this._operation.getPosition().clone().multiply(n);var a=o.clone().subtract(i).abs().len();var s=a/2;this.setState({knobPosition:o,areaDimensions:new d.Vector2(a*2,a*2)});this._operation.set({radius:a/n.min(),gradientRadius:s/n.min()});r.render()};t.prototype._getAreaStyle=function e(){return{width:this.state.areaDimensions.x,height:this.state.areaDimensions.y,left:this.state.areaPosition.x,top:this.state.areaPosition.y,marginLeft:this.state.areaDimensions.x*-.5,marginTop:this.state.areaDimensions.y*-.5}};t.prototype._getKnobStyle=function e(){return{left:this.state.knobPosition.x,top:this.state.knobPosition.y}};t.prototype._setStylesFromOptions=function e(){var t=this.context.editor;var r=t.getOutputDimensions();var n=this._operation.getPosition().clone().multiply(r);var o=this._operation.getRadius()*r.min();var i=o*2;var a=new d.Vector2(i,i);var s={areaDimensions:a,areaPosition:n};if(!this._knobChangedManually){s.knobPosition=n.clone().add(o,0)}this.setState(s)};t.prototype._getContainerStyle=function e(){var t=this.context.editor;var r=t.getSDK().getSprite().getBounds(),n=r.x,o=r.y,i=r.width,a=r.height;return{left:n,top:o,width:i,height:a}};t.prototype.renderWithBEM=function e(){return d.ReactBEM.createElement("div",{bem:"b:canvasControls e:container m:full",ref:"container",style:this._getContainerStyle()},d.ReactBEM.createElement("div",{bem:"$b:radialFocusCanvasControls"},d.ReactBEM.createElement(p.default,{onStart:this._onCenterDragStart,onDrag:this._onCenterDrag},d.ReactBEM.createElement("div",{bem:"e:area",style:this._getAreaStyle()})),d.ReactBEM.createElement(p.default,{onStart:this._onKnobDragStart,onDrag:this._onKnobDrag},d.ReactBEM.createElement("div",{bem:"e:knob $b:knob",style:this._getKnobStyle()}))))};return t}(v.default);t.default=_;_.contextTypes=v.default.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(4);var o=T(n);var i=r(0);var a=T(i);var s=r(3);var u=T(s);var l=r(2);var c=T(l);var d=r(1);var f=r(7);var p=T(f);var h=r(5);var v=T(h);var m=r(6);var _=T(m);var g=r(189);var y=T(g);var b=r(122);var x=T(b);var E=r(37);var C=T(E);var w=r(12);var S=T(w);function T(e){return e&&e.__esModule?e:{default:e}}var R=function(e){(0,c.default)(t,e);function t(){var r;(0,a.default)(this,t);for(var n=arguments.length,i=Array(n),s=0;s<n;s++){i[s]=arguments[s]}var l=(0,u.default)(this,e.call.apply(e,[this].concat(i)));l._operation=l.getSharedState("operation");l._bindAll("_onScaleChange","_onColorChange","_onOperationUpdated","_onOperationRemoved");l._events=(r={},(0,o.default)(r,d.Constants.EVENTS.OPERATION_UPDATED,l._onOperationUpdated),(0,o.default)(r,d.Constants.EVENTS.OPERATION_REMOVED,l._onOperationRemoved),r);l._initFrameManager();return l}t.prototype._initFrameManager=function e(){this._frameManager=new y.default(this.context.ui,this.props.options)};t.prototype._onOperationUpdated=function e(t){if(t===this.getSharedState("operation")){this.forceSharedUpdate()}};t.prototype._onOperationRemoved=function e(t){if(t!==this.getSharedState("operation"))return;if(this._backButtonClicked)return;var r=this.context.editor;var n=r.operations.getOrCreate("frame");this.setSharedState({operation:n,frame:null,operationExistedBefore:false,initialOptions:{}});r.render()};t.prototype._onScaleChange=function e(t){var r=this.context.editor;var n=this.getSharedState("inputDimensions");this._operation.setScale(t/n.min());r.render()};t.prototype._onColorChange=function e(t){var r=this.getSharedState("operation");r.setTintColor(t.clone());var n=this.context.editor;n.render()};t.prototype._onBackClick=function e(t){this._backButtonClicked=true;this.props.onSwitchControls("home")};t.prototype._onFrameClick=function e(t){var r=this;var n=this.context.editor;var o=this.getSharedState("operation");if(t===null){o.setFrame(null);n.render();return this.forceSharedUpdate()}var i=void 0;var a=setTimeout(function(){i=_.default.instance.displayLoading(r._t("loading.loading"))},100);t.load().then(function(){if(i)i.close();if(a){clearTimeout(a);a=null}var e=t.getFrame();o.setFrame(e);var n=r.context.editor;n.render();r.setSharedState({frame:t})})};t.prototype.renderOverlayControls=function e(){var t=this.getSharedState("frame");if(!t)return null;var r=this.getSharedState("inputDimensions");var n=5;var o=Math.round(.3*r.min());var i=this._operation.getScale()*r.min();return d.ReactBEM.createElement(S.default,{minValue:n,maxValue:o,value:i,valueUnit:"px",middleDot:false,label:this._t("controls.frame.scale"),onChange:this._onScaleChange})};t.prototype._renderListItems=function e(){var t=this;var r=this._frameManager.getFrames();var n=this.getSharedState("operation").getFrame();var o=d.ReactBEM.createElement("li",{bem:"e:item",key:"no-frame",onClick:this._onFrameClick.bind(this,null)},d.ReactBEM.createElement("bem",{specifier:"$b:controls"},d.ReactBEM.createElement("div",{bem:"$e:button m:withLabel",className:!n?"is-active":null},d.ReactBEM.createElement("img",{bem:"e:icon",src:this._getAssetPath("controls/frame/no-frame.png",true)}),d.ReactBEM.createElement("div",{bem:"e:label"},this._t("controls.frame.noFrame")))));return[o].concat(r.map(function(e,r){return d.ReactBEM.createElement(x.default,{frame:e,active:n&&n.name===e.getName(),onClick:t._onFrameClick.bind(t,e)})}))};t.prototype.renderControls=function e(){var t=this.getSharedState("operation").getFrame();var r=this._renderListItems();var n=[d.ReactBEM.createElement("div",{bem:"e:cell m:list"},d.ReactBEM.createElement(v.default,{ref:"scrollbar"},d.ReactBEM.createElement("ul",{bem:"$e:list"},r)))];if(t&&t.tintable){var o=this.getSharedState("operation");n.push(d.ReactBEM.createElement("div",{bem:"e:cell m:colorPicker"},d.ReactBEM.createElement(C.default,{initialValue:o.getTintColor().clone(),onChange:this._onColorChange})))}return n};return t}(p.default);t.default=R;R.contextTypes=p.default.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=c(n);var i=r(3);var a=c(i);var s=r(2);var u=c(s);var l=r(1);function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s.state={frame:s.props.frame};return s}t.prototype.componentDidMount=function e(){this._renderFrame()};t.prototype.componentWillReceiveProps=function e(t){var r=this;if(this.props.frame!==t.frame){this.setState({frame:t.frame},function(){r._renderFrame()})}};t.prototype._renderFrame=function e(){var t=this.context.editor;var r=t.getSDK();var n=this.props.frame;var o=this._getAssetPath(n.getIcon());var i=this.refs["canvas-"+n.getName()];var a=r.getPixelRatio();i.width=i.offsetWidth*a;i.height=i.offsetHeight*a;i.style.width=i.offsetWidth+"px";i.style.height=i.offsetHeight+"px";var s=i.getContext("2d");var u=new window.Image;u.addEventListener("load",function(){var e=Math.min(i.width/u.width,i.height/u.height);var t=new l.Vector2(u.width,u.height).multiply(e);var r=new l.Vector2(i.width,i.height).divide(2).subtract(t.clone().divide(2));s.drawImage(u,0,0,u.width,u.height,r.x,r.y,t.x,t.y)});u.src=o};t.prototype.renderWithBEM=function e(){return l.ReactBEM.createElement("bem",{specifier:"b:controls e:list"},l.ReactBEM.createElement("li",{bem:"e:item",key:this.props.frame.getName(),onClick:this.props.onClick},l.ReactBEM.createElement("bem",{specifier:"$b:controls"},l.ReactBEM.createElement("div",{bem:"$e:button m:withInlineLabel"},l.ReactBEM.createElement("canvas",{bem:"e:canvas m:large",ref:"canvas-"+this.props.frame.getName()}),l.ReactBEM.createElement("div",{bem:"$e:inlineLabel",className:this.props.active?"is-active":null},l.ReactBEM.createElement("div",{bem:"e:label"},this.props.frame.getLabel()))))))};return t}(l.BaseComponent);t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=p(n);var i=r(3);var a=p(i);var s=r(2);var u=p(s);var l=r(8);var c=p(l);var d=r(121);var f=p(d);function p(e){return e&&e.__esModule?e:{default:e}}var h=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);return(0,a.default)(this,e.apply(this,arguments))}t.onExit=function e(){var t=this.context.editor;var r=this.getSharedState("operation");var n=this.getSharedState("initialOptions");var o=r.getFrame();var i=r.getScale();if((o&&o.name)!==(n.frame&&n.frame.name)||i!==n.scale){t.history.add(r,this.getSharedState("initialOptions"),this.getSharedState("operationExistedBefore"))}if(!r.getFrame()){t.operations.remove(r)}t.zoom.undo();t.features.enable("zoom","drag");t.render()};t.onEnter=function e(t){var r=this.context.editor;var n=r.operations.exists("frame");var o=r.operations.getOrCreate("frame");var i=o.serializeOptions();this.setSharedState({operation:o,operationExistedBefore:n,initialOptions:i,inputDimensions:o.getInputDimensions(),frame:o.getFrame()})};t.isAvailable=function e(t){return t.isToolEnabled("frame")};return t}(c.default);h.controlsComponent=f.default;h.identifier="frame";h.iconPath="controls/overview/frame.png";h.languageKey="controls.overview.frame";h.defaultOptions={frames:[]};t.default=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(24);var o=f(n);var i=r(0);var a=f(i);var s=r(3);var u=f(s);var l=r(2);var c=f(l);var d=r(1);function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){(0,c.default)(t,e);function t(){(0,a.default)(this,t);for(var r=arguments.length,n=Array(r),o=0;o<r;o++){n[o]=arguments[o]}var i=(0,u.default)(this,e.call.apply(e,[this].concat(n)));i.state={value:i.props.value||0,sliderPosition:0,foregroundLeft:0,foregroundWidth:0};return i}t.prototype.componentDidMount=function e(){this._setValue(this.state.value,false)};t.prototype.componentWillReceiveProps=function e(t){if(t.value!==this.state.value){this._setValue(t.value,false)}};t.prototype._getKnobStyle=function e(){return{left:this.state.sliderPosition}};t.prototype._getForegroundStyle=function e(){return{left:this.state.foregroundLeft,width:this.state.foregroundWidth}};t.prototype._displayMiddleDot=function e(){return this.props.middleDot!==false};t.prototype._setValue=function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;t=Math.round(t);var n=this.props,o=n.minValue,i=n.maxValue;var a=(t-o)/(i-o);var s=this.refs.bar;var u=s.offsetWidth;var l=u*a;var c=a*u;var d=0;if(this._displayMiddleDot()){c=Math.abs(a-.5)*u;d=a<.5?u*.5-c:"50%"}this.setState({value:t,sliderPosition:l,foregroundWidth:c,foregroundLeft:d})};t.prototype.renderWithBEM=function e(){var t={style:this._getForegroundStyle()};return d.ReactBEM.createElement("div",{bem:"$b:miniSlider"},d.ReactBEM.createElement("div",{bem:"$e:bar",ref:"bar"},d.ReactBEM.createElement("div",{bem:"$e:background"}),d.ReactBEM.createElement("div",(0,o.default)({bem:"$e:foreground"},t)),d.ReactBEM.createElement("div",{bem:"e:knob",style:this._getKnobStyle()})))};return t}(d.BaseComponent);t.default=p;p.contextTypes=d.BaseComponent.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=_(n);var i=r(3);var a=_(i);var s=r(2);var u=_(s);var l=r(8);var c=_(l);var d=r(129);var f=_(d);var p=r(63);var h=_(p);var v=r(126);var m=_(v);function _(e){return e&&e.__esModule?e:{default:e}}var g=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);return(0,a.default)(this,e.apply(this,arguments))}return t}(c.default);g.topBarControlsComponent=f.default;g.controlsComponent=h.default;g.canvasControlsComponent=m.default;t.default=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=f(n);var i=r(3);var a=f(i);var s=r(2);var u=f(s);var l=r(1);var c=r(20);var d=f(c);function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._bindAll("_onClick");return s}t.prototype._onClick=function e(t){this._performHitTest(l.Utils.getEventPosition(t))};t.prototype._getContainerStyle=function e(){if(!this.context.editor.isReady()){return{left:0,top:0,width:1,height:1}}var t=this.context.editor.getSDK().getSprite().getBounds(),r=t.x,n=t.y,o=t.width,i=t.height;return{left:r,top:n,width:o,height:i}};t.prototype.renderWithBEM=function e(){return l.ReactBEM.createElement("div",{bem:"$b:canvasControls e:container m:full",ref:"container"},l.ReactBEM.createElement("div",{bem:"$b:canvasControls e:innerContainer",ref:"innerContainer",style:this._getContainerStyle(),onClick:this._onClick,onTouchStart:this._onClick}))};return t}(d.default);t.default=p;p.contextTypes=d.default.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=h(n);var i=r(3);var a=h(i);var s=r(2);var u=h(s);var l=r(1);var c=r(6);var d=h(c);var f=r(41);var p=h(f);function h(e){return e&&e.__esModule?e:{default:e}}var v=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._bindAll("_onButtonClick");return s}t.prototype._onButtonClick=function e(){var t=this;var r=this.context,n=r.options,o=r.editor,i=r.editorScreen;var a=n.editor.export;i.switchToControls("home",null,function(){var e=d.default.instance.displayLoading(t._t("loading.exporting"));setTimeout(function(){o.export(a.download).then(function(){e.close()}).catch(function(r){d.default.instance.displayError(t._t("errors.title"),r.message);e.close()})},100)})};t.prototype.renderWithBEM=function e(){var t=this.context.options;if(!t.editor.export.showButton)return null;return l.ReactBEM.createElement(p.default,{style:"blue",label:this._t("editor.export"),icon:"editor/export.png",onClick:this._onButtonClick})};return t}(l.BaseComponent);t.default=v;v.contextTypes=l.BaseComponent.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=h(n);var i=r(3);var a=h(i);var s=r(2);var u=h(s);var l=r(1);var c=r(41);var d=h(c);var f=r(40);var p=h(f);function h(e){return e&&e.__esModule?e:{default:e}}var v=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._bindAll("_onNewFile","_onButtonClick");return s}t.prototype._onNewFile=function e(t){var r=this.context.editor;r.reset();r.setImage(t);r.zoom.set("auto")};t.prototype._onButtonClick=function e(){var t=this.context.options;var r=t.enableWebcam===false||l.Utils.isMobile();var n=!!t.photoRoll.provider;if(r&&!n){this.refs.upload.open()}else if(n){this.props.app.switchToScreen("photoRoll")}else{this.props.app.switchToScreen("splash")}};t.prototype.renderWithBEM=function e(){var t=this.context.options;var r=null;if(t.photoRoll.provider){r=this._t("editor.backgroundImage")}else{r=this._t("editor.new")}return l.ReactBEM.createElement("div",null,l.ReactBEM.createElement(p.default,{onNewFile:this._onNewFile,ref:"upload"}),l.ReactBEM.createElement(d.default,{label:r,icon:"editor/new.png",onClick:this._onButtonClick}))};return t}(l.BaseComponent);t.default=v;v.contextTypes=l.BaseComponent.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=b(n);var i=r(3);var a=b(i);var s=r(2);var u=b(s);var l=r(1);var c=r(32);var d=b(c);var f=r(128);var p=b(f);var h=r(127);var v=b(h);var m=r(130);var _=b(m);var g=r(131);var y=b(g);function b(e){return e&&e.__esModule?e:{default:e}}var x=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);return(0,a.default)(this,e.apply(this,arguments))}t.prototype.renderContent=function e(){var t=null;if(this.context.options.enableUpload){t=l.ReactBEM.createElement(p.default,{app:this.props.app})}var r=null;if(this.context.options.editor.enableZoom){r=l.ReactBEM.createElement(y.default,null)}return l.ReactBEM.createElement("bem",{specifier:"$b:topBar"},l.ReactBEM.createElement("div",{bem:"e:left"},t),l.ReactBEM.createElement("div",{bem:"e:right"},l.ReactBEM.createElement(_.default,null),l.ReactBEM.createElement(v.default,null)),r)};return t}(d.default);t.default=x;x.contextTypes=d.default.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(4);var o=h(n);var i=r(0);var a=h(i);var s=r(3);var u=h(s);var l=r(2);var c=h(l);var d=r(1);var f=r(41);var p=h(f);function h(e){return e&&e.__esModule?e:{default:e}}var v=function(e){(0,c.default)(t,e);function t(){var r;(0,a.default)(this,t);for(var n=arguments.length,i=Array(n),s=0;s<n;s++){i[s]=arguments[s]}var l=(0,u.default)(this,e.call.apply(e,[this].concat(i)));l._bindAll("_onButtonClick","_onHistoryUpdated","_onFeaturesUpdated");l._events=(r={},(0,o.default)(r,d.Constants.EVENTS.HISTORY_UPDATED,l._onHistoryUpdated),(0,o.default)(r,d.Constants.EVENTS.FEATURES_UPDATED,l._onFeaturesUpdated),r);return l}t.prototype._onFeaturesUpdated=function e(){this.forceUpdate()};t.prototype._onHistoryUpdated=function e(){this.forceUpdate()};t.prototype._onButtonClick=function e(){var t=this.context.editor;t.history.undo()};t.prototype.renderWithBEM=function e(){var t=this.context.editor;if(!t.history.isAvailable())return null;return d.ReactBEM.createElement(p.default,{label:this._t("editor.undo"),icon:"editor/undo.png",onClick:this._onButtonClick})};return t}(d.BaseComponent);t.default=v;v.contextTypes=d.BaseComponent.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(4);var o=f(n);var i=r(0);var a=f(i);var s=r(3);var u=f(s);var l=r(2);var c=f(l);var d=r(1);function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){(0,c.default)(t,e);function t(){var r;(0,a.default)(this,t);for(var n=arguments.length,i=Array(n),s=0;s<n;s++){i[s]=arguments[s]}var l=(0,u.default)(this,e.call.apply(e,[this].concat(i)));l._bindAll("_onZoomOutClick","_onZoomInClick","_onZoomDone","_onFeaturesUpdated");l._events=(r={},(0,o.default)(r,d.Constants.EVENTS.ZOOM_DONE,l._onZoomDone),(0,o.default)(r,d.Constants.EVENTS.FEATURES_UPDATED,l._onFeaturesUpdated),r);return l}t.prototype._onFeaturesUpdated=function e(){this.forceUpdate()};t.prototype._onZoomDone=function e(){this.forceUpdate()};t.prototype._onZoomOutClick=function e(t){var r=this.context.editor;if(!r.features.isEnabled("zoom"))return;r.zoom.zoomOut()};t.prototype._onZoomInClick=function e(t){var r=this.context.editor;if(!r.features.isEnabled("zoom"))return;r.zoom.zoomIn()};t.prototype.renderWithBEM=function e(){var t=this.context.editor;var r=t.zoom.get();var n=t.features.isEnabled("zoom");return d.ReactBEM.createElement("bem",{specifier:"b:editorScreen"},d.ReactBEM.createElement("div",{bem:"$e:zoom"},d.ReactBEM.createElement("div",{bem:"$e:button m:zoomOut",onClick:this._onZoomOutClick,className:n?null:"is-disabled"},d.ReactBEM.createElement("img",{bem:"e:image",src:this._getAssetPath("controls/minus.png",true)})),d.ReactBEM.createElement("div",{bem:"e:label"},"Zoom",d.ReactBEM.createElement("br",null),Math.round(r*100),"%"),d.ReactBEM.createElement("div",{bem:"$e:button m:zoomIn",onClick:this._onZoomInClick,className:n?null:"is-disabled"},d.ReactBEM.createElement("img",{bem:"e:image",src:this._getAssetPath("controls/plus.png",true)}))))};return t}(d.BaseComponent);t.default=p;p.contextTypes=d.BaseComponent.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=v(n);var i=r(3);var a=v(i);var s=r(2);var u=v(s);var l=r(8);var c=v(l);var d=r(134);var f=v(d);var p=r(133);var h=v(p);function v(e){return e&&e.__esModule?e:{default:e}}var m=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);return(0,a.default)(this,e.apply(this,arguments))}t.onExit=function e(){var t=this.context.editor;var r=this.getSharedState("operation");if(r.getPaths().length===0){t.operations.remove(r)}t.zoom.undo();t.features.enable("zoom","drag");t.render()};t.onEnter=function e(t,r){var n=this.context.editor;n.zoom.set("auto",function(){n.render()});var o=n.getOutputDimensions();var i=n.operations.exists("selective-blur");var a=n.operations.getOrCreate("selective-blur");var s=a.serializeOptions();var u=a.getBrush();var l=o.min()*.1;var c=1;var d=a.getInputDimensions();this.setSharedState({operationExistedBefore:i,operation:a,brush:u,initialOptions:s,thickness:l,hardness:c,inputDimensions:d})};t.isAvailable=function e(t){return t.isToolEnabled("selective-blur")};return t}(c.default);m.controlsComponent=f.default;m.canvasControlsComponent=h.default;m.identifier="selective-blur";
m.iconPath="controls/overview/selective-blur.png";m.languageKey="controls.overview.selective-blur";m.defaultOptions={};t.default=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(4);var o=h(n);var i=r(0);var a=h(i);var s=r(3);var u=h(s);var l=r(2);var c=h(l);var d=r(1);var f=r(31);var p=h(f);function h(e){return e&&e.__esModule?e:{default:e}}var v=function(e){(0,c.default)(t,e);function t(){(0,a.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,u.default)(this,e.call.apply(e,[this].concat(n)));s._windowResized=false;s._drawing=false;s._bindAll("_onMouseEnter","_onMouseLeave","_onMouseDown","_onMouseMove","_onMouseUp","_onMouseMoveOnCanvas","_onWindowResize");s._lastDrawPosition=null;s._events=d.SDKUtils.extend(s._events,(0,o.default)({},d.Constants.EVENTS.WINDOW_RESIZE,s._onWindowResize));s.state={cursorVisible:false,cursorPosition:new d.Vector2};return s}t.prototype.componentDidMount=function t(){e.prototype.componentDidMount.call(this);this._updateContainerRect()};t.prototype.componentDidUpdate=function e(){if(this._windowResized){this._updateContainerRect();this._windowResized=false}};t.prototype._onWindowResize=function e(){this._windowResized=true};t.prototype._onOperationRemoved=function e(t){};t.prototype._onOperationUpdated=function e(t){if(t===this.getSharedState("operation")){this.forceUpdate()}};t.prototype._onMouseDown=function e(t){t.preventDefault();var r=this.getSharedState("operation");this._optionsBeforeDraw=r.serializeOptions();delete this._optionsBeforeDraw.enabled;this._operationExistedBeforeDraw=this.getSharedState("operationExistedBefore");this.setSharedState({operationExistedBefore:true},false);var n=this.context.editor.getOutputDimensions();var o=this._getCursorPosition(t);var i=this.getSharedState("thickness")/n.min();var a=this.getSharedState("hardness");this._drawing=true;this._currentPath=r.createPath(i,a);this._currentPath.addControlPoint(o.clone().divide(n));document.addEventListener("mousemove",this._onMouseMove);document.addEventListener("touchmove",this._onMouseMove);document.addEventListener("mouseup",this._onMouseUp);document.addEventListener("touchend",this._onMouseUp)};t.prototype._onMouseUp=function e(){this._currentPath.setClosed(true);var t=this.context.editor;t.render();this._currentPath=null;this._drawing=false;t.history.add(this.getSharedState("operation"),this._optionsBeforeDraw,this._operationExistedBeforeDraw);document.removeEventListener("mousemove",this._onMouseMove);document.removeEventListener("touchmove",this._onMouseMove);document.removeEventListener("mouseup",this._onMouseUp);document.removeEventListener("touchend",this._onMouseUp)};t.prototype._onMouseEnter=function e(t){var r=this._getCursorPosition(t);this.setState({cursorVisible:true,cursorPosition:r});this._onMouseMove(t)};t.prototype._onMouseLeave=function e(){this.setState({cursorVisible:false})};t.prototype._onMouseMove=function e(t){var r=this.context.editor;var n=r.getOutputDimensions();var o=r.zoom.get();var i=this._getCursorPosition(t);this.setState({cursorPosition:i});var a=void 0;if(!this._lastDrawPosition){a=true}else{var s=this.getSharedState("thickness");var u=this._lastDrawPosition.clone().subtract(i).abs().len()/o;a=u>=s/10}if(this._drawing&&a){this._currentPath.addControlPoint(i.clone().divide(n));this._lastDrawPosition=i.clone();r.render()}};t.prototype._onMouseMoveOnCanvas=function e(t){var r=this._getCursorPosition(t);this.setState({cursorPosition:r})};t.prototype._getCursorStyle=function e(){var t=this.getSharedState("thickness");var r=this.state.cursorPosition;return{left:r.x,top:r.y,width:t,height:t,marginLeft:t*-.5,marginTop:t*-.5}};t.prototype._updateContainerRect=function e(){this._containerBoundingRect=this.refs.innerContainer.getBoundingClientRect()};t.prototype._getCursorPosition=function e(t){var r=d.Utils.getEventPosition(t);var n=this._containerBoundingRect;return r.subtract(n.left,n.top)};t.prototype._getContainerProps=function t(){var r=e.prototype._getContainerProps.call(this);r.onMouseDown=r.onTouchStart=this._onMouseDown;return r};t.prototype._getInnerContainerProps=function t(){var r=e.prototype._getInnerContainerProps.call(this);delete r.onClick;r.onMouseEnter=this._onMouseEnter;r.onMouseLeave=this._onMouseLeave;r.onMouseMove=this._onMouseMoveOnCanvas;return r};t.prototype._renderSpriteItems=function e(){return null};t.prototype._renderOverlayControls=function e(){var t=this.state.cursorVisible?"is-visible":null;return d.ReactBEM.createElement("div",{bem:"$b:selectiveBlurCanvasControls"},d.ReactBEM.createElement("div",{bem:"e:cursor",className:t,style:this._getCursorStyle()}))};return t}(p.default);t.default=v;v.contextTypes=p.default.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(4);var o=g(n);var i=r(0);var a=g(i);var s=r(3);var u=g(s);var l=r(2);var c=g(l);var d=r(1);var f=r(7);var p=g(f);var h=r(30);var v=g(h);var m=r(12);var _=g(m);function g(e){return e&&e.__esModule?e:{default:e}}var y=function(e){(0,c.default)(t,e);function t(){var r;(0,a.default)(this,t);for(var n=arguments.length,i=Array(n),s=0;s<n;s++){i[s]=arguments[s]}var l=(0,u.default)(this,e.call.apply(e,[this].concat(i)));l._hasDoneButton=false;l._brushThickness=l.getSharedState("thickness");l._bindAll("_onOperationUpdated","_onOperationRemoved","_onThicknessUpdated","_onBlurRadiusChange");l.state={thicknessControlsEnabled:false};l._events=(r={},(0,o.default)(r,d.Constants.EVENTS.OPERATION_UPDATED,l._onOperationUpdated),(0,o.default)(r,d.Constants.EVENTS.OPERATION_REMOVED,l._onOperationRemoved),r);return l}t.prototype.componentDidMount=function t(){e.prototype.componentDidMount.call(this);var r=this.context.editor;r.zoom.set("auto");r.features.disable("zoom","drag")};t.prototype._onOperationRemoved=function e(t){if(t!==this.getSharedState("operation"))return;if(this._backButtonClicked)return;var r=this.context.editor;var n=r.operations.getOrCreate("selective-blur");var o=n.getBrush();this.setSharedState({operation:n,brush:o,operationExistedBefore:false,initialOptions:{}});r.render()};t.prototype._onOperationUpdated=function e(t){if(t===this.getSharedState("operation")){var r=this.context.editor;r.render();this.forceUpdate()}};t.prototype._onThicknessUpdated=function e(t){this.setSharedState({thickness:t});this._brushThickness=t};t.prototype._onBlurRadiusChange=function e(t,r){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var o=this.getSharedState("inputDimensions");this.getSharedState("operation").setBlurRadius(t/o.min());var i=this.context.editor;i.render();if(n){i.history.add(this.getSharedState("operation"),{blurRadius:r/o.min()},true)}};t.prototype.renderOverlayControls=function e(){var t=this.getSharedState("inputDimensions");var r=t.min();var n=this.getSharedState("operation").getBlurRadius()*r;return d.ReactBEM.createElement(_.default,{minValue:0,maxValue:Math.min(180,Math.round(r*.1)),value:n,valueUnit:"px",label:this._t("controls.selectiveBlur.blurRadius"),onChange:this._onBlurRadiusChange})};t.prototype.renderControls=function e(){var t=this.context.editor;var r=t.zoom.get();var n=[];var o=t.getFinalDimensions();var i=1;var a=Math.round(o.clone().multiply(r).min()/2);var s=this._brushThickness;n.push(d.ReactBEM.createElement("div",{bem:"e:cell m:slider"},d.ReactBEM.createElement(v.default,{style:"large",minValue:i,maxValue:a,valueUnit:"px",middleDot:false,label:this._t("controls.brush.thickness"),onChange:this._onThicknessUpdated,value:s})));return n};return t}(p.default);t.default=y;y.contextTypes=p.default.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=f(n);var i=r(3);var a=f(i);var s=r(2);var u=f(s);var l=r(1);var c=r(38);var d=f(c);function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);return(0,a.default)(this,e.apply(this,arguments))}t.prototype.componentDidMount=function t(){e.prototype.componentDidMount.call(this);var r=this.props.sprite.getCanvas();this._appendCanvas(r)};t.prototype.componentWillReceiveProps=function e(t){if(t.sprite!==this.props.sprite){var r=this.props.sprite.getCanvas();r.parentNode.removeChild(r);var n=t.sprite.getCanvas();this._appendCanvas(n)}};t.prototype._appendCanvas=function e(t){var r=this.context.editor;var n=r.getOutputDimensions();t.style.width=n.x+"px";t.style.height=n.y+"px";this.refs.brush.appendChild(t)};t.prototype._isSelected=function e(){return this.getSharedState("brush")===this.props.sprite};t.prototype.renderWithBEM=function e(){var t=this._isSelected()?"is-selected":null;return l.ReactBEM.createElement("bem",{specifier:"b:spritesCanvasControls"},l.ReactBEM.createElement("div",{bem:"$e:item e:container m:full",ref:"container"},l.ReactBEM.createElement("div",{bem:"$e:brush",className:t,ref:"brush"})))};return t}(d.default);t.default=p;p.contextTypes=d.default.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=h(n);var i=r(3);var a=h(i);var s=r(2);var u=h(s);var l=r(1);var c=r(11);var d=h(c);var f=r(38);var p=h(f);function h(e){return e&&e.__esModule?e:{default:e}}var v=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._bindAll("_onRotateKnobDragStart","_onRotateKnobDrag","_onRotateKnobDragStop");s._id=l.SDKUtils.getUUID();return s}t.prototype._onKnobDragStart=function e(t,r,n){var o=this.props.sprite;switch(t){case"bottom":this._initialPosition=this._getBottomDragKnobPosition();break;case"top":this._initialPosition=this._getTopDragKnobPosition();break}this._initialDimensions=o.getDimensions().clone();this.props.onDragStart&&this.props.onDragStart()};t.prototype._onKnobDrag=function e(t,r,n){var o=this.props.sprite;var i=this._getAbsoluteSpritePosition();var a=this._initialPosition.clone().add(r);var s=a.clone().subtract(i);var u=this._initialPosition.clone().subtract(i);if(this.props.options.fixedRatio){var c=this._getStickerDimensions().divide(2).abs();var d=this._initialPosition.clone().subtract(i);var f=void 0;switch(t){case"bottom":f=Math.atan2(s.y,s.x)-Math.atan2(c.y,c.x);break;case"top":f=Math.atan2(s.y,s.x)-Math.atan2(-c.y,-c.x);break}var p=this._initialDimensions.clone().multiply(s.len()/d.len());o.set({dimensions:p,rotation:f})}else{var h=this.context.editor.zoom.get();var v=o.getRotation();var m=Math.cos(v*-1);var _=Math.sin(v*-1);var g=new l.Vector2(s.x*m-s.y*_,s.x*_+s.y*m);var y=new l.Vector2(u.x*m-u.y*_,u.x*_+u.y*m);var b=void 0;switch(t){case"bottom":b=g.clone().subtract(y);break;case"top":b=y.clone().subtract(g);break}var x=this._initialDimensions.clone().add(b.clone().divide(h).multiply(2));o.set({dimensions:x})}};t.prototype._onKnobDragStop=function e(){this.props.onDragStop&&this.props.onDragStop()};t.prototype._onRotateKnobDragStart=function e(t,r){this._initialPosition=this._getRotateKnobPosition();this.props.onDragStart&&this.props.onDragStart()};t.prototype._onRotateKnobDragStop=function e(){this.props.onDragStop&&this.props.onDragStop()};t.prototype._onRotateKnobDrag=function e(t,r){var n=this.props.sprite;var o=this._getAbsoluteSpritePosition();var i=this._initialPosition.clone().add(t);var a=this._getStickerDimensions().divide(2);var s=i.clone().subtract(o);var u=void 0;u=Math.atan2(s.y,s.x)-Math.atan2(-a.y,a.x);n.set({rotation:u})};t.prototype._getBottomDragKnobStyle=function e(){var t=this._getBottomDragKnobPosition();return{left:t.x,top:t.y}};t.prototype._getTopDragKnobStyle=function e(){var t=this._getTopDragKnobPosition();return{left:t.x,top:t.y}};t.prototype._getRotateKnobStyle=function e(){var t=this._getRotateKnobPosition();return{left:t.x,top:t.y}};t.prototype._getStickerStyle=function e(){var t=this.props.sprite;var r=this._getStickerDimensions().abs();var n=this._getAbsoluteSpritePosition().subtract(r.clone().divide(2));var o=t.getRotation()*180/Math.PI;var i="rotate("+o.toFixed(2)+"deg)";var a=t.getDimensions();var s=t.getFlipVertically();if(a.y<0)s=!s;if(s){i+=" scaleY(-1)"}var u=t.getFlipHorizontally();if(a.x<0)u=!u;if(u){i+=" scaleX(-1)"}return{top:n.y,left:n.x,width:r.x,height:r.y,WebkitTransform:i,msTransform:i,MozTransform:i,OTransform:i}};t.prototype._getStickerDimensions=function e(){var t=this.props.sprite;var r=this.context.editor;return t.getDimensions().clone().multiply(r.zoom.get())};t.prototype._getRotateKnobPosition=function e(){var t=this.props.sprite;var r=this._getAbsoluteSpritePosition();var n=t.getRotation();var o=Math.sin(n||0);var i=Math.cos(n||0);var a=this._getStickerDimensions().divide(2);return r.clone().add(a.x*i+a.y*o,a.x*o-a.y*i)};t.prototype._getBottomDragKnobPosition=function e(){var t=this.props.sprite;var r=this._getAbsoluteSpritePosition();var n=t.getRotation();var o=Math.sin(n||0);var i=Math.cos(n||0);var a=this._getStickerDimensions().divide(2);return r.clone().add(a.x*i-a.y*o,a.x*o+a.y*i)};t.prototype._getTopDragKnobPosition=function e(){var t=this.props.sprite;var r=this._getAbsoluteSpritePosition();var n=t.getRotation();var o=Math.sin(n||0);var i=Math.cos(n||0);var a=this._getStickerDimensions(t).divide(2);return r.clone().subtract(a.x*i-a.y*o,a.x*o+a.y*i)};t.prototype._renderKnobs=function e(){var t=[];if(this.props.selected){t=[l.ReactBEM.createElement(d.default,{onStart:this._onKnobDragStart.bind(this,"bottom"),onStop:this._onKnobDragStop.bind(this,"bottom"),onDrag:this._onKnobDrag.bind(this,"bottom")},l.ReactBEM.createElement("div",{bem:"e:knob $b:knob",style:this._getBottomDragKnobStyle()},l.ReactBEM.createElement("img",{bem:"e:icon",src:this._getAssetPath("controls/knobs/resize-diagonal-down.png",true)}))),l.ReactBEM.createElement(d.default,{onStart:this._onKnobDragStart.bind(this,"top"),onStop:this._onKnobDragStop.bind(this,"top"),onDrag:this._onKnobDrag.bind(this,"top")},l.ReactBEM.createElement("div",{bem:"e:knob $b:knob",style:this._getTopDragKnobStyle()},l.ReactBEM.createElement("img",{bem:"e:icon",src:this._getAssetPath("controls/knobs/resize-diagonal-down.png",true)})))];if(!this.props.options.fixedRatio){t.push(l.ReactBEM.createElement(d.default,{onStart:this._onRotateKnobDragStart,onStop:this._onRotateKnobDragStop,onDrag:this._onRotateKnobDrag},l.ReactBEM.createElement("div",{bem:"e:knob $b:knob",style:this._getRotateKnobStyle()},l.ReactBEM.createElement("img",{bem:"e:icon",src:this._getAssetPath("controls/knobs/rotate.png",true)}))))}}return t};t.prototype._renderSVGFilter=function e(){var t=this.props.sprite;var r=t.getAdjustments();var n=r.getBrightness();var o=r.getSaturation();var i=r.getContrast();var a="<filter id='pesdk-sticker-"+this._id+"-filter'>\n        <feComponentTransfer>\n          <feFuncR type='linear' intercept='"+n+"' />\n          <feFuncG type='linear' intercept='"+n+"' />\n          <feFuncB type='linear' intercept='"+n+"' />\n        </feComponentTransfer>\n        <feColorMatrix type='saturate' values='"+o+"' />\n        <feComponentTransfer>\n          <feFuncR type='linear' slope='"+i+"' intercept='"+(-(.5*i)+.5)+"' />\n          <feFuncG type='linear' slope='"+i+"' intercept='"+(-(.5*i)+.5)+"' />\n          <feFuncB type='linear' slope='"+i+"' intercept='"+(-(.5*i)+.5)+"' />\n        </feComponentTransfer>\n      </filter>";return l.ReactBEM.createElement("svg",{width:"0",height:"0","color-interpolation-filters":"sRGB",is:"svg"},l.ReactBEM.createElement("defs",{key:Math.random(),dangerouslySetInnerHTML:{__html:a}}))};t.prototype._renderItem=function e(){var t=this.props.sprite;var r=this._getStickerStyle();var n=this.props.selected?"is-selected":null;var o=window.location.href.replace(window.location.hash,"");var i={filter:'url("'+o+"#pesdk-sticker-"+this._id+'-filter")'};return l.ReactBEM.createElement(d.default,{onStart:this._onItemDragStart,onStop:this._onItemDragStop,onDrag:this._onItemDrag,disabled:!this.props.selected},l.ReactBEM.createElement("div",{bem:"$e:sticker",style:r,className:n},l.ReactBEM.createElement("svg",{width:r.width,height:r.height,"color-interpolation-filters":"sRGB",is:"svg"},l.ReactBEM.createElement("image",{xlinkHref:t.getImage().src,width:r.width,height:r.height,style:i}))))};t.prototype.renderWithBEM=function e(){return l.ReactBEM.createElement("bem",{specifier:"b:spritesCanvasControls"},l.ReactBEM.createElement("div",{bem:"$e:item e:container"},this._renderSVGFilter(),this._renderItem(),this._renderKnobs()))};return t}(p.default);t.default=v;v.contextTypes=p.default.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=h(n);var i=r(3);var a=h(i);var s=r(2);var u=h(s);var l=r(1);var c=r(11);var d=h(c);var f=r(38);var p=h(f);function h(e){return e&&e.__esModule?e:{default:e}}var v=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._bindAll("_onTextChange","_onItemDoubleClick","_onItemTouchStart","_onItemTouchEnd","_onResizeKnobDragStart","_onResizeKnobDrag","_onResizeKnobDragStop","_onRotationKnobDragStart","_onRotationKnobDrag","_onRotationKnobDragStop");s.state={editMode:false};return s}t.prototype._onTextChange=function e(t){var r=this.props.sprite;r.setText(t.target.value)};t.prototype._onItemDoubleClick=function e(){this.enterEditMode()};t.prototype.enterEditMode=function e(){var t=this;var r=this.props.sprite;if(!r._edited){r.setText("");this.refs.textarea.value="";r._edited=true;this.forceUpdate()}this.setState({editMode:true},function(){t.refs.textarea.focus();t.refs.textarea.select()})};t.prototype._onItemTouchStart=function e(t){this._initialTouchPosition=l.Utils.getEventPosition(t);this._tapStartAt=(0,l.now)()};t.prototype._onItemTouchEnd=function e(){if((0,l.now)()-this._tapStartAt<=100){if(typeof this._lastTapAt!=="undefined"&&(0,l.now)()-this._lastTapAt<=300){this._onItemDoubleClick()}this._lastTapAt=(0,l.now)()}};t.prototype._onRotationKnobDragStart=function e(t,r){this._dragging=true;this._initialPosition=this._getRotationKnobPosition();this.props.onDragStart&&this.props.onDragStart()};t.prototype._onRotationKnobDrag=function e(t,r){var n=this.props.sprite;var o=this.context.editor;var i=this._getAbsoluteSpritePosition();var a=this._initialPosition.clone().add(t);var s=a.clone().subtract(i);var u=n.getBoundingBox(o.getSDK(),o.getOutputDimensions());var l=Math.atan2(s.y,s.x)-Math.atan2(u.y,u.x/2);n.setRotation(l)};t.prototype._onRotationKnobDragStop=function e(t){this.props.onDragStop&&this.props.onDragStop()};t.prototype._onResizeKnobDragStart=function e(t,r){this._initialPosition=this._getResizeKnobPosition();this.props.onDragStart&&this.props.onDragStart()};t.prototype._onResizeKnobDrag=function e(t,r){var n=this.props.sprite;var o=n.getRotation();var i=this.context.editor;var a=i.getOutputDimensions();var s=Math.cos(o);var u=Math.sin(o);var l=this._initialPosition.clone().add(t);var c=this._getAbsoluteSpritePosition();var d=l.clone().subtract(c);var f=Math.max((d.x*s+d.y*u)/a.x*2,.1);n.setMaxWidth(f)};t.prototype._onResizeKnobDragStop=function e(t){this.props.onDragStop&&this.props.onDragStop()};t.prototype._getRotationKnobStyle=function e(){var t=this._getRotationKnobPosition();return{left:t.x,top:t.y}};t.prototype._getResizeKnobStyle=function e(){var t=this._getResizeKnobPosition();return{left:t.x,top:t.y}};t.prototype._getTextStyle=function e(){var t=this.context.editor;var r=this.props.sprite;var n=t.getSDK();var o=t.getOutputDimensions();var i=r.getDOMStyle(n,o);var a=this._getAbsoluteSpritePosition();var s=r.getBoundingBox(n,o);i.height=Math.min(s.y,o.y-a.y);return i};t.prototype._getItemContainerStyle=function e(){var t=this.context.editor;var r=t.getOutputDimensions();var n=this.props.sprite;var o=n.getPosition().clone().multiply(r);var i=n.getRotation()*180/Math.PI;var a="rotateZ("+i.toFixed(2)+"deg)";var s="50% 0";var u=n.getMaxWidth()*r.x;return{width:u,left:o.x,top:o.y,marginLeft:u*-.5,transform:a,MozTransform:a,msTransform:a,WebkitTransform:a,transformOrigin:s,MozTransformOrigin:s,msTransformOrigin:s,WebkitTransformOrigin:s}};t.prototype._getRotationKnobPosition=function e(){var t=this.props.sprite;var r=this.context.editor;var n=Math.sin(t.getRotation());var o=Math.cos(t.getRotation());var i=r.getOutputDimensions();var a=t.getBoundingBox(r.getSDK(),i);var s=a.clone().divide(2);var u=t.getPosition().clone().multiply(i).add(s.x*o-a.y*n,s.x*n+a.y*o);return u};t.prototype._getResizeKnobPosition=function e(){var t=this.props.sprite;var r=this.context.editor;var n=Math.sin(t.getRotation());var o=Math.cos(t.getRotation());var i=r.getOutputDimensions();var a=t.getBoundingBox(r.getSDK(),i);var s=a.clone().divide(2);var u=t.getPosition().clone().multiply(i).add(s.x*o,s.x*n);return u};t.prototype._renderKnobs=function e(){var t=[];if(this.props.selected&&!this.state.editMode){t=[l.ReactBEM.createElement(d.default,{onStart:this._onRotationKnobDragStart,onDrag:this._onRotationKnobDrag,onStop:this._onRotationKnobDragStop},l.ReactBEM.createElement("div",{bem:"e:knob m:rotate $b:knob",style:this._getRotationKnobStyle()},l.ReactBEM.createElement("img",{bem:"e:icon m:larger",src:this._getAssetPath("controls/knobs/rotate.png",true)}))),l.ReactBEM.createElement(d.default,{onStart:this._onResizeKnobDragStart,onDrag:this._onResizeKnobDrag,onStop:this._onResizeKnobDragStop},l.ReactBEM.createElement("div",{bem:"e:knob m:resize $b:knob",style:this._getResizeKnobStyle()},l.ReactBEM.createElement("img",{bem:"e:icon",src:this._getAssetPath("controls/knobs/resize-diagonal-up.png",true)})))]}return t};t.prototype._renderItem=function e(){var t=this.props.sprite;var r=[];r=[l.ReactBEM.createElement("textarea",{bem:"e:content",ref:"textarea",style:this._getTextStyle(),defaultValue:t.getText(),disabled:!this.state.editMode,onChange:this._onTextChange})];if(!this.state.editMode){r.push(l.ReactBEM.createElement("div",{bem:"e:disabledOverlay",onDoubleClick:this._onItemDoubleClick,onTouchStart:this._onItemTouchStart,onTouchEnd:this._onItemTouchEnd}))}return l.ReactBEM.createElement(d.default,{onStart:this._onItemDragStart,onStop:this._onItemDragStop,onDrag:this._onItemDrag,disabled:!this.props.selected||this.props.selected&&this.state.editMode},l.ReactBEM.createElement("div",{bem:"$e:text",style:this._getItemContainerStyle(),className:this.props.selected?"is-selected":null},r))};t.prototype.renderWithBEM=function e(){return l.ReactBEM.createElement("bem",{specifier:"b:spritesCanvasControls"},l.ReactBEM.createElement("div",{bem:"$e:item e:container"},this._renderItem(),this._renderKnobs()))};return t}(p.default);t.default=v;v.contextTypes=p.default.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=m(n);var i=r(3);var a=m(i);var s=r(2);var u=m(s);var l=r(1);var c=r(8);var d=m(c);var f=r(140);var p=m(f);var h=r(139);var v=m(h);function m(e){return e&&e.__esModule?e:{default:e}}var _=l.SDK.Operations.SpriteOperation.Sticker;var g=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);return(0,a.default)(this,e.apply(this,arguments))}t.onExit=function e(){var t=this.context.editor;var r=this.getSharedState("operation");if(!this.getSharedState("skipHistory")){t.history.add(r,this.getSharedState("initialOptions"),this.getSharedState("operationExistedBefore"))}r.setEnabled(true);t.zoom.undo();t.features.enable("zoom","drag");t.render()};t.onEnter=function e(t){var r=this.context.editor;var n=r.operations.exists("sprite");var o=r.operations.getOrCreate("sprite");var i=o.getSprites();var a=o.getSpritesOfType(_);var s=o.serializeOptions();o.setEnabled(false);r.zoom.set("auto");this.setSharedState({operationExistedBefore:n,operation:o,sprites:i,stickers:a,initialOptions:s})};t.clickAtPosition=function e(t,r){if(!r.operations.exists("sprite"))return false;var n=r.operations.getOrCreate("sprite");var o=n.getSpritesAtPosition(t,r.getOutputTextureDimensions()).filter(function(e){return e instanceof _});if(o.length){return{selectedSprite:o[0]}}else{return false}};t.isAvailable=function e(t){return t.isToolEnabled("sticker")};return t}(d.default);g.controlsComponent=p.default;g.canvasControlsComponent=v.default;g.identifier="sticker";g.iconPath="controls/overview/sticker.png";g.languageKey="controls.overview.sticker";g.defaultOptions={categories:[],replaceCategories:false,selectableStickers:null,tooltips:false,hideCategories:false,fixedRatio:true,smoothDownscaling:false};t.default=g},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=h(n);var i=r(3);var a=h(i);var s=r(2);var u=h(s);var l=r(1);var c=r(31);var d=h(c);var f=r(141);var p=h(f);function h(e){return e&&e.__esModule?e:{default:e}}var v=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);return(0,a.default)(this,e.apply(this,arguments))}t.prototype._renderOverlayControls=function e(){if(!this.getSharedState("selectedSprite"))return;return l.ReactBEM.createElement(p.default,{onFlip:this._onSpriteFlip,onTakeToFront:this._onSpriteTakeToFront,onRemove:this._onSpriteRemove})};return t}(d.default);t.default=v;v.contextTypes=d.default.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(24);var o=T(n);var i=r(4);var a=T(i);var s=r(0);var u=T(s);var l=r(3);var c=T(l);var d=r(2);var f=T(d);var p=r(1);var h=r(7);var v=T(h);var m=r(5);var _=T(m);var g=r(62);var y=T(g);var b=r(6);var x=T(b);var E=r(70);var C=T(E);var w=r(142);var S=T(w);function T(e){return e&&e.__esModule?e:{default:e}}var R=function(e){(0,f.default)(t,e);function t(){(0,u.default)(this,t);for(var r=arguments.length,n=Array(r),o=0;o<r;o++){n[o]=arguments[o]}var i=(0,c.default)(this,e.call.apply(e,[this].concat(n)));i._bindAll("_onStickerMouseLeave","_renderTooltipCanvas","_onCategoryChange","_onBeforeHistoryUndo");i._events=(0,a.default)({},p.Constants.EVENTS.HISTORY_BEFORE_UNDO,i._onBeforeHistoryUndo);i._operation=i.getSharedState("operation");i._sprites=i.getSharedState("sprites");i._stickers=i.getSharedState("stickers");i._initStickerManager();i.state={category:"all"};return i}t.prototype._onBeforeHistoryUndo=function e(t){var r=t.operation,n=t.options;if(r!==this.getSharedState("operation"))return;var o=n.sprites;if(o.indexOf(this.getSharedState("selectedSprite"))===-1){this.setSharedState({skipHistory:true},false);this.props.onSwitchControls("home")}};t.prototype._onCategoryChange=function e(t){var r=this;this.setState({category:t.name},function(){r.refs.scrollbar.update()})};t.prototype.componentDidMount=function t(){e.prototype.componentDidMount.call(this);if(this.props.options.stickersJSONPath){this._loadExternalStickers()}var r=this.context.editor;r.zoom.set("auto",function(){r.features.disable("zoom","drag")})};t.prototype._loadExternalStickers=function e(){var t=this;var r=null;var n=setTimeout(function(){r=x.default.instance.displayLoading(t._t("loading.loading"))},100);var o=function e(){if(n){clearTimeout(n);n=null}if(r)r.close()};this._availableStickers=[];this.forceUpdate();var i=this.props.options.stickersJSONPath;p.Utils.getJSONP(i).then(function(e){o();if(e.version==="1.0"){t._initStickers([{name:"all",label:"All",stickers:e.stickers}])}else if(e.version==="1.1"){t._initStickers(e.categories)}t.forceUpdate(function(){t.refs.scrollbar.update()})}).catch(function(e){o();var r=x.default.instance.displayError(t._t("errors.loadingStickersFailed.title"),e.message);r.on("close",function(){t.props.onBack()})})};t.prototype._renderTooltipCanvas=function e(){var t=this;var r=this.state.hoveredSticker;var n=new window.Image;n.addEventListener("load",function(){if(!t.state.tooltipVisible||t.state.hoveredSticker!==r){return}var e=t.refs.tooltipCanvas;e.width=e.offsetWidth;e.height=e.offsetHeight;var o=e.getContext("2d");var i=Math.min(e.width/n.width,e.height/n.height);var a=new p.Vector2(n.width,n.height).multiply(i);var s=new p.Vector2(e.width,e.height).divide(2).subtract(a.clone().divide(2));o.drawImage(n,0,0,n.width,n.height,s.x,s.y,a.x,a.y)});var o=this._getAssetPath((r.images.mediaMedium||r.images.mediaBase).uri);n.crossOrigin="Anonymous";n.src=o};t.prototype._initStickerManager=function e(){this._stickerManager=new C.default(this.props.options)};t.prototype._onBackClick=function e(t){this._backButtonClicked=true;this.props.onSwitchControls("home")};t.prototype._onStickerClick=function e(t){var r=this;var n=this._getAssetPath(t.images.mediaBase.uri);var o=new window.Image;var i=void 0;var a=setTimeout(function(){i=x.default.instance.displayLoading(r._t("loading.loading"))},100);o.addEventListener("load",function(){if(i)i.close();if(a){clearTimeout(a);a=null}var e=r.context.editor;var n=r._calculateInitialStickerScale(t,o);var s=r._operation.createSticker({name:t.name,image:o,position:new p.Vector2(.5,.5),dimensions:new p.Vector2(o.width,o.height).multiply(n),rotation:0,smoothDownscaling:r.props.options.smoothDownscaling});r._operation.addSprite(s);r._stickers.push(s);e.render(function(){r.setSharedState({selectedSprite:s,sprites:r._sprites,stickers:r._stickers})})});o.addEventListener("error",function(){if(i)i.close();if(a){clearTimeout(a);a=null}x.default.instance.displayError(r._t("errors.imageLoadFail.title"),r._t("errors.imageLoadFail.text",{path:o.src}))});o.crossOrigin="Anonymous";o.src=n};t.prototype._calculateInitialStickerScale=function e(t,r){var n=this.getSharedState("operation");var o=n.getInputDimensions().multiply(.9);var i=new p.Vector2(r.width,r.height);var a=i.clone().subtract(o);if(a.x<=0&&a.y<=0)return 1;if(a.x>a.y){return o.x/i.x}else{return o.y/i.y}};t.prototype._onStickerMouseEnter=function e(t,r){var n=this;this.setState({tooltipVisible:true,hoveredSticker:t,hoveredStickerElement:r.currentTarget},function(){n._renderTooltipCanvas();n._updateTooltipPosition()})};t.prototype._updateTooltipPosition=function e(){var t=this.state.hoveredStickerElement;var r=this.refs.root;var n=t.getBoundingClientRect();var o=r.getBoundingClientRect();this.setState({tooltipPosition:n.left-o.left})};t.prototype._onStickerMouseLeave=function e(){this.setState({tooltipVisible:false,hoveredSticker:null})};t.prototype._renderListItems=function e(){var t=this;var r=this._stickerManager.getStickersForCategory(this.state.category);return r.map(function(e,r){var n=t.props.options;var i=n.tooltips?{onMouseEnter:t._onStickerMouseEnter.bind(t,e),onMouseLeave:t._onStickerMouseLeave}:null;return p.ReactBEM.createElement(S.default,(0,o.default)({sticker:e,onClick:t._onStickerClick.bind(t,e)},i))})};t.prototype._renderTooltip=function e(){var t=this.props.options.tooltips&&this.state.tooltipVisible;var r={left:this.state.tooltipPosition};return t?p.ReactBEM.createElement("div",{bem:"e:cell m:empty"},p.ReactBEM.createElement("div",{bem:"$b:stickersControls $e:tooltip",style:r},p.ReactBEM.createElement("canvas",{bem:"e:canvas",ref:"tooltipCanvas"}))):null};t.prototype._renderCategoryDropdown=function e(){var t=this;var r=this._stickerManager.getCategories();var n=!this.props.options.hideCategories&&r.length>1;if(!n){return null}var o=r.map(function(e){return{name:e.name,label:t._t("controls.sticker.categories."+e.name),icon:t._getAssetPath("controls/stickers/categories/"+e.name+".png",true)}});var i={name:this.state.category,label:this._t("controls.sticker.categories."+this.state.category),icon:this._getAssetPath("controls/stickers/categories/"+this.state.category+".png",true)};return p.ReactBEM.createElement("div",{bem:"e:cell m:categoryDropdown"},p.ReactBEM.createElement(y.default,{items:o,selectedItem:i,onChange:this._onCategoryChange}))};t.prototype.renderControls=function e(){var t=this._renderListItems();var r=this._renderTooltip();var n=this._renderCategoryDropdown();return[r,n,p.ReactBEM.createElement("div",{bem:"e:cell m:list"},p.ReactBEM.createElement(_.default,{ref:"scrollbar"},p.ReactBEM.createElement("ul",{
bem:"$e:list"},t)))]};return t}(v.default);t.default=R;R.contextTypes=v.default.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=c(n);var i=r(3);var a=c(i);var s=r(2);var u=c(s);var l=r(1);function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);return(0,a.default)(this,e.apply(this,arguments))}t.prototype._onFlipClick=function e(t,r){r.preventDefault();r.stopPropagation();this.props.onFlip&&this.props.onFlip(t)};t.prototype._onTakeToFrontClick=function e(t){t.preventDefault();t.stopPropagation();this.props.onTakeToFront&&this.props.onTakeToFront()};t.prototype._onRemoveClick=function e(t){t.preventDefault();t.stopPropagation();this.props.onRemove&&this.props.onRemove()};t.prototype._renderItems=function e(){return[l.ReactBEM.createElement("div",{bem:"$e:item",onClick:this._onFlipClick.bind(this,"h")},l.ReactBEM.createElement("img",{bem:"e:icon",src:this._getAssetPath("controls/sprites/flip-h.png",true)})),l.ReactBEM.createElement("div",{bem:"$e:item",onClick:this._onFlipClick.bind(this,"v")},l.ReactBEM.createElement("img",{bem:"e:icon",src:this._getAssetPath("controls/sprites/flip-v.png",true)})),l.ReactBEM.createElement("div",{bem:"$e:item",onClick:this._onTakeToFrontClick.bind(this)},l.ReactBEM.createElement("img",{bem:"e:icon",src:this._getAssetPath("controls/sprites/take-to-front.png",true)})),l.ReactBEM.createElement("div",{bem:"$e:separator"}),l.ReactBEM.createElement("div",{bem:"$e:item",onClick:this._onRemoveClick.bind(this)},l.ReactBEM.createElement("img",{bem:"e:icon",src:this._getAssetPath("controls/sprites/remove.png",true)}))]};t.prototype.renderWithBEM=function e(){return l.ReactBEM.createElement("div",{bem:"$b:spritesControlsOverlay"},this._renderItems())};return t}(l.BaseComponent);t.default=d;d.contextTypes=l.BaseComponent.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=c(n);var i=r(3);var a=c(i);var s=r(2);var u=c(s);var l=r(1);function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s.state={sticker:s.props.sticker};return s}t.prototype.componentDidMount=function e(){this._renderSticker()};t.prototype.componentWillReceiveProps=function e(t){var r=this;if(this.props.sticker!==t.sticker){this.setState({sticker:t.sticker},function(){r._renderSticker()})}};t.prototype._renderSticker=function e(){var t=this.context.editor;var r=t.getSDK();var n=this.props.sticker;var o=this._getAssetPath(n.images.mediaThumb.uri);var i=this.refs["canvas-"+n.name];var a=r.getPixelRatio();i.width=i.offsetWidth*a;i.height=i.offsetHeight*a;i.style.width=i.offsetWidth+"px";i.style.height=i.offsetHeight+"px";var s=i.getContext("2d");var u=new window.Image;u.addEventListener("load",function(){var e=Math.min(i.width/u.width,i.height/u.height);var t=new l.Vector2(u.width,u.height).multiply(e);var r=new l.Vector2(i.width,i.height).divide(2).subtract(t.clone().divide(2));s.drawImage(u,0,0,u.width,u.height,r.x,r.y,t.x,t.y)});u.crossOrigin="Anonymous";u.src=o};t.prototype.renderWithBEM=function e(){return l.ReactBEM.createElement("li",{bem:"$b:stickersControls $e:item",key:this.props.sticker.name,onClick:this.props.onClick,onMouseEnter:this.props.onMouseEnter,onMouseLeave:this.props.onMouseLeave},l.ReactBEM.createElement("canvas",{bem:"e:canvas",ref:"canvas-"+this.props.sticker.name}))};return t}(l.BaseComponent);t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=h(n);var i=r(3);var a=h(i);var s=r(2);var u=h(s);var l=r(1);var c=r(5);var d=h(c);var f=r(64);var p=h(f);function h(e){return e&&e.__esModule?e:{default:e}}var v=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);return(0,a.default)(this,e.apply(this,arguments))}t.prototype._onListItemClick=function e(t,r){this.props.onChange&&this.props.onChange(t)};t.prototype._renderListItems=function e(){var t=this;var r=this.props.fonts;return r.map(function(e,r){var n=t.props,o=n.fontFamily,i=n.fontWeight,a=n.fontStyle;var s=e.optionsEqual({fontFamily:o,fontWeight:i,fontStyle:a});var u=s?"is-active":null;return l.ReactBEM.createElement("li",{bem:"e:item",key:r,className:u,onClick:t._onListItemClick.bind(t,e)},l.ReactBEM.createElement(p.default,{fontFamily:e.getFontFamily(),fontWeight:e.getFontWeight(),fontStyle:e.getFontStyle()}),l.ReactBEM.createElement("div",{bem:"e:label"},e.getFontFamily()))})};t.prototype.renderWithBEM=function e(){var t=this._renderListItems();return l.ReactBEM.createElement("div",{bem:"$b:controls e:overlay m:dark m:large"},l.ReactBEM.createElement(d.default,null,l.ReactBEM.createElement("ul",{bem:"$b:fontFamily e:list"},t)))};return t}(l.BaseComponent);t.default=v;v.contextTypes=l.BaseComponent.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=g(n);var i=r(3);var a=g(i);var s=r(2);var u=g(s);var l=r(1);var c=r(8);var d=g(c);var f=r(145);var p=g(f);var h=r(146);var v=g(h);var m=r(188);var _=g(m);function g(e){return e&&e.__esModule?e:{default:e}}var y=l.SDK.Operations.SpriteOperation.Text;var b=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);return(0,a.default)(this,e.apply(this,arguments))}t.onExit=function e(){var t=this.context.editor;var r=this.getSharedState("operation");if(!this.getSharedState("skipHistory")){t.history.add(r,this.getSharedState("initialOptions"),this.getSharedState("operationExistedBefore"))}r.setEnabled(true);t.zoom.undo();t.features.enable("zoom","drag");t.render()};t.onEnter=function e(t,r){var n=this.context.editor;var o=n.operations.exists("sprite");var i=n.operations.getOrCreate("sprite");var a=i.getSprites();var s=i.serializeOptions();var u=new _.default(r);var l=u.getDefaultFont();this.setSharedState({operationExistedBefore:o,operation:i,sprites:a,initialOptions:s,fontManager:u,defaultFont:l,fonts:u.getFonts()});i.setEnabled(false);n.render()};t.clickAtPosition=function e(t,r){if(!r.operations.exists("sprite"))return false;var n=r.operations.getOrCreate("sprite");var o=n.getSpritesAtPosition(t,r.getOutputTextureDimensions()).filter(function(e){return e instanceof y});if(o.length){return{selectedSprite:o[0]}}else{return false}};t.isAvailable=function e(t){return t.isToolEnabled("text")};t.getPreloadAssets=function e(t){return["controls/text/align_left.png","controls/text/align_right.png","controls/text/align_center.png","controls/text/minus.png","controls/text/plus.png"]};return t}(d.default);b.controlsComponent=v.default;b.canvasControlsComponent=p.default;b.identifier="text";b.iconPath="controls/overview/text.png";b.languageKey="controls.overview.text";b.defaultOptions={additionalFonts:[],replaceFonts:false,selectableFonts:null,defaultText:null};t.default=b},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=h(n);var i=r(3);var a=h(i);var s=r(2);var u=h(s);var l=r(1);var c=r(31);var d=h(c);var f=r(147);var p=h(f);function h(e){return e&&e.__esModule?e:{default:e}}var v=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._bindAll("_onTextEdit");return s}t.prototype._onItemBlur=function e(){var t=this.getSharedState("selectedSprite");if(t&&t.getText()===""){t.setText(l.Constants.DEFAULTS.TEXT);t._edited=false}};t.prototype._onSpriteRemove=function t(){e.prototype._onSpriteRemove.call(this);this.props.onSwitchControls("home")};t.prototype._onTextEdit=function e(){var t=this.getSharedState("selectedSprite");this.refs["sprite-"+t.getId()].enterEditMode()};t.prototype._renderOverlayControls=function e(){if(!this.getSharedState("selectedSprite"))return;return l.ReactBEM.createElement(p.default,{onTakeToFront:this._onSpriteTakeToFront,onRemove:this._onSpriteRemove,onEdit:this._onTextEdit})};return t}(d.default);t.default=v;v.contextTypes=d.default.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(4);var o=T(n);var i=r(0);var a=T(i);var s=r(3);var u=T(s);var l=r(2);var c=T(l);var d=r(1);var f=r(7);var p=T(f);var h=r(5);var v=T(h);var m=r(37);var _=T(m);var g=r(12);var y=T(g);var b=r(64);var x=T(b);var E=r(143);var C=T(E);var w=r(6);var S=T(w);function T(e){return e&&e.__esModule?e:{default:e}}var R=["left","center","right"];var M=function(e){(0,c.default)(t,e);function t(){(0,a.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,u.default)(this,e.call.apply(e,[this].concat(n)));s._bindAll("_onFontSizeChange","_onFontChange","_onAlignmentClick","_onTakeToFrontClick","_onForegroundColorChange","_onBackgroundColorChange","_onBeforeHistoryUndo");s._events=(0,o.default)({},d.Constants.EVENTS.HISTORY_BEFORE_UNDO,s._onBeforeHistoryUndo);s._operation=s.getSharedState("operation");s._fontLoader=s.context.ui.getFontLoader();s._fontLoader.setFonts(s.getSharedState("fonts"));s.state={mode:null,loading:true};var l=s.context.editor;l.render();s._fonts=s.getSharedState("fonts");return s}t.prototype.componentDidMount=function t(){var r=this;e.prototype.componentDidMount.call(this);var n=this.context.editor;n.zoom.set("auto",function(){n.features.disable("zoom","drag")});var o=function e(){r._createText();r.setState({loading:false})};if(this._fontLoader.needsToLoad()){this._loadFonts().then(o.bind(this))}else{o()}};t.prototype._loadFonts=function e(){var t=this;var r=S.default.instance.displayLoading(this._t("loading.loading"));return this._fontLoader.load().then(function(){r.close()}).catch(function(e){r.close();S.default.instance.displayWarning(t._t("errors.loadingFontsFailed.title"),t._t("errors.loadingFontsFailed.text"))})};t.prototype._createText=function e(){var t=this.context.editor;var r=this.getSharedState("selectedSprite");var n=this.getSharedState("operation");var o=this.getSharedState("defaultFont");var i=this.props.options;var a=t.getOutputDimensions();if(!r){var s=t.getSDK();var u=s.getRenderer();var l=u.getMaxTextureSize();var c=n.createText({text:i.defaultText||d.Constants.DEFAULTS.TEXT,position:new d.Vector2(.5,.5),maxWidth:.5,maxHeight:l?l/a.y:3,fontSize:.08,fontFamily:o.getFontFamily(),fontWeight:o.getFontWeight(),fontStyle:o.getFontStyle(),alignment:"center"});n.addSprite(c);this.setSharedState({selectedSprite:c})}};t.prototype._onBeforeHistoryUndo=function e(t){var r=t.operation,n=t.options;if(r!==this.getSharedState("operation"))return;var o=n.sprites;if(o.indexOf(this.getSharedState("selectedSprite"))===-1){this.setSharedState({skipHistory:true},false);this.props.onSwitchControls("home")}};t.prototype._onBackClick=function e(t){var r=this.context.editor;r.render();this._backButtonClicked=true;this.props.onSwitchControls("home")};t.prototype.sharedStateDidChange=function e(t){if("selectedSprite"in t){this.forceUpdate()}};t.prototype._onFontSizeChange=function e(t){var r=this.context.editor.getOutputDimensions();var n=this.getSharedState("selectedSprite");n.setFontSize(t/r.y);this.forceUpdate()};t.prototype._onFontChange=function e(t){var r=this.getSharedState("selectedSprite");r.setFontFamily(t.getFontFamily());r.setFontWeight(t.getFontWeight());r.setFontStyle(t.getFontStyle());this.forceUpdate()};t.prototype._onAlignmentClick=function e(t){var r=this.getSharedState("selectedSprite");var n=r.getAlignment();var o=R.indexOf(n);var i=(o+1)%R.length;var a=R[i];r.setAlignment(a);this.forceSharedUpdate()};t.prototype._onTakeToFrontClick=function e(t){var r=this.getSharedState("operation");r.takeSpriteToFront(this.getSharedState("selectedSprite"));this.forceSharedUpdate()};t.prototype._onForegroundColorChange=function e(t){var r=this.getSharedState("selectedSprite");r.setColor(t)};t.prototype._onBackgroundColorChange=function e(t){var r=this.getSharedState("selectedSprite");r.setBackgroundColor(t)};t.prototype._switchToMode=function e(t){if(t===this.state.mode)t=null;this.setState({mode:t})};t.prototype.renderOverlayControls=function e(){switch(this.state.mode){case"size":return this._renderFontSizeOverlayControl();case"font":return this._renderFontFamilyOverlayControl();default:return null}};t.prototype._renderFontSizeOverlayControl=function e(){var t=this.getSharedState("selectedSprite");if(!t)return;var r=this.context.editor;var n=r.getOutputDimensions();var o=Math.round(n.y);var i=Math.round(t.getFontSize()*n.y);return d.ReactBEM.createElement(y.default,{value:i,maxValue:o,label:this._t("controls.text.size"),onChange:this._onFontSizeChange})};t.prototype._renderSizeItem=function e(){var t=this.getSharedState("selectedSprite");if(!t)return;var r=this.context.editor.getOutputDimensions();var n=t.getFontSize();var o=this.state.mode==="size"?"is-active":null;return d.ReactBEM.createElement("li",{bem:"e:item",key:"size"},d.ReactBEM.createElement("bem",{specifier:"$b:controls"},d.ReactBEM.createElement("div",{bem:"$e:button m:withLabel",className:o,"data-identifier":"fontSize",onClick:this._switchToMode.bind(this,"size")},d.ReactBEM.createElement("div",{bem:"b:fontSize e:text"},Math.round(n*r.y)),d.ReactBEM.createElement("div",{bem:"e:label"},this._t("controls.text.size")))))};t.prototype._renderFontFamilyOverlayControl=function e(){var t=this.getSharedState("selectedSprite");if(!t)return;return d.ReactBEM.createElement(C.default,{fontFamily:t.getFontFamily(),fontWeight:t.getFontWeight(),fontStyle:t.getFontStyle(),fonts:this._fonts,onChange:this._onFontChange})};t.prototype._renderFontItem=function e(){var t=this.getSharedState("selectedSprite");if(!t)return;var r=this.state.mode==="font"?"is-active":null;return d.ReactBEM.createElement("li",{bem:"e:item",key:"font"},d.ReactBEM.createElement("bem",{specifier:"$b:controls"},d.ReactBEM.createElement("div",{bem:"$e:button m:withLabel",className:r,"data-identifier":"font",onClick:this._switchToMode.bind(this,"font")},d.ReactBEM.createElement(x.default,{fontFamily:t.getFontFamily(),fontWeight:t.getFontWeight(),fontStyle:t.getFontStyle()}),d.ReactBEM.createElement("div",{bem:"e:label"},this._t("controls.text.font")))))};t.prototype._renderAlignmentItem=function e(){var t=this.getSharedState("selectedSprite");if(!t)return;var r=t.getAlignment();return d.ReactBEM.createElement("li",{bem:"e:item",key:"alignment"},d.ReactBEM.createElement("bem",{specifier:"$b:controls"},d.ReactBEM.createElement("div",{bem:"$e:button m:withLabel",onClick:this._onAlignmentClick,"data-identifier":"alignment"},d.ReactBEM.createElement("img",{bem:"e:icon",src:this._getAssetPath("controls/text/align_"+r+".png",true)}),d.ReactBEM.createElement("div",{bem:"e:label"},this._t("controls.text.alignment")))))};t.prototype._renderTakeToFrontItem=function e(){return d.ReactBEM.createElement("li",{bem:"e:item",key:"takeToFront"},d.ReactBEM.createElement("bem",{specifier:"$b:controls"},d.ReactBEM.createElement("div",{bem:"$e:button m:withLabel",onClick:this._onTakeToFrontClick},d.ReactBEM.createElement("img",{bem:"e:icon",src:this._getAssetPath("controls/sprites/take_to_front.png",true)}),d.ReactBEM.createElement("div",{bem:"e:label"},this._t("controls.text.takeToFront")))))};t.prototype.renderControls=function e(){if(this.state.loading)return d.ReactBEM.createElement("div",null);var t=[this._renderSizeItem(),this._renderFontItem(),this._renderAlignmentItem()];var r=this.getSharedState("selectedSprite");var n=r.getColor().clone();var o=r.getBackgroundColor().clone();return[d.ReactBEM.createElement("div",{bem:"e:cell m:list"},d.ReactBEM.createElement(v.default,{ref:"scrollbar"},d.ReactBEM.createElement("ul",{bem:"$e:list"},t))),d.ReactBEM.createElement("div",{bem:"e:cell m:colorPicker"},d.ReactBEM.createElement(_.default,{initialValue:n,label:this._t("controls.text.foreground"),onChange:this._onForegroundColorChange})),d.ReactBEM.createElement("div",{bem:"e:cell m:colorPicker"},d.ReactBEM.createElement(_.default,{initialValue:o,label:this._t("controls.text.background"),onChange:this._onBackgroundColorChange}))]};return t}(p.default);t.default=M;M.contextTypes=p.default.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=c(n);var i=r(3);var a=c(i);var s=r(2);var u=c(s);var l=r(1);function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);return(0,a.default)(this,e.apply(this,arguments))}t.prototype._onEditClick=function e(t){t.preventDefault();t.stopPropagation();this.props.onEdit&&this.props.onEdit()};t.prototype._onTakeToFrontClick=function e(t){t.preventDefault();t.stopPropagation();this.props.onTakeToFront&&this.props.onTakeToFront()};t.prototype._onRemoveClick=function e(t){t.preventDefault();t.stopPropagation();this.props.onRemove&&this.props.onRemove()};t.prototype._renderItems=function e(){var t=[l.ReactBEM.createElement("div",{bem:"$e:item",onClick:this._onTakeToFrontClick.bind(this)},l.ReactBEM.createElement("img",{bem:"e:icon",src:this._getAssetPath("controls/sprites/take-to-front.png",true)}))];if(l.Utils.isMobile()){t=t.concat([l.ReactBEM.createElement("div",{bem:"$e:separator"}),l.ReactBEM.createElement("div",{bem:"$e:item",onClick:this._onEditClick.bind(this)},l.ReactBEM.createElement("img",{bem:"e:icon",src:this._getAssetPath("controls/sprites/edit.png",true)}))])}t=t.concat([l.ReactBEM.createElement("div",{bem:"$e:separator"}),l.ReactBEM.createElement("div",{bem:"$e:item",onClick:this._onRemoveClick.bind(this)},l.ReactBEM.createElement("img",{bem:"e:icon",src:this._getAssetPath("controls/sprites/remove.png",true)}))]);return t};t.prototype.renderWithBEM=function e(){return l.ReactBEM.createElement("div",{bem:"$b:spritesControlsOverlay"},this._renderItems())};return t}(l.BaseComponent);t.default=d;d.contextTypes=l.BaseComponent.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=c(n);var i=r(3);var a=c(i);var s=r(2);var u=c(s);var l=r(1);function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);return(0,a.default)(this,e.apply(this,arguments))}t.prototype.renderWithBEM=function e(){return l.ReactBEM.createElement("bem",{specifier:"$b:controls"},l.ReactBEM.createElement("div",{bem:"e:cell m:largeButton"},l.ReactBEM.createElement("div",{bem:"$e:largeButton",onClick:this.props.onClick},l.ReactBEM.createElement("img",{bem:"e:icon",src:this._getAssetPath("controls/tick.png",true)}))))};return t}(l.BaseComponent);t.default=d;d.contextTypes=l.BaseComponent.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=c(n);var i=r(3);var a=c(i);var s=r(2);var u=c(s);var l=r(1);function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._bindAll("_onCloseClick");return s}t.prototype._onCloseClick=function e(){this.context.mediator.emit(l.Constants.EVENTS.CLOSE)};t.prototype.renderWithBEM=function e(){var t=void 0;if(this.context.options.showCloseButton){t=l.ReactBEM.createElement("div",{bem:"$e:close",onClick:this._onCloseClick},l.ReactBEM.createElement("img",{bem:"e:image",src:this._getAssetPath("close.png",true)}))}return l.ReactBEM.createElement("div",{bem:"$b:header"},l.ReactBEM.createElement("div",{bem:"e:label"},this.context.options.title),t)};return t}(l.BaseComponent);t.default=d;d.contextTypes=l.BaseComponent.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=g(n);var i=r(3);var a=g(i);var s=r(2);var u=g(s);var l=r(1);var c=r(152);var d=g(c);var f=r(154);var p=g(f);var h=r(151);var v=g(h);var m=r(153);var _=g(m);function g(e){return e&&e.__esModule?e:{default:e}}var y=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._modalManager=s.props.modalManager;s._bindAll("_onModalManagerUpdate");return s}t.prototype.componentDidMount=function t(){e.prototype.componentDidMount.call(this);this._modalManager.on("update",this._onModalManagerUpdate)};t.prototype.componentWillUnmount=function t(){e.prototype.componentWillUnmount.call(this);this._modalManager.off("update",this._onModalManagerUpdate)};t.prototype._onModalManagerUpdate=function e(){this.forceUpdate()};t.prototype._onModalClosed=function e(t){this._modalManager.removeModal(t)};t.prototype._renderModals=function e(){var t=this;var r=this._modalManager.getModals();return r.map(function(e){var r=void 0;switch(e.type){case"loading":r=d.default;break;case"warning":r=p.default;break;case"error":r=v.default;break;case"progress":r=_.default;break}return l.ReactBEM.createElement(r,{modal:e,onClose:t._onModalClosed.bind(t,e)})})};t.prototype.renderWithBEM=function e(){return l.ReactBEM.createElement("div",null,this._renderModals())};return t}(l.BaseComponent);t.default=y;y.contextTypes=l.BaseComponent.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=c(n);var i=r(3);var a=c(i);var s=r(2);var u=c(s);var l=r(1);function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._bindAll("_onClose");return s}t.prototype._onClose=function e(){this.props.modal.close()};t.prototype.renderWithBEM=function e(){var t=this.props.modal;var r=l.ReactBEM.createElement("div",{bem:"e:modal m:error"},l.ReactBEM.createElement("div",{bem:"e:title"},t.title),l.ReactBEM.createElement("div",{bem:"e:text"},t.text),l.ReactBEM.createElement("div",{bem:"e:button b:button m:inline",onClick:this._onClose},"OK"));var n=t.overlay?l.ReactBEM.createElement("div",{bem:"e:overlay"},r):r;return l.ReactBEM.createElement("bem",{specifier:"$b:modals"},n)};return t}(l.BaseComponent);t.default=d;d.propTypes={modal:l.React.PropTypes.object};d.contextTypes=l.BaseComponent.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=c(n);var i=r(3);var a=c(i);var s=r(2);var u=c(s);var l=r(1);function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);return(0,a.default)(this,e.apply(this,arguments))}t.prototype.renderWithBEM=function e(){var t=this.props.modal;return l.ReactBEM.createElement("bem",{specifier:"$b:modals"},l.ReactBEM.createElement("div",{bem:"e:overlay"},l.ReactBEM.createElement("div",{bem:"e:modal m:loading"},l.ReactBEM.createElement("div",{bem:"e:text"},t.text))))};return t}(l.BaseComponent);t.default=d;d.propTypes={modal:l.React.PropTypes.object};d.contextTypes=l.BaseComponent.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=c(n);var i=r(3);var a=c(i);var s=r(2);var u=c(s);var l=r(1);function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);return(0,a.default)(this,e.apply(this,arguments))}t.prototype.renderWithBEM=function e(){var t=this.props.modal;var r=t.data.progress;var n={width:((r||0)*100).toFixed(2)+"%"};return l.ReactBEM.createElement("bem",{specifier:"$b:modals"},l.ReactBEM.createElement("div",{bem:"e:overlay"},l.ReactBEM.createElement("div",{bem:"e:modal m:loading"},l.ReactBEM.createElement("div",{bem:"e:text"},t.text),l.ReactBEM.createElement("bem",{specifier:"b:loadingModal"},l.ReactBEM.createElement("div",{bem:"$e:progressBar"},l.ReactBEM.createElement("div",{bem:"e:progress",style:n}))))))};return t}(l.BaseComponent);t.default=d;d.propTypes={modal:l.React.PropTypes.object};d.contextTypes=l.BaseComponent.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=c(n);var i=r(3);var a=c(i);var s=r(2);var u=c(s);var l=r(1);function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);return(0,a.default)(this,e.apply(this,arguments))}t.prototype.renderWithBEM=function e(){var t=this.props.modal;return l.ReactBEM.createElement("bem",{specifier:"$b:modals"},l.ReactBEM.createElement("div",{bem:"e:modal m:warning"},l.ReactBEM.createElement("div",{bem:"e:title"},t.title),l.ReactBEM.createElement("div",{bem:"e:text"},t.text),l.ReactBEM.createElement("div",{bem:"e:button b:button m:inline",onClick:this.props.onClose},"OK")))};return t}(l.BaseComponent);t.default=d;d.propTypes={modal:l.React.PropTypes.object};d.contextTypes=l.BaseComponent.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(4);var o=f(n);var i=r(0);var a=f(i);var s=r(3);var u=f(s);var l=r(2);var c=f(l);var d=r(1);function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){(0,c.default)(t,e);function t(){var r;(0,a.default)(this,t);for(var n=arguments.length,i=Array(n),s=0;s<n;s++){i[s]=arguments[s]}var l=(0,u.default)(this,e.call.apply(e,[this].concat(i)));l._bindAll("_onDragStart","_onDragMove","_onDragEnd","_onWindowResize","_onFeaturesUpdated","_onZoomChange");l._events=(r={},(0,o.default)(r,d.Constants.EVENTS.WINDOW_RESIZE,l._onWindowResize),(0,o.default)(r,d.Constants.EVENTS.FEATURES_UPDATED,l._onFeaturesUpdated),r);l._initialRenderDone=false;l.state={canvasPosition:new d.Vector2,canvasOffset:new d.Vector2};return l}t.prototype._onWindowResize=function e(){var t=this.context.editor;var r=t.getSDK();r.resizeTo(this._getContainerDimensions());t.zoom.set("auto")};t.prototype._onFeaturesUpdated=function e(t){if(t.indexOf("drag")!==-1){this.forceUpdate()}};t.prototype.componentDidMount=function t(){e.prototype.componentDidMount.call(this);var r=this.context.editor;var n=r.getRenderer();var o=this.refs,i=o.canvasCell,a=o.canvas;var s=i.offsetWidth;var u=i.offsetHeight;n.setCanvas(a);n.resizeTo(new d.Vector2(s,u),true);r.zoom.on("set",this._onZoomChange)};t.prototype.componentWillUnmount=function e(){var t=this.context.editor;t.zoom.off("set",this._onZoomChange)};t.prototype._onZoomChange=function e(){this.forceUpdate()};t.prototype._onDragStart=function e(t){var r=this.context.editor;if(!r.features.isEnabled("drag"))return;t.preventDefault();this._dragStartPosition=d.Utils.getEventPosition(t.nativeEvent);this._dragInitialOffset=r.getOffset().clone();document.addEventListener("mousemove",this._onDragMove);document.addEventListener("touchmove",this._onDragMove);document.addEventListener("mouseup",this._onDragEnd);document.addEventListener("touchend",this._onDragEnd)};t.prototype._onDragMove=function e(t){var r=d.Utils.getEventPosition(t);var n=r.clone().subtract(this._dragStartPosition);var o=this._dragInitialOffset.clone().add(n);var i=this.context.editor;var a=i.getOffset().clone();i.setOffset(o);if(!i.getOffset().equals(a)){i.render()}};t.prototype._onDragEnd=function e(t){document.removeEventListener("mousemove",this._onDragMove);document.removeEventListener("touchmove",this._onDragMove);document.removeEventListener("mouseup",this._onDragEnd);document.removeEventListener("touchend",this._onDragEnd)};t.prototype._getContainerDimensions=function e(){var t=this.refs.canvasCell;return new d.Vector2(t.offsetWidth,t.offsetHeight)};t.prototype._getDraggableStyle=function e(){return{top:this.state.canvasPosition.y+this.state.canvasOffset.y,left:this.state.canvasPosition.x+this.state.canvasOffset.x}};t.prototype.renderWithBEM=function e(){var t=null;var r=null;if(this.props.largeControls){r=this.props.children}else{t=this.props.children}var n=this.context.editor;var o=n.isReady()&&n.zoom.get()>n.zoom.getDefault();var i=n.features.isEnabled("drag")&&o;return d.ReactBEM.createElement("div",{bem:"$b:canvas e:container e:row"},d.ReactBEM.createElement("div",{bem:"e:container e:cell",ref:"canvasCell"},d.ReactBEM.createElement("div",{bem:"e:innerContainer",className:i?"is-draggable":null,onTouchStart:this._onDragStart,onMouseDown:this._onDragStart,style:this._getDraggableStyle()},d.ReactBEM.createElement("canvas",{bem:"e:canvas",ref:"canvas"}),t),r))};return t}(d.BaseComponent);t.default=p;p.contextTypes=d.BaseComponent.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=E(n);var i=r(3);var a=E(i);var s=r(2);var u=E(s);var l=r(1);var c=r(63);var d=E(c);var f=r(21);var p=E(f);var h=r(155);var v=E(h);var m=r(6);var _=E(m);var g=r(125);var y=E(g);var b=r(68);var x=E(b);function E(e){return e&&e.__esModule?e:{default:e}}var C=500;var w=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._overviewControls=d.default;s._bindAll("switchToControls","_startEditor","_onWindowResize","_onWindowResizeDone","_onImageResize","_onNewImage","_onRenderError");s._previousControlsStack=[];s.state={zoom:null,controls:y.default,dragEnabled:true,sharedState:new l.SharedState};s._editor=new x.default(s.context.ui,s.context.options,s.context.mediator);s._editor.on("new-image",s._onNewImage);s._editor.on("ready",s._startEditor);s._editor.on("resize",s._onImageResize);s._editor.on("render-error",s._onRenderError);s._forceControls=s.context.options.editor.forceControls;s._forceControlIndex=0;return s}t.prototype.componentDidMount=function t(){e.prototype.componentDidMount.call(this);var r=this.context.options.editor.image;this.setImage(r);this._editor.render();this._switchToNextForceControl();var n=this.context.options;if(n.responsive){window.addEventListener("resize",this._onWindowResize)}};t.prototype.componentWillUnmount=function t(){e.prototype.componentWillUnmount.call(this);this._editor.dispose();var r=this.context.options;if(r.responsive){window.removeEventListener("resize",this._onWindowResize)}};t.prototype._startEditor=function e(){this._editor.start()};t.prototype._switchToNextForceControl=function e(){if(this._forceControlIndex<this._forceControls.length){var t=this._forceControls[this._forceControlIndex],r=t.control,n=t.options;var o=this._editor.controls.getAvailable();var i=o[r];var a=l.SDKUtils.defaults({forcedControl:true},n);if(!i){throw new Error("Force controls: Could not find control with identifier `"+r+"`")}this.switchToControls(i,{},null,a);this._forceControlIndex++}};t.prototype._onRenderError=function e(t){_.default.instance.displayError(this._t("errors.renderingError.title"),this._t("errors.renderingError.text"),true);l.Log.error(this.constructor.name,"An error occurred while rendering: "+t.message);l.Log.printError(t)};t.prototype._onNewImage=function e(){this.switchToControls(y.default)};t.prototype._onImageResize=function e(){var t=this;var r=_.default.instance.displayLoading(this._t("loading.resizing"));this._editor.once("resized",function(e){var n=e.dimensions,o=e.reason;r.close();if(t.context.options.editor.displayResizeMessage){_.default.instance.displayWarning(t._t("warnings.imageResized_"+o+".title"),t._t("warnings.imageResized_"+o+".text",{maxMegaPixels:t._editor.getMaxMegapixels(),width:n.x,height:n.y}))}})};t.prototype._onWindowResize=function e(){if(this._resizeTimeout){window.clearTimeout(this._resizeTimeout);this._resizeTimeout=null}this._resizeTimeout=window.setTimeout(this._onWindowResizeDone,C)};t.prototype._onWindowResizeDone=function e(){this._emitEvent(l.Constants.EVENTS.WINDOW_RESIZE)};t.prototype.switchToControls=function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;
var o=arguments[3];var i=null;if(t==="back"){i=this._previousControlsStack.pop()}else if(t==="home"){if(this._forceControlIndex<this._forceControls.length){return this._switchToNextForceControl()}i=y.default;this._previousControlsStack=[]}else{i=t;this._previousControlsStack.push(this.state.controls)}var a=this.state.controls!==i;if(this.state.controls.onExit){this.state.controls.onExit.call(this.refs.controls)}this.state.sharedState.clear();this.state.sharedState.set(r,false);var s=l.SDKUtils.defaults(o||this.context.options.editor.controlsOptions[i.identifier],i.defaultOptions);if(i.onEnter){i.onEnter.call(this.refs.controls,this.state.sharedState,s)}if(a){this.setState({controls:i,controlsOptions:s},n)}else{return n&&n()}};t.prototype.getZoom=function e(){return this.state.zoom};t.prototype.export=function e(){var t=this;for(var r=arguments.length,n=Array(r),o=0;o<r;o++){n[o]=arguments[o]}return new Promise(function(e,r){t.switchToControls("home",{},function(){var o;(o=t._editor).export.apply(o,n).then(e).catch(r)})})};t.prototype.getEditor=function e(){return this._editor};t.prototype.serialize=function e(){var t;return(t=this._editor).serialize.apply(t,arguments)};t.prototype.deserialize=function e(t){return this._editor.deserialize(t)};t.prototype._showUndoButton=function e(){return this._editor.history.isAvailable()};t.prototype.getChildContext=function e(){return{editor:this._editor,ui:this.context.ui,options:this.context.options,editorScreen:this,mediator:this.context.mediator}};t.prototype.setImage=function e(t,r){this._editor.setImage(t,r)};t.prototype._renderScreen=function e(){var t=this.state.controls.controlsComponent;var r=this.state.controls.canvasControlsComponent;if(!r){r=y.default.canvasControlsComponent}var n=this.state.controls.topBarControlsComponent;if(!n){n=y.default.topBarControlsComponent}var o=void 0,i=void 0,a=void 0;if(n&&this.context.options.showTopBar){a=l.ReactBEM.createElement(n,{sharedState:this.state.sharedState,options:this.state.controlsOptions,app:this.props.app,ref:"topBarControls"})}if(t){o=l.ReactBEM.createElement(t,{onSwitchControls:this.switchToControls,sharedState:this.state.sharedState,options:this.state.controlsOptions,app:this.props.app,key:this.state.controls.identifier+"-controls",ref:"controls"})}if(r){i=l.ReactBEM.createElement(r,{onSwitchControls:this.switchToControls,sharedState:this.state.sharedState,options:this.state.controlsOptions,app:this.props.app,key:this.state.controls.identifier+"-canvasControls",ref:"canvasControls"})}var s="$b:editorScreen";if(!this.context.options.showHeader){s+=" m:noHeader"}return l.ReactBEM.createElement("div",{bem:s},a,l.ReactBEM.createElement(v.default,{ref:"canvas",largeControls:this.state.controls.largeCanvasControls},i),l.ReactBEM.createElement("div",{bem:"$b:controls $e:container e:row"},l.ReactBEM.createElement("div",{bem:"e:cell"},o)))};return t}(p.default);t.default=w;w.childContextTypes={ui:l.React.PropTypes.object.isRequired,editor:l.React.PropTypes.object.isRequired,mediator:l.React.PropTypes.object.isRequired,options:l.React.PropTypes.object.isRequired,editorScreen:l.React.PropTypes.object.isRequired};w.contextTypes=p.default.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=h(n);var i=r(3);var a=h(i);var s=r(2);var u=h(s);var l=r(1);var c=r(194);var d=h(c);var f=r(21);var p=h(f);function h(e){return e&&e.__esModule?e:{default:e}}var v=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s.state={progress:0};s._preloader=new d.default(s.context.ui,s.context.options,s.context.mediator);s._preloader.on("progress",function(e){s.state.progress=e});s._preloader.on("done",function(){s.props.app.switchToScreen("post-loading")});return s}t.prototype.componentDidMount=function t(){var r=this;e.prototype.componentDidMount.call(this);var n=window,o=n.devicePixelRatio;this._canvas=this.refs.canvas;this._canvas.width=this._canvas.offsetWidth*o;this._canvas.height=this._canvas.offsetHeight*o;this._context=this._canvas.getContext("2d");this._preloaderImage=new window.Image;this._preloaderImage.addEventListener("load",function(){r._preloader.load();(0,l.requestAnimationFrame)(r._tick)});this._preloaderImage.crossOrigin="Anonymous";this._preloaderImage.src=this.context.ui.getAssetPath("preloader.png",true);this._running=true;this._tick=this._tick.bind(this)};t.prototype.componentWillUnmount=function t(){e.prototype.componentWillUnmount.call(this);this._running=false};t.prototype._tick=function e(){this._renderLoadingIndicator();if(this._running){(0,l.requestAnimationFrame)(this._tick)}};t.prototype._renderLoadingIndicator=function e(){var t=this._canvas,r=t.width,n=t.height;var o=this._context;o.clearRect(0,0,r,n);o.save();o.beginPath();o.moveTo(r/2,n/2);o.arc(r/2,n/2,r/2,-Math.PI*.5,Math.PI*2*this.state.progress-Math.PI*.5,false);o.lineTo(r/2,n/2);o.clip();o.drawImage(this._preloaderImage,0,0,this._preloaderImage.width,this._preloaderImage.height,0,0,r,n);o.restore();o.save();o.globalAlpha=.05;o.drawImage(this._preloaderImage,0,0,this._preloaderImage.width,this._preloaderImage.height,0,0,r,n);o.restore()};t.prototype._renderScreen=function e(){return l.ReactBEM.createElement("div",{bem:"$b:loadingScreen"},l.ReactBEM.createElement("div",{bem:"e:container"},l.ReactBEM.createElement("canvas",{bem:"e:canvas",ref:"canvas"})))};return t}(p.default);t.default=v;v.contextTypes=l.BaseComponent.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=c(n);var i=r(3);var a=c(i);var s=r(2);var u=c(s);var l=r(1);function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._bindAll("_onClick");return s}t.prototype._onClick=function e(){this.props.onClick&&this.props.onClick(this.props.library)};t.prototype.renderWithBEM=function e(){var t=this.props.library;var r={backgroundImage:"url("+t.coverImage+")"};return l.ReactBEM.createElement("bem",{specifier:"b:photoRoll e:libraryList"},l.ReactBEM.createElement("li",{bem:"e:item",style:r,onClick:this._onClick},l.ReactBEM.createElement("div",{bem:"e:overlay"}),l.ReactBEM.createElement("div",{bem:"e:name"},t.name)))};return t}(l.BaseComponent);t.default=d;d.contextTypes=l.BaseComponent.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=c(n);var i=r(3);var a=c(i);var s=r(2);var u=c(s);var l=r(1);function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);return(0,a.default)(this,e.apply(this,arguments))}t.prototype.renderWithBEM=function e(){var t=this.props.photo;return l.ReactBEM.createElement("bem",{specifier:"b:photoRoll e:photoList"},l.ReactBEM.createElement("li",{bem:"$e:item",onClick:this.props.onClick},l.ReactBEM.createElement("div",{bem:"e:overlay"}),l.ReactBEM.createElement("div",{bem:"e:title"},t.title),l.ReactBEM.createElement("img",{bem:"e:image",src:t.urls.thumb})))};return t}(l.BaseComponent);t.default=d;d.contextTypes=l.BaseComponent.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=f(n);var i=r(3);var a=f(i);var s=r(2);var u=f(s);var l=r(1);var c=r(65);var d=f(c);function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._bindAll("_onSearchSuggestionClick");var u=s.context.options.photoRoll.provider;s._provider=new u;s.state={searchSuggestions:[]};return s}t.prototype._onSearchSuggestionClick=function e(t){this.props.onSearchSuggestionClicked&&this.props.onSearchSuggestionClicked(t)};t.prototype.componentDidMount=function t(){var r=this;e.prototype.componentDidMount.call(this);this._provider.getSearchSuggestions().then(function(e){r.setState({searchSuggestions:e})})};t.prototype._renderMessage=function e(){return{__html:this._t("photoRoll.search.noSearchResults",{query:this.props.query})}};t.prototype._renderSearchSuggestions=function e(){var t=this;if(!this.state.searchSuggestions.length)return null;var r=this.state.searchSuggestions.map(function(e){return l.ReactBEM.createElement(d.default,{onClick:t._onSearchSuggestionClick,searchSuggestion:e})});return l.ReactBEM.createElement("div",null,l.ReactBEM.createElement("div",{bem:"e:headline"},"Search suggestions"),l.ReactBEM.createElement("ul",{bem:"$e:libraryList"},r))};t.prototype.renderWithBEM=function e(){return l.ReactBEM.createElement("div",{bem:"$b:photoRoll e:row m:fullHeight"},l.ReactBEM.createElement("div",{bem:"e:cell"},l.ReactBEM.createElement("div",{bem:"e:container"},l.ReactBEM.createElement("div",{bem:"e:innerContainer"},l.ReactBEM.createElement("div",{bem:"e:noSearchResults",dangerouslySetInnerHTML:this._renderMessage()}),this._renderSearchSuggestions()))))};return t}(l.BaseComponent);t.default=p;p.contextTypes=l.BaseComponent.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(212);var o=g(n);var i=r(0);var a=g(i);var s=r(3);var u=g(s);var l=r(2);var c=g(l);var d=r(1);var f=r(6);var p=g(f);var h=r(158);var v=g(h);var m=r(65);var _=g(m);function g(e){return e&&e.__esModule?e:{default:e}}var y=function(e){(0,c.default)(t,e);function t(){(0,a.default)(this,t);for(var r=arguments.length,n=Array(r),o=0;o<r;o++){n[o]=arguments[o]}var i=(0,u.default)(this,e.call.apply(e,[this].concat(n)));i._needsStyleFixes=true;i.state={loading:true,libraries:[],searchSuggestions:[]};i._bindAll("_onLibraryClick","_onSearchSuggestionClick");var s=i.context.options.photoRoll.provider;i._provider=new s;return i}t.prototype.fixStyles=function e(){if(d.Utils.Browser.isIElte(11)){var t=this.refs,r=t.cell,n=t.container;if(!(r&&n)){return}var o=r.offsetHeight;n.style.height=o+"px"}};t.prototype.componentDidMount=function t(){var r=this;e.prototype.componentDidMount.call(this);var n=p.default.instance.displayLoading(this._t("loading.loading"));this._load().then(function(e){var t=(0,o.default)(e,2),i=t[0],a=t[1];n.close();if(i.length===1){r._onLibraryClick(i[0],true)}else{r.setState({loading:false,libraries:i,searchSuggestions:a})}})};t.prototype._onLibraryClick=function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;this.props.onLibraryClicked&&this.props.onLibraryClicked(t,r)};t.prototype._onSearchSuggestionClick=function e(t){this.props.onSearchSuggestionClicked&&this.props.onSearchSuggestionClicked(t)};t.prototype._load=function e(){var t=[this._provider.getLibraries(),this._provider.getSearchSuggestions()];return d.Promise.all(t)};t.prototype._renderLibraries=function e(){var t=this;var r=this.state.libraries.map(function(e){return d.ReactBEM.createElement(v.default,{onClick:t._onLibraryClick,library:e})});return d.ReactBEM.createElement("li",{bem:"e:item"},d.ReactBEM.createElement("bem",{specifier:"b:photoRoll"},d.ReactBEM.createElement("div",{bem:"e:headline"},"Browse libraries"),d.ReactBEM.createElement("ul",{bem:"$e:libraryList"},r)))};t.prototype._renderSearchSuggestions=function e(){var t=this;if(!this.state.searchSuggestions.length)return null;var r=this.state.searchSuggestions.map(function(e){return d.ReactBEM.createElement(_.default,{onClick:t._onSearchSuggestionClick,searchSuggestion:e})});return d.ReactBEM.createElement("li",{bem:"e:item"},d.ReactBEM.createElement("bem",{specifier:"b:photoRoll"},d.ReactBEM.createElement("div",{bem:"e:headline"},"Search suggestions"),d.ReactBEM.createElement("ul",{bem:"$e:libraryList"},r)))};t.prototype._renderContent=function e(){return d.ReactBEM.createElement("div",{bem:"$b:photoRoll e:row m:fullHeight"},d.ReactBEM.createElement("div",{bem:"e:cell",ref:"cell"},d.ReactBEM.createElement("div",{bem:"e:container",ref:"container"},d.ReactBEM.createElement("div",{bem:"e:innerContainer"},d.ReactBEM.createElement("ul",{bem:"$e:groupList"},this._renderLibraries(),this._renderSearchSuggestions())))))};t.prototype.renderWithBEM=function e(){if(!this.state.loading){return this._renderContent()}else{return d.ReactBEM.createElement("div",null)}};return t}(d.BaseComponent);t.default=y;y.contextTypes=d.BaseComponent.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=E(n);var i=r(3);var a=E(i);var s=r(2);var u=E(s);var l=r(1);var c=r(21);var d=E(c);var f=r(165);var p=E(f);var h=r(161);var v=E(h);var m=r(66);var _=E(m);var g=r(163);var y=E(g);var b=r(6);var x=E(b);function E(e){return e&&e.__esModule?e:{default:e}}var C=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s.state={section:"overview",sectionsHistory:[]};s._bindAll("_onLibraryClicked","_onSearchSuggestionClicked","_onPhotoClicked","_onFileUpload","_onWebcamClick","_onBackClicked","_onSearch");return s}t.prototype.hasPreviousSection=function e(){return!!this.state.sectionsHistory.length};t.prototype.switchToSection=function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;if(t==="back"){if(!this.hasPreviousSection()){if(r){return this.props.app.switchToScreen("back")}else{return this.switchToSection("overview")}}t=this.state.sectionsHistory.pop()}else if(this.state.section!==t&&n){this.state.sectionsHistory.push(this.state.section)}this.setState({section:t})};t.prototype._onLibraryClicked=function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;this.state.library=t;this.switchToSection("library",true,!r)};t.prototype._onSearchSuggestionClicked=function e(t){this.state.searchQuery=t.query;this.switchToSection("search")};t.prototype._onPhotoClicked=function e(t){var r=this;var n=x.default.instance.displayLoading(this._t("loading.loading"));var o=new window.Image;o.addEventListener("load",function(){n.close();r.props.app.setImage(o,true)});o.addEventListener("error",function(){n.close();x.default.instance.displayError(r._t("errors.imageLoadFail.title"),r._t("errors.imageLoadFail.text",{path:o.src}))});o.crossOrigin="Anonymous";o.src=t.urls.raw};t.prototype._onBackClicked=function e(){this.switchToSection("back")};t.prototype._onSearch=function e(t){if(!t.trim().length){this.state.searchQuery=null;return this.switchToSection("back",false)}this.state.searchQuery=t;this.switchToSection("search")};t.prototype._onWebcamClick=function e(){this.props.app.switchToScreen("webcam")};t.prototype._onFileUpload=function e(t){this.props.app.setImage(t)};t.prototype._isBackButtonVisible=function e(){return this.state.sectionsHistory.length!==0||this.props.app.hasPreviousScreen()};t.prototype._renderContent=function e(){switch(this.state.section){case"search":return l.ReactBEM.createElement(y.default,{query:this.state.searchQuery,onPhotoClicked:this._onPhotoClicked,onSearchSuggestionClicked:this._onSearchSuggestionClicked});case"library":return l.ReactBEM.createElement(_.default,{library:this.state.library,onPhotoClicked:this._onPhotoClicked});case"overview":return l.ReactBEM.createElement(v.default,{onLibraryClicked:this._onLibraryClicked,onSearchSuggestionClicked:this._onSearchSuggestionClicked})}};t.prototype._renderScreen=function e(){var t=this._renderContent();return l.ReactBEM.createElement("div",{bem:"$b:photoRollScreen"},l.ReactBEM.createElement(p.default,{onBackClicked:this._onBackClicked,onSearch:this._onSearch,searchQuery:this.state.searchQuery,onFileUpload:this._onFileUpload,onWebcamClick:this._onWebcamClick,backButton:this._isBackButtonVisible(),backButtonLabel:this._t("generic.back"),ref:"topBarControls"}),t)};return t}(d.default);t.default=C;C.childContextTypes={ui:l.React.PropTypes.object.isRequired,editor:l.React.PropTypes.object.isRequired,mediator:l.React.PropTypes.object.isRequired,options:l.React.PropTypes.object.isRequired,editorScreen:l.React.PropTypes.object.isRequired};C.contextTypes=d.default.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=m(n);var i=r(3);var a=m(i);var s=r(2);var u=m(s);var l=r(1);var c=r(66);var d=m(c);var f=r(160);var p=m(f);var h=r(6);var v=m(h);function m(e){return e&&e.__esModule?e:{default:e}}var _=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);return(0,a.default)(this,e.apply(this,arguments))}t.prototype.componentWillReceiveProps=function e(t){if(t.query!==this.props.query){this._loadPhotos(t.query)}};t.prototype._getHeadline=function e(){return this._t("photoRoll.search.results.headline",{query:this.props.query})};t.prototype._loadPhotos=function e(){var t=this;var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:this.props.query;this._totalPhotosHeight=0;var n=v.default.instance.displayProgress(this._t("loading.loading"));var o=this.context.options.photoRoll.provider;var i=new o;i.searchPhotos(r).then(function(e){return t._preloadPhotos(e,n)}).then(function(e){t.setState({photos:e,loading:false});n.close()})};t.prototype._renderNotFound=function e(){return l.ReactBEM.createElement(p.default,{query:this.props.query,onSearchSuggestionClicked:this.props.onSearchSuggestionClicked})};t.prototype.renderWithBEM=function e(){if(!this.state.loading){if(this.state.photos.length===0){return this._renderNotFound()}else{return this._renderPhotos()}}else{return l.ReactBEM.createElement("div",null)}};return t}(d.default);t.default=_;_.contextTypes=d.default.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=c(n);var i=r(3);var a=c(i);var s=r(2);var u=c(s);var l=r(1);function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);return(0,a.default)(this,e.apply(this,arguments))}t.prototype.renderWithBEM=function e(){return l.ReactBEM.createElement("bem",{specifier:"$b:topBar"},l.ReactBEM.createElement("div",{bem:"$e:iconButton",onClick:this.props.onClick},l.ReactBEM.createElement("img",{bem:"e:icon",src:this.props.icon})))};return t}(l.BaseComponent);t.default=d;d.contextTypes=l.BaseComponent.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=b(n);var i=r(3);var a=b(i);var s=r(2);var u=b(s);var l=r(1);var c=r(32);var d=b(c);var f=r(164);var p=b(f);var h=r(40);var v=b(h);var m=r(166);var _=b(m);var g=r(173);var y=b(g);function b(e){return e&&e.__esModule?e:{default:e}}var x=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._bindAll("_onUploadButtonClicked","_onWebcamButtonClicked","_onBackClicked","_onSearchValueChange","_onNewFile");s._onSearchValueChange=l.Utils.debounce(s._onSearchValueChange,250);return s}t.prototype._onBackClicked=function e(){this.props.onBackClicked&&this.props.onBackClicked()};t.prototype._onSearchValueChange=function e(t){this.props.onSearch&&this.props.onSearch(t)};t.prototype._onUploadButtonClicked=function e(){this.refs.upload.open()};t.prototype._onWebcamButtonClicked=function e(){this.props.onWebcamClick&&this.props.onWebcamClick()};t.prototype._onNewFile=function e(t){this.props.onFileUpload&&this.props.onFileUpload(t)};t.prototype._isWebcamAvailable=function e(){return!l.Utils.isMobile()&&this.context.options.enableWebcam!==false};t.prototype._renderRightButtons=function e(){var t=this.context.options;var r=[];if(t.enableUpload){r.push(l.ReactBEM.createElement(p.default,{icon:this._getAssetPath("photo-roll/upload.png",true),onClick:this._onUploadButtonClicked}))}if(this._isWebcamAvailable()){r.push(l.ReactBEM.createElement(p.default,{icon:this._getAssetPath("photo-roll/webcam.png",true),onClick:this._onWebcamButtonClicked}))}return r};t.prototype.renderWithBEM=function e(){var t=void 0;if(this.props.backButton){t=l.ReactBEM.createElement(y.default,{label:this.props.backButtonLabel,onClick:this._onBackClicked})}return l.ReactBEM.createElement("div",{bem:"$b:topBar e:row"},l.ReactBEM.createElement("div",{bem:"e:cell"},l.ReactBEM.createElement("div",{bem:"e:table"},l.ReactBEM.createElement("div",{bem:"e:cell m:left"},t),l.ReactBEM.createElement("div",{bem:"e:cell m:fullWidth"},l.ReactBEM.createElement(_.default,{searchQuery:this.props.searchQuery,onChange:this._onSearchValueChange}),l.ReactBEM.createElement(v.default,{onNewFile:this._onNewFile,ref:"upload"})),l.ReactBEM.createElement("div",{bem:"e:cell m:right"},this._renderRightButtons()))))};return t}(d.default);t.default=x;x.contextTypes=d.default.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=c(n);var i=r(3);var a=c(i);var s=r(2);var u=c(s);var l=r(1);function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._bindAll("_onFocus","_onBlur","_onChange","_onBarClick");s.state={active:false,placeholder:s._t("photoRoll.search.placeholder"),value:s.props.searchQuery||""};return s}t.prototype.componentWillReceiveProps=function e(t){if(t.searchQuery||this.state.value){this.state.active=true}else{this.state.active=false}this.setState({value:t.searchQuery||""})};t.prototype.componentDidUpdate=function e(){this.refs.input.value=this.state.value};t.prototype.componentDidMount=function t(){var r=this;e.prototype.componentDidMount.call(this);this._hiddenInputDummy=document.createElement("div");var n=l.Utils.getStyleObject(this.refs.input);var o=["font","lineHeight","textAlign","textIndent","textTransform","textDecoration","textRendering","textShadow","textOverflow","wordSpacing","letterSpacing","whiteSpace"];o.forEach(function(e){r._hiddenInputDummy.style[e]=n[e]});this._hiddenInputDummy.style.position="absolute";this._hiddenInputDummy.style.top="-9999px";this._hiddenInputDummy.style.left="-9999px";this.refs.root.appendChild(this._hiddenInputDummy);this._updateInputWidth()};t.prototype._updateInputWidth=function e(){var t=this;this._hiddenInputDummy.innerHTML=this.state.value||this.state.placeholder;setTimeout(function(){t.setState({inputWidth:t._hiddenInputDummy.offsetWidth+5})},0)};t.prototype._onBarClick=function e(){this.refs.input.focus()};t.prototype._onFocus=function e(){this.setState({active:true})};t.prototype._onBlur=function e(){if(this.state.value===""&&!this.props.searchQuery){this.setState({active:false})}};t.prototype._onChange=function e(t){this.state.value=t.target.value;this.forceUpdate();this.props.onChange&&this.props.onChange(this.state.value)};t.prototype.renderWithBEM=function e(){var t="$e:searchBar";var r="photo-roll/search-light.png";if(this.state.active){t+=" m:active";r="photo-roll/search-dark.png"}r=this._getAssetPath(r,true);var n={width:this.state.inputWidth+"px"};return l.ReactBEM.createElement("bem",{specifier:"$b:photoRollScreen"},l.ReactBEM.createElement("div",{bem:t,ref:"root",onClick:this._onBarClick},l.ReactBEM.createElement("div",{bem:"e:content"},l.ReactBEM.createElement("div",{bem:"$e:icon"},l.ReactBEM.createElement("img",{src:r,bem:"e:image"})),l.ReactBEM.createElement("div",{bem:"e:inputContainer"},l.ReactBEM.createElement("input",{bem:"e:input",ref:"input",placeholder:this.state.placeholder,onBlur:this._onBlur,onFocus:this._onFocus,onChange:this._onChange,defaultValue:this.state.value,style:n})))))};return t}(l.BaseComponent);t.default=d;d.contextTypes=l.BaseComponent.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=f(n);var i=r(3);var a=f(i);var s=r(2);var u=f(s);var l=r(1);var c=r(39);var d=f(c);function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._needsStyleFixes=true;s._modifier="photoRoll";return s}t.prototype.fixStyles=function e(){if(l.Utils.Browser.isIElte(11)){var t=this.refs,r=t.cell,n=t.overlay;var o=r.offsetHeight;n.style.height=o+"px"}};t.prototype._renderContent=function e(){var t={backgroundImage:"url("+this._getAssetPath("splash/photo-roll.png",true,true)+")"};return l.ReactBEM.createElement("div",{bem:"e:contentWrapper"},l.ReactBEM.createElement("div",{bem:"e:contentRow"},l.ReactBEM.createElement("div",{bem:"e:contentCell",onClick:this._onClick,style:t,ref:"cell"},l.ReactBEM.createElement("div",{bem:"e:overlay",ref:"overlay"}),l.ReactBEM.createElement("div",{bem:"e:headline"},this._t("splash.photoRoll.headline")),l.ReactBEM.createElement("div",{bem:"e:description"},this._t("splash.photoRoll.description")))))};return t}(d.default);t.default=p;p.contextTypes=d.default.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=g(n);var i=r(3);var a=g(i);var s=r(2);var u=g(s);var l=r(1);var c=r(21);var d=g(c);var f=r(169);var p=g(f);var h=r(170);var v=g(h);var m=r(167);var _=g(m);function g(e){return e&&e.__esModule?e:{default:e}}var y=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);var r=(0,a.default)(this,e.call(this));r._bindAll("_onWebcamClick","_onPhotoRollClick","_onImage");return r}t.prototype._onPhotoRollClick=function e(){this.props.app.switchToScreen("photoRoll")};t.prototype._onWebcamClick=function e(){this.props.app.switchToScreen("webcam")};t.prototype._onImage=function e(t){this.props.app.setImage(t)};t.prototype._isWebcamAvailable=function e(){return!l.Utils.isMobile()&&this.context.options.enableWebcam!==false};t.prototype._isPhotoRollAvailable=function e(){return!!this.context.options.photoRoll.provider};t.prototype._renderScreen=function e(){var t=[];var r=0;var n=this.context.options.enableUpload;if(n)r++;var o=this._isWebcamAvailable();if(o)r++;var i=this._isPhotoRollAvailable();if(i)r++;if(n){t.push(l.ReactBEM.createElement(p.default,{onImage:this._onImage,totalRows:r}))}if(o){t.push(l.ReactBEM.createElement(v.default,{onClick:this._onWebcamClick,totalRows:r}))}if(i){t.push(l.ReactBEM.createElement(_.default,{onClick:this._onPhotoRollClick,totalRows:r}))}return l.ReactBEM.createElement("div",{bem:"$b:splashScreen"},l.ReactBEM.createElement("div",{bem:"e:container"},t))};return t}(d.default);t.default=y;y.contextTypes=l.BaseComponent.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(24);var o=g(n);var i=r(0);var a=g(i);var s=r(3);var u=g(s);var l=r(2);var c=g(l);var d=r(1);var f=r(39);var p=g(f);var h=r(98);var v=g(h);var m=r(40);var _=g(m);function g(e){return e&&e.__esModule?e:{default:e}}var y=function(e){(0,c.default)(t,e);function t(){(0,a.default)(this,t);var r=(0,u.default)(this,e.call(this));r._modifier="upload";r._bindAll("_onImage","_onDragEnter","_onDragOver","_onDragLeave","_onDrop");r._dragCounter=0;r.state={dragAreaHovered:false};return r}t.prototype._onDragEnter=function e(t){t.preventDefault();this._dragCounter++;this.setState({dragAreaHovered:true})};t.prototype._onDragOver=function e(t){t.preventDefault()};t.prototype._onDragLeave=function e(t){t.preventDefault();this._dragCounter--;if(this._dragCounter===0){this.setState({dragAreaHovered:false})}};t.prototype._onDrop=function e(t){var r=this;t.stopPropagation();t.preventDefault();t=t.nativeEvent;t.returnValue=false;this.setState({dragAreaHovered:false},function(){if(!t.dataTransfer)return;r._handleFile(t.dataTransfer.files[0])})};t.prototype._onClick=function e(t){this.refs.upload.open()};t.prototype._handleFile=function e(t){var r=this;var n=new window.FileReader;n.onload=function(){return function(e){var t=e.target.result;var n=new window.Image;n.addEventListener("load",function(){r._onImage(n)});n.src=t}}(t);n.readAsDataURL(t)};t.prototype._onImage=function e(t){this.props.onImage&&this.props.onImage(t)};t.prototype._renderContent=function e(){var t={onDragEnter:this._onDragEnter,onDragOver:this._onDragOver,onDragLeave:this._onDragLeave,onDrop:this._onDrop};if(this.state.dragAreaHovered){t.className="is-hovered"}var r="e:contentCell";if(this.context.options.enableWebcam!==false||this.context.options.photoRoll.provider!==null){r+=" m:withBorder"}return d.ReactBEM.createElement("div",{bem:"e:contentWrapper"},d.ReactBEM.createElement("div",{bem:"e:contentRow"},d.ReactBEM.createElement("div",(0,o.default)({bem:r,onClick:this._onClick},t),d.ReactBEM.createElement(_.default,{ref:"upload",onNewFile:this._onImage}),d.ReactBEM.createElement(v.default,{bem:"e:button",uppercase:true},this._t("splash.upload.button")),d.ReactBEM.createElement("div",{bem:"e:description"},this._t("splash.upload.description")))))};return t}(p.default);t.default=y;y.propTypes={onImage:d.React.PropTypes.func.isRequired};y.contextTypes=p.default.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=f(n);var i=r(3);var a=f(i);var s=r(2);var u=f(s);var l=r(1);var c=r(39);var d=f(c);function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._needsStyleFixes=true;s._modifier="webcam";return s}t.prototype.fixStyles=function e(){if(l.Utils.Browser.isIElte(11)){var t=this.refs,r=t.cell,n=t.overlay;var o=r.offsetHeight;n.style.height=o+"px"}};t.prototype._renderContent=function e(){var t={backgroundImage:"url("+this._getAssetPath("splash/webcam.png",true,true)+")"};return l.ReactBEM.createElement("div",{bem:"e:contentWrapper"},l.ReactBEM.createElement("div",{bem:"e:contentRow"},l.ReactBEM.createElement("div",{bem:"e:contentCell",onClick:this._onClick,style:t,ref:"cell"},l.ReactBEM.createElement("div",{bem:"e:overlay",ref:"overlay"}),l.ReactBEM.createElement("div",{bem:"e:headline"},this._t("splash.webcam.headline")),l.ReactBEM.createElement("div",{bem:"e:description"},this._t("splash.webcam.description")))))};return t}(d.default);t.default=p;p.contextTypes=d.default.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=f(n);var i=r(3);var a=f(i);var s=r(2);var u=f(s);var l=r(1);var c=r(6);var d=f(c);function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);var r=(0,a.default)(this,e.call(this));r._bindAll("_onWebcamReady");r.state={webcamReady:false};return r}t.prototype.shouldComponentUpdate=function e(t,r){return false};t.prototype.componentWillUnmount=function t(){e.prototype.componentWillUnmount.call(this);var r=this.refs.video;if(this._stream){var n=this._stream.getTracks()[0];n&&n.stop();this._stream.stop&&this._stream.stop()}r.pause()};t.prototype.componentDidMount=function e(){this._resizeVideo();this._initVideoStream()};t.prototype._onWebcamReady=function e(){this.props.onReady&&this.props.onReady();this.setState({webcamReady:true})};t.prototype.makePhoto=function e(){if(!this.state.webcamReady){return l.Promise.reject(new Error("UserMedia stream not ready"))}var t=this.refs.video;return new l.Promise(function(e,r){var n=document.createElement("canvas");n.width=t.videoWidth;n.height=t.videoHeight;var o=n.getContext("2d");o.drawImage(t,0,0);var i=new window.Image;i.addEventListener("load",function(){e(i)});i.src=n.toDataURL("image/png")})};t.prototype._resizeVideo=function e(){var t=this.refs,r=t.video,n=t.container;
var o=l.Utils.getInnerDimensionsForElement(n);r.width=o.x;r.height=o.y};t.prototype._initVideoStream=function e(){var t=this;var r=this.refs.video;var n=navigator.getUserMedia||navigator.webkitGetUserMedia||navigator.mozGetUserMedia||navigator.msGetUserMedia;if(!n){var o=d.default.instance.displayError(this._t("errors.webcamNotSupported.title"),this._t("errors.webcamNotSupported.text"));o.on("close",function(){return t.props.onBack()});return}n.call(navigator,{video:true},function(e){t._stream=e;r.onloadedmetadata=t._onWebcamReady;r.src=window.URL.createObjectURL(e)},function(e){console.error&&console.error(e);var r=d.default.instance.displayError(t._t("errors.webcamUnavailable.title"),t._t("errors.webcamUnavailable.text",{error:e.name}),true);r.on("close",function(){return t.props.onBack()})})};t.prototype.renderWithBEM=function e(){return l.ReactBEM.createElement("div",{bem:"$b:webcam",ref:"container"},l.ReactBEM.createElement("video",{bem:"e:video",ref:"video",autoPlay:true}))};return t}(l.BaseComponent);t.default=p;p.propTypes={onReady:l.React.PropTypes.func};p.contextTypes=l.BaseComponent.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=m(n);var i=r(3);var a=m(i);var s=r(2);var u=m(s);var l=r(1);var c=r(21);var d=m(c);var f=r(32);var p=m(f);var h=r(171);var v=m(h);function m(e){return e&&e.__esModule?e:{default:e}}var _=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);var r=(0,a.default)(this,e.call(this));r._bindAll("_onCancel","_onWebcamReady","_onShutterClicked");r.state={webcamReady:false};return r}t.prototype._onWebcamReady=function e(){this.setState({webcamReady:true})};t.prototype._onCancel=function e(){this.props.app.switchToScreen("back")};t.prototype._onShutterClicked=function e(){var t=this;var r=this.refs.webcam;r.makePhoto().then(function(e){t.props.app.setImage(e)}).catch(function(e){console.error&&console.error(e)})};t.prototype._renderScreen=function e(){return l.ReactBEM.createElement("div",{bem:"$b:webcamScreen"},l.ReactBEM.createElement(p.default,{label:this._t("webcam.headline")},l.ReactBEM.createElement("bem",{specifier:"$b:topBar"},l.ReactBEM.createElement("div",{bem:"e:cancelButton",onClick:this._onCancel},this._t("generic.cancel")),l.ReactBEM.createElement("div",{bem:"e:label"},this._t("webcam.headline")))),l.ReactBEM.createElement("div",{bem:"$b:canvas e:container e:row"},l.ReactBEM.createElement("div",{bem:"e:container e:cell"},l.ReactBEM.createElement(v.default,{ref:"webcam",onReady:this._onWebcamReady,onBack:this._onCancel}))),l.ReactBEM.createElement("div",{bem:"$b:controls $e:container e:row"},l.ReactBEM.createElement("div",{bem:"e:cell"},l.ReactBEM.createElement("bem",{specifier:"b:webcamScreen"},l.ReactBEM.createElement("div",{bem:"$e:shutterButton",onClick:this._onShutterClicked,className:this.state.webcamReady?"is-active":false},l.ReactBEM.createElement("img",{bem:"e:icon",src:this._getAssetPath("controls/webcam/shutter.png",true)}))))))};return t}(d.default);t.default=_;_.contextTypes=d.default.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=c(n);var i=r(3);var a=c(i);var s=r(2);var u=c(s);var l=r(1);function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);return(0,a.default)(this,e.apply(this,arguments))}t.prototype.renderWithBEM=function e(){return l.ReactBEM.createElement("bem",{specifier:"$b:topBar"},l.ReactBEM.createElement("div",{bem:"$e:backButton",onClick:this.props.onClick},l.ReactBEM.createElement("img",{bem:"e:icon",src:this._getAssetPath("top-bar/back.png",true)}),l.ReactBEM.createElement("div",{bem:"e:label"},this.props.label)))};return t}(l.BaseComponent);t.default=d;d.contextTypes=l.BaseComponent.contextTypes},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(29);var o=i(n);function i(e){return e&&e.__esModule?e:{default:e}}t.default={EVENTS:{RENDER:"render",EXPORT:"export",CLOSE:"close",ZOOM_DONE:"zoom:done",OPERATION_CREATED:"operation:created",OPERATION_UPDATED:"operation:updated",OPERATION_REMOVED:"operation:removed",FEATURES_DISABLED:"editor:features:disabled",FEATURES_ENABLED:"editor:features:enabled",FEATURES_UPDATED:"editor:features:updated",COLORPICKER_OPEN:"colorpicker:open",HISTORY_UPDATED:"history:update",HISTORY_BEFORE_UNDO:"history:before_undo",HISTORY_UNDO:"history:undo",WINDOW_RESIZE:"window:resize",CONTROLS_SWITCHED:"controls:switched",CROP_REAPPLY_RATIO:"crop:reapply_ratio"},DEFAULTS:{TEXT:"Double-click to edit",CROP_RATIOS:[[{name:"custom",ratio:"*",selected:true},{name:"square",ratio:1},{name:"4-3",ratio:1.33},{name:"16-9",ratio:1.77}],[{name:"social",dimensions:new o.default.Math.Vector2(800,800)},{name:"fb-ad",dimensions:new o.default.Math.Vector2(1200,627)},{name:"fb-post",dimensions:new o.default.Math.Vector2(940,788)},{name:"fb-cover",dimensions:new o.default.Math.Vector2(851,315)}]],FRAMES:[{name:"dia",label:"Dia",layoutMode:"vertical-inside",icon:"frames/dia/icon.png",imageGroups:{top:{mid:{image:"frames/dia/dia_top.png",mode:"repeat"}},left:{start:"frames/dia/dia_top_left.png",mid:"frames/dia/dia_left.png",end:"frames/dia/dia_bottom_left.png"},right:{start:"frames/dia/dia_top_right.png",mid:"frames/dia/dia_right.png",end:"frames/dia/dia_bottom_right.png"},bottom:{mid:{image:"frames/dia/dia_bottom.png",mode:"repeat"}}}},{name:"simple",label:"Simple",tintable:true,layoutMode:"vertical-inside",icon:"frames/simple/icon.png",imageGroups:{top:{start:"frames/simple/simple_corner.png",mid:{image:"frames/simple/simple_horizontal.png",mode:"repeat"},end:"frames/simple/simple_corner.png"},left:{mid:{image:"frames/simple/simple_vertical.png",mode:"repeat"}},right:{mid:{image:"frames/simple/simple_vertical.png",mode:"repeat"}},bottom:{start:"frames/simple/simple_corner.png",mid:{image:"frames/simple/simple_horizontal.png",mode:"repeat"},end:"frames/simple/simple_corner.png"}}},{name:"white",label:"White",tintable:true,layoutMode:"vertical-inside",icon:"frames/white/icon.png",imageGroups:{top:{start:"frames/white/white_top_left.png",mid:{image:"frames/white/white_top.png",mode:"repeat"},end:"frames/white/white_top_right.png"},left:{mid:{image:"frames/white/white_left.png",mode:"repeat"}},right:{mid:{image:"frames/white/white_right.png",mode:"repeat"}},bottom:{start:"frames/white/white_bottom_left.png",mid:{image:"frames/white/white_bottom.png",mode:"repeat"},end:"frames/white/white_bottom_right.png"}}}],FONTS:[{name:"helvetica",fontFamily:"Helvetica",fontWeight:"normal"},{name:"verdana",fontFamily:"Verdana",fontWeight:"normal"},{name:"timesnewroman",fontFamily:"Times New Roman",fontWeight:"normal"},{name:"impact",fontFamily:"Impact",fontWeight:"normal",default:true}],STICKER_CATEGORIES:[{name:"glasses",label:"Glasses",stickers:[{name:"glasses-nerd",label:"Nerd glasses",images:{mediaThumb:{uri:"stickers/thumb/glasses-nerd.png",width:100,height:100},mediaBase:{uri:"stickers/base/glasses-nerd.png",width:221,height:91}}},{name:"glasses-normal",label:"Normal glasses",images:{mediaThumb:{uri:"stickers/thumb/glasses-normal.png",width:100,height:100},mediaBase:{uri:"stickers/base/glasses-normal.png",width:249,height:87}}},{name:"glasses-shutter-green",label:"Green shutter glasses",images:{mediaThumb:{uri:"stickers/thumb/glasses-shutter-green.png",width:100,height:100},mediaBase:{uri:"stickers/base/glasses-shutter-green.png",width:235,height:89}}},{name:"glasses-shutter-yellow",label:"Yellow shutter glasses",images:{mediaThumb:{uri:"stickers/thumb/glasses-shutter-yellow.png",width:100,height:100},mediaBase:{uri:"stickers/base/glasses-shutter-yellow.png",width:236,height:89}}},{name:"glasses-sun",label:"Sun glasses",images:{mediaThumb:{uri:"stickers/thumb/glasses-sun.png",width:100,height:100},mediaBase:{uri:"stickers/base/glasses-sun.png",width:250,height:87}}}]},{name:"hats",label:"Hats",stickers:[{name:"hat-cap",label:"Cap",images:{mediaThumb:{uri:"stickers/thumb/hat-cap.png",width:100,height:100},mediaBase:{uri:"stickers/base/hat-cap.png",width:237,height:189}}},{name:"hat-cylinder",label:"Cylinder",images:{mediaThumb:{uri:"stickers/thumb/hat-cylinder.png",width:100,height:100},mediaBase:{uri:"stickers/base/hat-cylinder.png",width:225,height:176}}},{name:"hat-party",label:"Party hat",images:{mediaThumb:{uri:"stickers/thumb/hat-party.png",width:100,height:100},mediaBase:{uri:"stickers/base/hat-party.png",width:140,height:226}}},{name:"hat-sheriff",label:"Sheriff hat",images:{mediaThumb:{uri:"stickers/thumb/hat-sheriff.png",width:100,height:100},mediaBase:{uri:"stickers/base/hat-sheriff.png",width:251,height:129}}}]},{name:"beards",label:"Beards",stickers:[{name:"mustache-long",label:"Long mustache",images:{mediaThumb:{uri:"stickers/thumb/mustache-long.png",width:100,height:100},mediaBase:{uri:"stickers/base/mustache-long.png",width:199,height:182}}},{name:"mustache1",label:"Brown mustache",images:{mediaThumb:{uri:"stickers/thumb/mustache1.png",width:100,height:100},mediaBase:{uri:"stickers/base/mustache1.png",width:238,height:106}}},{name:"mustache2",label:"Black mustache",images:{mediaThumb:{uri:"stickers/thumb/mustache2.png",width:100,height:100},mediaBase:{uri:"stickers/base/mustache2.png",width:250,height:82}}},{name:"mustache3",label:"Brown mustache",images:{mediaThumb:{uri:"stickers/thumb/mustache3.png",width:100,height:100},mediaBase:{uri:"stickers/base/mustache3.png",width:250,height:94}}}]},{name:"misc",label:"Misc",stickers:[{name:"heart",label:"Heart",images:{mediaThumb:{uri:"stickers/thumb/heart.png",width:100,height:100},mediaBase:{uri:"stickers/base/heart.png",width:185,height:174}}},{name:"pipe",label:"Pipe",images:{mediaThumb:{uri:"stickers/thumb/pipe.png",width:100,height:100},mediaBase:{uri:"stickers/base/pipe.png",width:240,height:112}}},{name:"snowflake",label:"Snow flake",images:{mediaThumb:{uri:"stickers/thumb/snowflake.png",width:100,height:100},mediaBase:{uri:"stickers/base/snowflake.png",width:204,height:171}}},{name:"star",label:"Star",images:{mediaThumb:{uri:"stickers/thumb/star.png",width:100,height:100},mediaBase:{uri:"stickers/base/star.png",width:201,height:191}}}]}]}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=l(n);var i=r(60);var a=u(i);var s=r(1);function u(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function l(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(t,r,n){(0,o.default)(this,e);this._editor=t;this._sdk=r;this._mediator=n;this._options=this._editor.getOptions();this._available=s.SDKUtils.extend({},a,this._options.extensions.controls)}e.prototype.isEnabled=function e(t){var r=this.get(t);if(!r){s.Log.info("EditorControls#isEnabled: Unknown control: "+t);return false}return r.isAvailable&&r.isAvailable(this._editor)};e.prototype.get=function e(t){return this._available[t]};e.prototype.getAvailable=function e(){return this._available};return e}();t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=a(n);var i=r(1);function a(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(t,r,n){(0,o.default)(this,e);this._editor=t;this._sdk=r;this._mediator=n;this._options=this._editor.getOptions();this._features={drag:this._options.editor.enableDrag,zoom:this._options.editor.enableZoom}}e.prototype.isEnabled=function e(t){var r=t.charAt(0).toUpperCase()+t.slice(1);var n=this._options.editor["enable"+r];return this._features[t]&&n};e.prototype.enable=function e(){var t=this;for(var r=arguments.length,n=Array(r),o=0;o<r;o++){n[o]=arguments[o]}n.forEach(function(e){t._features[e]=true});this._mediator.emit(i.Constants.EVENTS.FEATURES_ENABLED,n);this._mediator.emit(i.Constants.EVENTS.FEATURES_UPDATED,n)};e.prototype.disable=function e(){var t=this;for(var r=arguments.length,n=Array(r),o=0;o<r;o++){n[o]=arguments[o]}n.forEach(function(e){t._features[e]=false});this._mediator.emit(i.Constants.EVENTS.FEATURES_DISABLED,n);this._mediator.emit(i.Constants.EVENTS.FEATURES_UPDATED,n)};return e}();t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=c(n);var i=r(3);var a=c(i);var s=r(2);var u=c(s);var l=r(1);function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){(0,u.default)(t,e);function t(r,n,i){(0,o.default)(this,t);var s=(0,a.default)(this,e.call(this));s._editor=r;s._sdk=n;s._mediator=i;s._history=[];return s}t.prototype.isAvailable=function e(){return this._history.length!==0};t.prototype.add=function e(t,r,n){var o=this;var i=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;var a=void 0;if(t instanceof Array){var s=t;this._history.push(s);s.forEach(function(e){o._mediator.emit(l.Constants.EVENTS.HISTORY_UPDATED,e.operation)});a=s}else{a={operation:t,options:r,existent:n,undo:i};this._history.push(a);this._mediator.emit(l.Constants.EVENTS.HISTORY_UPDATED,t)}return a};t.prototype.undo=function e(){var t=this;var r=this._editor.operations;var n=this._history.pop();if(n){var o=[].concat(n);o.forEach(function(e){var n=e.operation,o=e.existent,i=e.options,a=e.undo;t._mediator.emit(l.Constants.EVENTS.HISTORY_BEFORE_UNDO,e);if(!o){r.remove(n)}else{n=r.getOrCreate(n.constructor.identifier);n.set(i);t._mediator.emit(l.Constants.EVENTS.OPERATION_UPDATED,n)}if(typeof a==="function"){a(n,i)}t._mediator.emit(l.Constants.EVENTS.HISTORY_UPDATED,n);t._mediator.emit(l.Constants.EVENTS.HISTORY_UNDO,n)});this.emit("undo")}};t.prototype.reset=function e(){this._history=[]};return t}(l.EventEmitter);t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=a(n);var i=r(1);function a(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(t,r,n){(0,o.default)(this,e);this._editor=t;this._sdk=r;this._mediator=n;this._available=this._sdk.getOperations();this._map={};this._stack=this._sdk.getOperationsStack();this._preferredOrder=this._editor.getOptions().editor.operationsOrder;this._fixStack()}e.prototype.exists=function e(t){return!!this._map[t]};e.prototype.add=function e(t){var r=this;var n=t.constructor.identifier;t.on("updated",function(){r._mediator.emit(i.Constants.EVENTS.OPERATION_UPDATED,t)});var o=this._preferredOrder.indexOf(n);if(o===-1){throw new Error("EditorOperations#add: `"+n+"` does not appear in `operationsOrder`")}this._stack.set(o,t);this._map[n]=t;this._mediator.emit(i.Constants.EVENTS.OPERATION_CREATED,t)};e.prototype.remove=function e(t){var r=t.constructor.identifier;var n=this._stack.getStack();delete this._map[r];var o=n.map(function(e){return e.constructor.identifier}).indexOf(t.constructor.identifier);if(o!==-1){this._stack.removeAt(o);for(var a=o+1;a<n.length;a++){var s=n[a];if(!s)continue;s.setDirty(true)}this._mediator.emit(i.Constants.EVENTS.OPERATION_REMOVED,t)}};e.prototype.get=function e(t){return this._map[t]};e.prototype.getOrCreate=function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};if(this._map[t]){var n=this._map[t];return n}else{var o=this._available[t];var i=new o(this._sdk,r);this.add(i);return i}};e.prototype.getStack=function e(){return this._stack};e.prototype.reset=function e(){this._map={}};e.prototype._fixStack=function e(){var t=this;var r=this._stack.getStack().slice();this._stack.clear();r.forEach(function(e){t.add(e)})};return e}();t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=c(n);var i=r(3);var a=c(i);var s=r(2);var u=c(s);var l=r(1);function c(e){return e&&e.__esModule?e:{default:e}}var d=300;var f=function(e){(0,u.default)(t,e);function t(r,n,i){(0,o.default)(this,t);var s=(0,a.default)(this,e.call(this));s._editor=r;s._sdk=n;s._mediator=i;s._isDefaultZoom=false;s._zoom=s._sdk.getZoom();s._options=s._editor.getOptions();s._zoomLevels=[1,2,3,4,5,6.25,8.33,12.5,16.66,25,33.33,50,66.66,100,200,300,400,500,600,700,800,1200,1600,3200].map(function(e){return e/100});return s}t.prototype.zoomIn=function e(){var t=this._getClosestZoomLevel(this._zoom+.001,+1);if(!t)return this._zoomLevels[this._zoomLevels.length-1];this.set(t)};t.prototype.zoomOut=function e(){var t=this._getClosestZoomLevel(this._zoom-.001,-1);if(!t)return this._zoomLevels[0];this.set(t)};t.prototype._getClosestZoomLevel=function e(t,r){if(r===-1){return this._zoomLevels.filter(function(e){return e<t}).pop()}else if(r===1){return this._zoomLevels.filter(function(e){return e>t})[0]}};t.prototype.undo=function e(){if(!this._previousZoom)return;this.set(this._previousZoom);this._previousZoom=null};t.prototype.set=function e(t,r){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:true;if(!this._editor.isReady()){return}this._previousZoom=this._zoom;var o=t;var i=this.getDefault();if(t==="auto"||o===i){o=i;t="auto";this._isDefaultZoom=true}else{this._isDefaultZoom=false}var a=Math.max(1,i*2);var s=n?this.getMinimum():0;o=Math.max(s,Math.min(a,o));this._zoom=o;this._sdk.setZoom(this._zoom);this._sdk.setTextureQuality(Math.min(this._zoom,1));this.emit("set",this._zoom,r)};t.prototype.getDefault=function e(){var t=this._editor.getFinalDimensions(false);var r=this._editor.getCanvasDimensions();var n=l.SDKUtils.resizeVectorToFit(t,r);return n.divide(t).x};t.prototype.getMinimum=function e(){var t=this._editor.getFinalDimensions();var r=l.SDKUtils.resizeVectorToFit(t,new l.Vector2(d,d));return r.divide(t).x};t.prototype.isDefault=function e(){return this._isDefaultZoom};t.prototype.get=function e(){return this._zoom};return t}(l.EventEmitter);t.default=f},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=u(n);var i=r(1);var a=r(181);var s=u(a);function u(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t,r,n){(0,o.default)(this,e);this._sdk=t;this._options=r;this._download=n}e.prototype.export=function e(){var t=this;var r=this._getRenderType();return this._sdk.export(r,this._options.format,this._options.quality).then(function(e){if(t._download){t._downloadData(r,e)}return e})};e.prototype._downloadData=function e(t,r){switch(t){case i.RenderType.DATAURL:s.default.downloadDataURL(r,this._options.fileBasename);break;case i.RenderType.MSBLOB:s.default.downloadMSBlob(r,this._options.fileBasename);break}};e.prototype._getRenderType=function e(){var t=this._options;if(t.type!==i.RenderType.IMAGE||!this._download){return t.type}else{if(i.Utils.supportsMSBlob()){return i.RenderType.MSBLOB}else{return i.RenderType.DATAURL}}};return e}();t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=a(n);var i=r(1);function a(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(){(0,o.default)(this,e)}e.downloadDataURL=function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"photoeditorsdk-export";var n=this.createBlobURLFromDataURL(t);var o=this.getExtensionFromDataURL(t);var i=document.createElement("a");i.download=r+"."+o;i.href=n;document.body.appendChild(i);i.click();document.body.removeChild(i)};e.downloadMSBlob=function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"photoeditorsdk-export";navigator.msSaveBlob(t,r+".png")};e.getExtensionFromDataURL=function e(t){var r=t.split(",")[0].split(":")[1].split(";")[0];return r.split("/").pop()};e.createBlobURLFromDataURL=function e(t){if(!window.Blob||!window.URL||!ArrayBuffer||!Uint8Array){return t}var r=i.Base64.decode(t.split(",")[1]);var n=t.split(",")[0].split(":")[1].split(";")[0];var o=new ArrayBuffer(r.length);var a=new Uint8Array(o);for(var s=0;s<r.length;s++){a[s]=r[s]}var u=new window.Blob([o],{type:n});return window.URL.createObjectURL(u)};return e}();t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=c(n);var i=r(3);var a=c(i);var s=r(2);var u=c(s);var l=r(1);function c(e){return e&&e.__esModule?e:{default:e}}var d=function(e){(0,u.default)(t,e);function t(r){(0,o.default)(this,t);var n=(0,a.default)(this,e.call(this));n._input=r;n._onFileChange=n._onFileChange.bind(n);n._input.addEventListener("change",n._onFileChange);return n}t.prototype.open=function e(){this._input.value=null;this._input.click()};t.prototype._handleFile=function e(t){var r=this;var n=new window.FileReader;n.onload=function(){return function(e){var t=e.target.result;var n=new window.Image;n.addEventListener("load",function(){r.emit("file",n)});n.src=t}}(t);n.readAsDataURL(t)};t.prototype._onFileChange=function e(){var t=this._input.files;if(!t.length)return;this._handleFile(t[0])};t.prototype.dispose=function e(){this._input.removeEventListener("change",this._onFileChange)};return t}(l.EventEmitter);t.default=d},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=i(n);function i(e){return e&&e.__esModule?e:{default:e}}var a=function(){function e(){(0,o.default)(this,e);this._fonts=[]}e.prototype.add=function e(t){this._fonts.push(t)};e.prototype.load=function e(){};return e}();t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=p(n);var i=r(3);var a=p(i);var s=r(2);var u=p(s);var l=r(183);var c=p(l);var d=r(185);var f=p(d);function p(e){return e&&e.__esModule?e:{default:e}}var h=typeof window!=="undefined"&&window.performance&&window.performance.now?window.performance.now.bind(window.performance):r(89);var v={italic:"i"};var m=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);return(0,a.default)(this,e.apply(this,arguments))}t.prototype.load=function e(){var t=this;if(this._fonts.length===0){return Promise.resolve()}this._defaultFontRuler=new f.default;this._customFontRulers=[];this._addStylesheetTag();this._fonts.forEach(function(e){var r=new f.default;r.setFont(e);t._customFontRulers.push(r)});return this._waitForLoadPromise()};t.prototype._waitForLoadPromise=function e(t){var r=this;this._startedAt=h();var n=this._customFontRulers.map(function(e){return r._waitForLoad(e).then(function(){e.dispose()})});return Promise.all(n).then(function(){r.dispose()}).catch(function(e){r.dispose();throw e})};t.prototype._waitForLoad=function e(t){var r=this;return new Promise(function(e,n){var o=function o(){var i=r._checkWidthChanged(t);if(i){return e()}else{if(h()-r._startedAt>=5e3){return n(new Error("Font loading timed out."))}}setTimeout(o,50)};o()})};t.prototype._checkWidthChanged=function e(t){return this._defaultFontRuler.getWidth()!==t.getWidth()};t.prototype._addStylesheetTag=function e(){var t=this._getFamiliesString();var r=document.createElement("link");r.rel="stylesheet";r.href="https://fonts.googleapis.com/css?family="+t;var n=document.getElementsByTagName("head")[0];n.appendChild(r)};t.prototype._getFamiliesString=function e(){var t={};this._fonts.forEach(function(e){var r=e.getFontFamily();var n=e.getFontStyle();var o=e.getFontWeight();t[r]=t[r]||[];if(typeof o!=="undefined"){t[r].push(""+o+(v[n]||""))}else{t[r].push(400)}});var r=[];for(var n in t){var o=t[n];var i=o.length?":"+o.join(","):"";var a=n.replace(" ","+")+i;r.push(a)}return r.join("|")};t.prototype.dispose=function e(){if(this._defaultFontRuler)this._defaultFontRuler.dispose();this._customFontRulers.forEach(function(e){e.dispose()})};return t}(c.default);t.default=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=s(n);var i=r(69);var a=s(i);function s(e){return e&&e.__esModule?e:{default:e}}var u=30;var l="abcdefghijklmnopqrstuvwxzy";var c=function(){function e(){(0,o.default)(this,e);this._font=new a.default({fontFamily:"Times New Roman",fontWeight:"normal",fontStyle:"normal"});this._createRuler()}e.prototype._createRuler=function e(){this._ruler=document.createElement("div");this._ruler.innerText=l;document.body.appendChild(this._ruler);this._setRulerStyle()};e.prototype._setRulerStyle=function e(){this._ruler.style.cssText="\n      position: absolute;\n      top: -9999px;\n      left: -9999px;\n      display: inline-block;\n      font: "+this._font.getFontStyle()+" "+this._font.getFontWeight()+" "+u+"px "+this._font.getFontFamily()+";\n    "};e.prototype.setFont=function e(t){this._font=t;this._setRulerStyle()};e.prototype.getWidth=function e(){return this._ruler.offsetWidth};e.prototype.dispose=function e(){if(this._ruler){this._ruler.parentNode.removeChild(this._ruler);this._ruler=null}};return e}();t.default=c},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=c(n);var i=r(3);var a=c(i);var s=r(2);var u=c(s);var l=r(1);function c(e){return e&&e.__esModule?e:{default:e}}var d=l.SDK.OptionType;var f=function(e){(0,u.default)(t,e);function t(r){var n=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};(0,o.default)(this,t);var i=(0,a.default)(this,e.call(this,n));i._loaded=false;i._loading=false;i._ui=r;i._frame=l.SDK.Utils.deepDefaults(i._options,{});return i}t.prototype.load=function e(){var t=this;if(this._loaded)return Promise.resolve();if(this._loading)return Promise.reject(new Error("Called Frame#load while it's already loading"));this._loading=true;var r=this._options.imageGroups;var n=[];["top","left","right","bottom"].forEach(function(e){if(!(e in r))return;var o=r[e];["start","mid","end"].forEach(function(r){if(!(r in o))return;n.push(t._loadPart(e,r))})});return Promise.all(n).then(function(){t._loaded=true;t._loading=false}).catch(function(e){t._loaded=false;t._loading=false})};t.prototype._loadPart=function e(t,r){var n=this;return new Promise(function(e,o){var i=n._options.imageGroups;var a=i[t][r];var s=a;if(typeof a!=="string"&&"image"in a){s=a.image}var u=new window.Image;u.addEventListener("load",function(){if(typeof a!=="string"){n._frame.imageGroups[t][r].image=u}else{n._frame.imageGroups[t][r]=u}e(u)});u.addEventListener("error",function(){o(new Error("Failed to load image at "+s))});u.src=n._ui.getAssetPath(s)})};t.prototype.getFrame=function e(){return this._frame};return t}(l.SDK.Configurable);t.default=f;f.prototype.availableOptions={name:{type:d.STRING,required:true},label:{type:d.STRING},icon:{type:d.STRING},tintable:{type:d.BOOLEAN,default:false},layoutMode:{type:d.STRING,default:"horizontal-inside",available:["horizontal-inside","vertical-inside"]},imageGroups:{type:d.OBJECT,required:true}}},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=a(n);var i=r(1);function a(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(t,r,n){(0,o.default)(this,e);this._image=t;this._maxPixels=r;this._maxDimensions=n}e.prototype.needsResize=function e(){var t=new i.Vector2(this._image.width,this._image.height);var r=t.x*t.y;var n=r>this._maxPixels;var o=this._maxDimensions!==null&&(t.x>this._maxDimensions||t.y>this._maxDimensions);return n||o};e.prototype.resize=function e(){var t=this;var r=null;var n=null;var o=this._maxDimensions;return new i.Promise(function(e,a){window.setTimeout(function(){var a=new i.Vector2(t._image.width,t._image.height);var s=a.clone();if(s.x*s.y>t._maxPixels){s.copy(t._getDimensionsByMaxPixels());r="maxMegaPixels"}if(o!==null&&(s.x>o||s.y>o)){var u=Math.min(o/s.x,o/s.y);s.multiply(u);r="maxDimensions"}s.floor();n=t._createResizedImageCanvas(s);e({canvas:n,dimensions:s,reason:r})},1e3)})};e.prototype._createResizedImageCanvas=function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:t;var n=this._image;var o=document.createElement("canvas");o.width=t.x;o.height=t.y;var i=t.clone().subtract(r).divide(2);var a=o.getContext("2d");a.drawImage(n,0,0,n.width,n.height,i.x,i.y,r.x,r.y);return o};e.prototype._getDimensionsByMaxPixels=function e(){var t=this._image;var r=this._maxPixels;var n=t.width/t.height;var o=t.height/t.width;return new i.Vector2(Math.sqrt(r*n),Math.sqrt(r*o)).floor()};return e}();t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=u(n);var i=r(1);var a=r(69);var s=u(a);function u(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t){(0,o.default)(this,e);this._options=t;this._fonts=[];this._initFonts()}e.prototype._initFonts=function e(){var t=this._options,r=t.additionalFonts,n=t.replaceFonts,o=t.selectableFonts;r=r||[];var a=i.Constants.DEFAULTS.FONTS;if(n){a=r}else{a=a.concat(r)}if(o&&o.length){a=i.Utils.select(a,o,function(e){return e.name})}a=a.map(function(e){return new s.default(e)});var u=null;a.forEach(function(e){if(!u&&e.default){u=e}});if(!u){u=a[0]}this._defaultFont=u;this._fonts=a};e.prototype.getFonts=function e(){return this._fonts};e.prototype.getDefaultFont=function e(){return this._defaultFont};return e}();t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=u(n);var i=r(1);var a=r(186);var s=u(a);function u(e){return e&&e.__esModule?e:{default:e}}var l=function(){function e(t,r){(0,o.default)(this,e);this._ui=t;this._options=r;this._initFrames()}e.prototype._initFrames=function e(){var t=this;var r=this._options,n=r.additionalFrames,o=r.replaceFrames,a=r.selectableFrames;n=n||[];var u=i.Constants.DEFAULTS.FRAMES;if(o){u=n}else{u=u.concat(n)}if(a&&a.length){u=i.Utils.select(u,a,function(e){return e.name})}u=u.map(function(e){return new s.default(t._ui,e)});var l=null;u.forEach(function(e){if(!l&&e.default){l=e}});if(!l){l=u[0]}this._defaultFrame=l;this._frames=u};e.prototype.getFrames=function e(){return this._frames};e.prototype.getDefaultFrame=function e(){return this._defaultFrame};return e}();t.default=l},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=i(n);function i(e){return e&&e.__esModule?e:{default:e}}var a=function e(t){(0,o.default)(this,e);this.name=t.name;this.coverImage=t.coverImage};t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=i(n);function i(e){return e&&e.__esModule?e:{default:e}}var a=function e(t,r){(0,o.default)(this,e);this.library=t;this.title=r.title;this.urls=r.urls};t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=a(n);var i=r(1);function a(e){return e&&e.__esModule?e:{default:e}}var s=function(){function e(){(0,o.default)(this,e)}e.prototype.getLibraries=function e(){i.Log.warn(this.constructor.name,"`getLibraries` is abstract and not implemented.");return i.Promise.resolve([])};e.prototype.getSearchSuggestions=function e(){i.Log.warn(this.constructor.name,"`getSearchSuggestions` is abstract and not implemented.");return i.Promise.resolve([])};e.prototype.getPhotosForLibrary=function e(t){i.Log.warn(this.constructor.name,"`getPhotosForLibrary` is abstract and not implemented.");return i.Promise.resolve([])};e.prototype.searchPhotos=function e(t){i.Log.warn(this.constructor.name,"`searchPhotos` is abstract and not implemented.");return i.Promise.resolve([])};return e}();t.default=s},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=i(n);function i(e){return e&&e.__esModule?e:{default:e}}var a=function e(t){(0,o.default)(this,e);this.query=t.query;this.name=this.query;this.coverImage=t.coverImage};t.default=a},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=f(n);var i=r(3);var a=f(i);var s=r(2);var u=f(s);var l=r(1);var c=r(68);var d=f(c);function f(e){return e&&e.__esModule?e:{default:e}}var p=5e3;var h=function(e){(0,u.default)(t,e);function t(r,n,i){(0,o.default)(this,t);var s=(0,a.default)(this,e.call(this));s._ui=r;s._options=n;s._mediator=i;s._editor=new d.default(r,n,i,true);s._assets=["controls/back.png","controls/minus.png","controls/plus.png","controls/tick.png","controls/webcam/shutter.png","controls/knobs/remove.png","controls/knobs/resize-diagonal-down.png","controls/knobs/resize-diagonal-up.png","controls/knobs/rotate.png","editor/export.png","editor/new.png","editor/undo.png",["splash/photo-roll.png",false],["splash/webcam.png",false],"top-bar/back.png","close.png"];
s._appendControlsAssets();return s}t.prototype._appendControlsAssets=function e(){var t=this._editor.controls.getAvailable();for(var r in t){var n=t[r];if(this._editor.controls.isEnabled(r)){this._assets=this._assets.concat(n.getPreloadAssets(this._editor));this._assets.push(n.iconPath)}}};t.prototype.load=function e(){var t=this;var r=this._assets.slice();var n=r.length;var o=0;var i=function e(){o++;t.emit("progress",o/n);if(o===n){t.emit("done")}};var a=function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:"timed out";l.Log.warn("Preloader",t+" "+r+".");i()};var s=function e(t){return window.setTimeout(function(){a(t)},p)};r.forEach(function(e){var r=true;if(l.SDKUtils.isArray(e)){r=e[1];e=e[0]}var n=t._ui.getAssetPath(e,true,!r);var o=new window.Image;var u=s(n);o.addEventListener("load",function(){window.clearTimeout(u);i()});o.addEventListener("error",function(){window.clearTimeout(u);a(n,"was not found")});o.crossOrigin="Anonymous";o.src=n})};return t}(l.EventEmitter);t.default=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=l(n);var i=r(73);var a=l(i);var s=r(72);var u=l(s);function l(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(t){(0,o.default)(this,e);this._editor=t}e.prototype.serialize=function e(){var t=new a.default(this._editor);return t.serialize.apply(t,arguments)};e.prototype.deserialize=function e(t){var r=new u.default(this._editor,t);return r.deserialize()};return e}();t.default=c;c.version="1.0.0"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=f(n);var i=r(3);var a=f(i);var s=r(2);var u=f(s);var l=r(1);var c=r(72);var d=f(c);function f(e){return e&&e.__esModule?e:{default:e}}var p=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);return(0,a.default)(this,e.apply(this,arguments))}t.prototype._validateVersion=function e(){if(this._data.version!=="1.0.1"){return Promise.reject(new Error("Invalid version "+this._data.version+", expected 1.0.1"))}return Promise.resolve()};t.prototype._deserializeOperations=function e(){var t=this;var r=this._data.operations.map(function(e){switch(e.type){case"crop":return t._deserializeCropOperation(e);case"orientation":return t._deserializeOrientationOperation(e);case"filter":return t._deserializeFilterOperation(e);case"adjustments":return t._deserializeAdjustmentsOperation(e);case"sprite":return t._deserializeSpriteOperation(e);case"focus":return t._deserializeFocusOperation(e);case"selective-blur":return t._deserializeSelectiveBlurOperation(e)}});return Promise.all(r)};t.prototype._deserializeCropOperation=function e(t){var r=t.options;var n=r.scale,o=r.rotation;var i=l.Vector2.fromObject(r.start);var a=l.Vector2.fromObject(r.end);if(o>Math.PI){o-=Math.PI*2}this._editor.operations.getOrCreate("crop",{start:i,end:a,scale:n,rotation:o});return Promise.resolve()};return t}(d.default);t.default=p},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=l(n);var i=r(198);var a=l(i);var s=r(196);var u=l(s);function l(e){return e&&e.__esModule?e:{default:e}}var c=function(){function e(t){(0,o.default)(this,e);this._editor=t}e.prototype.serialize=function e(){var t=new a.default(this._editor);return t.serialize.apply(t,arguments)};e.prototype.deserialize=function e(t){var r=new u.default(this._editor,t);return r.deserialize()};return e}();t.default=c;c.version="1.0.1"},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(0);var o=f(n);var i=r(3);var a=f(i);var s=r(2);var u=f(s);var l=r(1);var c=r(73);var d=f(c);function f(e){return e&&e.__esModule?e:{default:e}}var p=Math.PI*2;var h=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);return(0,a.default)(this,e.apply(this,arguments))}t.prototype.serialize=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};this._options=l.SDKUtils.defaults(t,{image:true});var r={version:"1.0.1"};return this._serializeInputImage(r).then(this._serializeOperations)};t.prototype._serializeOperation=function e(t){switch(t.constructor.identifier){case"crop":return this._serializeCropOperation(t);case"orientation":return this._serializeOrientationOperation(t);case"filter":return this._serializeFilterOperation(t);case"adjustments":return this._serializeAdjustmentsOperation(t);case"sprite":return this._serializeSpriteOperation(t);case"radial-focus":return this._serializeRadialFocusOperation(t);case"linear-focus":return this._serializeLinearFocusOperation(t);case"selective-blur":return this._serializeSelectiveBlurOperation(t);default:throw new Error("Unable to serialize operation of type "+t.constructor.identifier)}};t.prototype._serializeCropOperation=function e(t){var r=t.serializeOptions(["start","end","rotation","scale","textureScale"],true);r.rotation=(r.rotation+p)%p;delete r.textureScale;return{type:"crop",options:r}};return t}(d.default);t.default=h},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(33);var o=p(n);var i=r(0);var a=p(i);var s=r(3);var u=p(s);var l=r(2);var c=p(l);var d=r(29);var f=p(d);function p(e){return e&&e.__esModule?e:{default:e}}var h=f.default.EventEmitter,v=f.default.Utils;var m=function(e){(0,c.default)(t,e);function t(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};(0,a.default)(this,t);var n=(0,u.default)(this,e.call(this));n._state=r;return n}t.prototype.set=function e(){var t=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:true;if((typeof t==="undefined"?"undefined":(0,o.default)(t))!=="object"){console&&console.trace("SharedState#set expects an object as first parameter")}var n=v.extend({},this._state);this._state=v.extend(this._state,t);if(r){this.broadcastUpdate(n,this._state)}};t.prototype.get=function e(t){return this._state[t]};t.prototype.broadcastUpdate=function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:{};this.emit("update",t,r)};t.prototype.clear=function e(){this._state={}};return t}(h);t.default=m},function(e,t,r){"use strict";Object.defineProperty(t,"__esModule",{value:true});var n=r(29);var o=d(n);var i=r(74);var a=d(i);var s=r(201);var u=d(s);var l=r(61);var c=d(l);function d(e){return e&&e.__esModule?e:{default:e}}var f=o.default.Math.Vector2;var p={getInnerDimensionsForElement:function e(t){var r=new f(t.offsetWidth,t.offsetHeight);var n=window.getComputedStyle(t,null);r.x-=parseInt(n.getPropertyValue("padding-left"),10);r.x-=parseInt(n.getPropertyValue("padding-right"),10);r.y-=parseInt(n.getPropertyValue("padding-top"),10);r.y-=parseInt(n.getPropertyValue("padding-bottom"),10);return r},getEventPosition:function e(t){var r=t.clientX;var n=t.clientY;if(t.type.indexOf("touch")!==-1){if(!t.touches.length)return;r=t.touches[0].clientX;n=t.touches[0].clientY}return new f(r,n)},createTransparentPatternCanvas:function e(){var t=document.createElement("canvas");var r=t.getContext("2d");t.width=10;t.height=10;r.fillStyle="white";r.fillRect(0,0,t.width,t.height);r.fillStyle="#cccccc";r.fillRect(0,0,t.width/2,t.height/2);r.fillRect(t.width/2,t.height/2,t.width,t.height);return t},supportsMSBlob:function e(){var t=document.createElement("canvas");return typeof t.msToBlob!=="undefined"},translate:function e(t,r){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:{};var o=this.fetch(t,r);if(!o){a.default.warn("Utils#translate","Unable to translate `"+r+"`");return r}for(var i in n){o=o.replace("${"+i+"}",n[i])}return o},fetch:function e(t,r,n){r=r.replace(/\[(\w+)\]/g,".$1");r=r.replace(/^\./,"");var o=r.split(".");for(var i=0;i<o.length;i++){var a=o[i];t=t[a];if(!t){break}}if(typeof t==="undefined"){return false}return t},isMobile:function e(){var t=navigator.userAgent||navigator.vendor||window.opera;return/(android|bb\d+|meego).+mobile|avantgo|bada\/|blackberry|blazer|compal|elaine|fennec|hiptop|iemobile|ip(hone|od)|iris|kindle|lge |maemo|midp|mmp|mobile.+firefox|netfront|opera m(ob|in)i|palm( os)?|phone|p(ixi|re)\/|plucker|pocket|psp|series(4|6)0|symbian|treo|up\.(browser|link)|vodafone|wap|windows ce|xda|xiino/i.test(t)||/1207|6310|6590|3gso|4thp|50[1-6]i|770s|802s|a wa|abac|ac(er|oo|s\-)|ai(ko|rn)|al(av|ca|co)|amoi|an(ex|ny|yw)|aptu|ar(ch|go)|as(te|us)|attw|au(di|\-m|r |s )|avan|be(ck|ll|nq)|bi(lb|rd)|bl(ac|az)|br(e|v)w|bumb|bw\-(n|u)|c55\/|capi|ccwa|cdm\-|cell|chtm|cldc|cmd\-|co(mp|nd)|craw|da(it|ll|ng)|dbte|dc\-s|devi|dica|dmob|do(c|p)o|ds(12|\-d)|el(49|ai)|em(l2|ul)|er(ic|k0)|esl8|ez([4-7]0|os|wa|ze)|fetc|fly(\-|_)|g1 u|g560|gene|gf\-5|g\-mo|go(\.w|od)|gr(ad|un)|haie|hcit|hd\-(m|p|t)|hei\-|hi(pt|ta)|hp( i|ip)|hs\-c|ht(c(\-| |_|a|g|p|s|t)|tp)|hu(aw|tc)|i\-(20|go|ma)|i230|iac( |\-|\/)|ibro|idea|ig01|ikom|im1k|inno|ipaq|iris|ja(t|v)a|jbro|jemu|jigs|kddi|keji|kgt( |\/)|klon|kpt |kwc\-|kyo(c|k)|le(no|xi)|lg( g|\/(k|l|u)|50|54|\-[a-w])|libw|lynx|m1\-w|m3ga|m50\/|ma(te|ui|xo)|mc(01|21|ca)|m\-cr|me(rc|ri)|mi(o8|oa|ts)|mmef|mo(01|02|bi|de|do|t(\-| |o|v)|zz)|mt(50|p1|v )|mwbp|mywa|n10[0-2]|n20[2-3]|n30(0|2)|n50(0|2|5)|n7(0(0|1)|10)|ne((c|m)\-|on|tf|wf|wg|wt)|nok(6|i)|nzph|o2im|op(ti|wv)|oran|owg1|p800|pan(a|d|t)|pdxg|pg(13|\-([1-8]|c))|phil|pire|pl(ay|uc)|pn\-2|po(ck|rt|se)|prox|psio|pt\-g|qa\-a|qc(07|12|21|32|60|\-[2-7]|i\-)|qtek|r380|r600|raks|rim9|ro(ve|zo)|s55\/|sa(ge|ma|mm|ms|ny|va)|sc(01|h\-|oo|p\-)|sdk\/|se(c(\-|0|1)|47|mc|nd|ri)|sgh\-|shar|sie(\-|m)|sk\-0|sl(45|id)|sm(al|ar|b3|it|t5)|so(ft|ny)|sp(01|h\-|v\-|v )|sy(01|mb)|t2(18|50)|t6(00|10|18)|ta(gt|lk)|tcl\-|tdg\-|tel(i|m)|tim\-|t\-mo|to(pl|sh)|ts(70|m\-|m3|m5)|tx\-9|up(\.b|g1|si)|utst|v400|v750|veri|vi(rg|te)|vk(40|5[0-3]|\-v)|vm40|voda|vulc|vx(52|53|60|61|70|80|81|83|85|98)|w3c(\-| )|webc|whit|wi(g |nc|nw)|wmlb|wonu|x700|yas\-|your|zeto|zte\-/i.test(t.substr(0,4))},select:function e(t,r){var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:null;if(!n)n=function e(t){return t};var o=[];r.forEach(function(e){t.forEach(function(t){var r=n(t);if(r===e){o.push(t)}})});return o},getJSONP:function e(t){var r=new c.default(t);return r.load()},mergeCategories:function e(t,r,n){t=t.slice(0);var o=null;r.forEach(function(e){t.forEach(function(t){if(e.name===t.name){o=t}});if(!o){t.push(e)}else{o[n]=o[n].concat(e[n])}});return t},getStyleObject:function e(t){var r=window.getComputedStyle(t);var n={};for(var o in r){var i=r.getPropertyValue(o);var a=o.replace(/-([a-z])/g,function(e,t){return t.toUpperCase()});if(i!==""){n[a]=i}}return n},debounce:function e(t,r,n){var o;return function(){var e=this;var i=arguments;var a=function r(){o=null;if(!n)t.apply(e,i)};var s=n&&!o;clearTimeout(o);o=setTimeout(a,r);if(s)t.apply(this,i)}},getScrollbarWidth:function e(){var t=document.createElement("div");t.style.visibility="hidden";t.style.width="100px";t.style.msOverflowStyle="scrollbar";document.body.appendChild(t);var r=t.offsetWidth;t.style.overflow="scroll";var n=document.createElement("div");n.style.width="100%";t.appendChild(n);var o=n.offsetWidth;t.parentNode.removeChild(t);return r-o},Browser:u.default};t.default=p},function(e,t){"use strict";Object.defineProperty(t,"__esModule",{value:true});t.default={getIEVersion:function e(){var t=navigator,r=t.userAgent,n=t.appVersion;if(n.indexOf("MSIE")!==-1){return n.match(/MSIE\s+?([0-9]+)/i)[1]}else if(r.indexOf("Trident")!==-1){return r.match(/rv:([0-9]+)/i)[1]}else{return false}},isIE10:function e(){var t=this.getIEVersion();return t!==false&&t===10},isIE11:function e(){var t=this.getIEVersion();return t!==false&&t===11},isIElte:function e(t){var r=this.getIEVersion();if(r===false)return false;return r<=t}}},function(e,t,r){"use strict";var n=r(0);var o=B(n);var i=r(3);var a=B(i);var s=r(2);var u=B(s);var l=r(1);var c=r(91);var d=B(c);var f=r(5);var p=B(f);var h=r(7);var v=B(h);var m=r(6);var _=B(m);var g=r(61);var y=B(g);var b=r(93);var x=D(b);var E=r(8);var C=B(E);var w=r(60);var S=D(w);var T=r(30);var R=B(T);var M=r(12);var O=B(M);var k=r(92);var P=B(k);function D(e){if(e&&e.__esModule){return e}else{var t={};if(e!=null){for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t[r]=e[r]}}t.default=e;return t}}function B(e){return e&&e.__esModule?e:{default:e}}var F=function e(t){return l.SDKUtils.byteArrayToString(l.Base64.decode(t))};var A=function(e){(0,u.default)(t,e);function t(){var r=arguments.length>0&&arguments[0]!==undefined?arguments[0]:{};(0,o.default)(this,t);var n=(0,a.default)(this,e.call(this));n._mediator=new l.EventEmitter;n._fontLoader=new P.default;n._options=r;n._initOptions();n._initLanguage();n._initEvents();n._disposed=false;l.Log.setLevel(n._options.logLevel);if(n._v()){n.run()}return n}t.prototype.run=function e(){this._registerWebFonts();this._options.container.style.position="relative";this._render()};t.prototype._render=function e(){var t=l.React.createElement(d.default,{ui:this,mediator:this._mediator,options:this._options});if(this._options.renderReturnsComponent){return t}else{this._component=l.ReactDOM.render(t,this._options.container)}};t.prototype.export=function e(){var t;return(t=this._component).export.apply(t,arguments)};t.prototype.serialize=function e(){var t;return(t=this._component).serialize.apply(t,arguments)};t.prototype.deserialize=function e(t){return this._component.deserialize(t)};t.prototype.getEditor=function e(){return this._component.getEditor()};t.prototype._initOptions=function e(){this._options=l.SDKUtils.defaults(this._options,{language:"en",title:"PhotoEditor SDK",logLevel:"warn",preloader:true,editor:{},assets:{},photoRoll:{},enableUpload:true,enableWebcam:true,showCloseButton:false,showHeader:true,showTopBar:true,responsive:false});this._options.editor=l.SDKUtils.defaults(this._options.editor||{},{pixelRatio:typeof window!=="undefined"&&window.devicePixelRatio||1,preferredRenderer:"webgl",enableZoom:true,enableDrag:true,smoothDownscaling:false,smoothUpscaling:false,displayResizeMessage:true,maxMegaPixels:{},forceControls:[],watermarkImage:null,tools:["crop","filter","brightness","saturation","contrast","clarity","exposure","shadows","highlights","text","sticker","brush","radial-focus","linear-focus","frame"],controlsOrder:["crop",["filter","adjustments"],["text","sticker","brush"],["selectiveBlur","focus","frame"]],operationsOrder:["exif-orientation","orientation","crop","filter","adjustments","radial-focus","linear-focus","selective-blur","sprite","frame","watermark"],controlsOptions:{}});this._options.editor.maxMegaPixels=l.SDKUtils.defaults(this._options.editor.maxMegaPixels,{mobile:5,desktop:10});this._options.editor.export=l.SDKUtils.defaults(this._options.editor.export||{},{showButton:true,format:"image/png",type:l.RenderType.IMAGE,download:true,fileBasename:"photoeditorsdk-export",quality:.8});this._options.photoRoll=l.SDKUtils.defaults(this._options.photoRoll||{},{provider:null});this._options.extensions=l.SDKUtils.defaults(this._options.extensions||{},{languages:{},operations:[],controls:[]});this._options.assets=l.SDKUtils.defaults(this._options.assets||{},{baseUrl:"assets",resolver:null})};t.prototype._v=function e(){if(!this[F("X29wdGlvbnM=")][F("YXBpS2V5")]){l.Log.error(F("YXBpS2V5"),F("Tm8gYGFwaUtleWAgb3B0aW9uIGdpdmVuLg=="));l.Log.error(F("YXBpS2V5"),F("SW4gY2FzZSB5b3UgZG9uJ3QgaGF2ZSBhbiBBUEkga2V5IHlldCwgcGxlYXNlIGNvbnRhY3Qgb3VyIHNhbGVzIHN0YWZmIGF0IHNhbGVzQHBob3RvZWRpdG9yc2RrLmNvbSB0byBvYnRhaW4gYSBsaWNlbnNlIG9yIGxvZyBpbiB0byB5b3VyIGN1c3RvbWVyIGRhc2hib2FyZC4="));return false}return true};t.prototype._registerWebFonts=function e(){var t=this.getAssetPath("fonts/montserrat-regular.woff",true,true);var r=this.getAssetPath("fonts/montserrat-light.woff",true,true);var n='\n      // Injected by PhotoEditorSDK\n      @font-face {\n        font-family: "__pesdk_Montserrat";\n        src: url(\''+t+"') format('woff');\n        font-weight: normal;\n        font-style: normal;\n      }\n\n      @font-face {\n        font-family: \"__pesdk_Montserrat\";\n        src: url('"+r+"') format('woff');\n        font-weight: 100;\n        font-style: normal;\n      }\n    ";this._webFontsStyle=document.createElement("style");this._webFontsStyle.innerHTML=n;var o=document.getElementsByTagName("head")[0];o.appendChild(this._webFontsStyle)};t.prototype._initEvents=function e(){this._mediator.pipeEvents(this)};t.prototype._disposeEvents=function e(){this._mediator.unpipeEvents(this)};t.prototype._initLanguage=function e(){this._languages=l.SDKUtils.deepDefaults(this._options.extensions.languages,{de:r(94),en:r(95)});this._language=this._languages[this._options.language];if(!this._language){l.Log.error(this.constructor.name,"Language `"+this._options.language+"` not found!")}};t.prototype.translate=function e(t,r){return l.Utils.translate(this._language,t,r)};t.prototype.setImage=function e(t){if(!this._component)return;this._component.setImage(t)};t.prototype.getAssetPath=function e(t){var r=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var n=arguments.length>2&&arguments[2]!==undefined?arguments[2]:false;var o=this._options.assets,i=o.baseUrl,a=o.resolver;var s=i+"/"+t;if(r){if(!n){var u=typeof window!=="undefined"&&window.devicePixelRatio||1;if(u>1){var l=/\.[\w\?=]+$/;t=t.replace(l,function(e){return"@2x"+e})}}s=i+"/ui/react/"+t}if(typeof a!=="undefined"&&a!==null){s=a(s)}return s};t.prototype.getFontLoader=function e(){return this._fontLoader};t.prototype.dispose=function e(){if(this._disposed){throw new Error("This instance of PhotoEditorSDK is already disposed.")}this._disposed=true;this._webFontsStyle.parentNode.removeChild(this._webFontsStyle);l.ReactDOM.unmountComponentAtNode(this._options.container);this._disposeEvents()};return t}(l.EventEmitter);A.prototype.identifier="react";A.BaseComponent=l.BaseComponent;A.BaseControls=C.default;A.ControlsComponent=v.default;A.React=l.React;A.ReactBEM=l.ReactBEM;A.SharedState=l.SharedState;A.Constants=l.Constants;A.Utils=l.Utils;A.ScrollbarComponent=p.default;A.ModalManager=_.default;A.JSONLoader=y.default;A.PhotoRoll=x;A.Controls=S;A.SliderComponent=R.default;A.SliderOverlayComponent=O.default;var I=function(e){(0,u.default)(t,e);function t(){(0,o.default)(this,t);for(var r=arguments.length,n=Array(r),i=0;i<r;i++){n[i]=arguments[i]}var s=(0,a.default)(this,e.call.apply(e,[this].concat(n)));s._ui=new A(s.props);return s}t.prototype.render=function e(){return this._ui.render()};return t}(l.React.Component);A.ReactComponent=I;l.SDK.UI=l.SDK.UI||{};l.SDK.UI.ReactUI=A;e.exports=A},function(e,t){(function(e){"use strict";Object.defineProperty(t,"__esModule",{value:true});var r=typeof window==="undefined"?e:window;var n=r.requestAnimationFrame;var o=r.cancelAnimationFrame;var i=0;var a=["ms","moz","webkit","o"];for(var s=0;s<a.length&&!n;++s){t.requestAnimationFrame=n=r[a[s]+"RequestAnimationFrame"];t.cancelAnimationFrame=o=r[a[s]+"CancelAnimationFrame"]||r[a[s]+"CancelRequestAnimationFrame"]}if(!n){t.requestAnimationFrame=n=function e(t,r){var n=(new Date).getTime();var o=Math.max(0,16-(n-i));var a=setTimeout(function(){t(n+o)},o);i=n+o;return a}}if(!o){t.cancelAnimationFrame=o=function e(t){clearTimeout(t)}}t.requestAnimationFrame=n;t.cancelAnimationFrame=o}).call(t,function(){return this}())},function(e,t,r){e.exports={default:r(214),__esModule:true}},function(e,t,r){e.exports={default:r(215),__esModule:true}},function(e,t,r){e.exports={default:r(216),__esModule:true}},function(e,t,r){e.exports={default:r(217),__esModule:true}},function(e,t,r){e.exports={default:r(218),__esModule:true}},function(e,t,r){e.exports={default:r(220),__esModule:true}},function(e,t,r){e.exports={default:r(221),__esModule:true}},function(e,t,r){e.exports={default:r(222),__esModule:true}},function(e,t,r){"use strict";t.__esModule=true;var n=r(206);var o=s(n);var i=r(205);var a=s(i);function s(e){return e&&e.__esModule?e:{default:e}}t.default=function(){function e(e,t){var r=[];var n=true;var o=false;var i=undefined;try{for(var s=(0,a.default)(e),u;!(n=(u=s.next()).done);n=true){r.push(u.value);if(t&&r.length===t)break}}catch(e){o=true;i=e}finally{try{if(!n&&s["return"])s["return"]()}finally{if(o)throw i}}return r}return function(t,r){if(Array.isArray(t)){return t}else if((0,o.default)(Object(t))){return e(t,r)}else{throw new TypeError("Invalid attempt to destructure non-iterable instance")}}}()},function(e,t,r){"use strict";t.__esModule=true;var n=r(204);var o=i(n);function i(e){return e&&e.__esModule?e:{default:e}}t.default=function(e){if(Array.isArray(e)){for(var t=0,r=Array(e.length);t<e.length;t++){r[t]=e[t]}return r}else{return(0,o.default)(e)}}},function(e,t,r){r(36);r(246);e.exports=r(9).Array.from},function(e,t,r){r(58);r(36);e.exports=r(244)},function(e,t,r){r(58);r(36);e.exports=r(245)},function(e,t,r){r(248);e.exports=r(9).Object.assign},function(e,t,r){r(249);var n=r(9).Object;e.exports=function e(t,r){return n.create(t,r)}},function(e,t,r){r(250);var n=r(9).Object;e.exports=function e(t,r,o){return n.defineProperty(t,r,o)}},function(e,t,r){r(251);e.exports=r(9).Object.setPrototypeOf},function(e,t,r){r(253);r(252);r(254);r(255);e.exports=r(9).Symbol},function(e,t,r){r(36);r(58);e.exports=r(57).f("iterator")},function(e,t){e.exports=function(e){if(typeof e!="function")throw TypeError(e+" is not a function!");return e}},function(e,t){e.exports=function(){}},function(e,t,r){var n=r(19),o=r(87),i=r(243);e.exports=function(e){return function(t,r,a){var s=n(t),u=o(s.length),l=i(a,u),c;if(e&&r!=r)while(u>l){c=s[l++];if(c!=c)return true}else for(;u>l;l++)if(e||l in s){if(s[l]===r)return e||l||0}return!e&&-1}}},function(e,t,r){"use strict";var n=r(14),o=r(28);e.exports=function(e,t,r){if(t in e)n.f(e,t,o(0,r));else e[t]=r}},function(e,t,r){var n=r(27),o=r(49),i=r(34);e.exports=function(e){var t=n(e),r=o.f;if(r){var a=r(e),s=i.f,u=0,l;while(a.length>u)if(s.call(e,l=a[u++]))t.push(l)}return t}},function(e,t,r){e.exports=r(13).document&&document.documentElement},function(e,t,r){var n=r(23),o=r(10)("iterator"),i=Array.prototype;e.exports=function(e){return e!==undefined&&(n.Array===e||i[o]===e)}},function(e,t,r){var n=r(43);e.exports=Array.isArray||function e(t){return n(t)=="Array"}},function(e,t,r){var n=r(15);e.exports=function(e,t,r,o){try{return o?t(n(r)[0],r[1]):t(r)}catch(t){var i=e["return"];if(i!==undefined)n(i.call(e));throw t}}},function(e,t,r){"use strict";var n=r(48),o=r(28),i=r(50),a={};r(22)(a,r(10)("iterator"),function(){return this});e.exports=function(e,t,r){e.prototype=n(a,{next:o(1,r)});i(e,t+" Iterator")}},function(e,t,r){var n=r(10)("iterator"),o=false;try{var i=[7][n]();i["return"]=function(){o=true};Array.from(i,function(){throw 2})}catch(e){}e.exports=function(e,t){if(!t&&!o)return false;var r=false;try{var i=[7],a=i[n]();a.next=function(){return{done:r=true}};i[n]=function(){return a};e(i)}catch(e){}return r}},function(e,t){e.exports=function(e,t){return{value:t,done:!!e}}},function(e,t,r){var n=r(27),o=r(19);e.exports=function(e,t){var r=o(e),i=n(r),a=i.length,s=0,u;while(a>s)if(r[u=i[s++]]===t)return u}},function(e,t,r){var n=r(35)("meta"),o=r(26),i=r(18),a=r(14).f,s=0;var u=Object.isExtensible||function(){return true};var l=!r(25)(function(){return u(Object.preventExtensions({}))});var c=function(e){a(e,n,{value:{i:"O"+ ++s,w:{}}})};var d=function(e,t){if(!o(e))return typeof e=="symbol"?e:(typeof e=="string"?"S":"P")+e;if(!i(e,n)){if(!u(e))return"F";if(!t)return"E";c(e)}return e[n].i};var f=function(e,t){if(!i(e,n)){if(!u(e))return true;if(!t)return false;c(e)}return e[n].w};var p=function(e){if(l&&h.NEED&&u(e)&&!i(e,n))c(e);return e};var h=e.exports={KEY:n,NEED:false,fastKey:d,getWeak:f,onFreeze:p}},function(e,t,r){"use strict";var n=r(27),o=r(49),i=r(34),a=r(54),s=r(81),u=Object.assign;e.exports=!u||r(25)(function(){var e={},t={},r=Symbol(),n="abcdefghijklmnopqrst";e[r]=7;n.split("").forEach(function(e){t[e]=e});return u({},e)[r]!=7||Object.keys(u({},t)).join("")!=n})?function e(t,r){var u=a(t),l=arguments.length,c=1,d=o.f,f=i.f;while(l>c){var p=s(arguments[c++]),h=d?n(p).concat(d(p)):n(p),v=h.length,m=0,_;while(v>m)if(f.call(p,_=h[m++]))u[_]=p[_]}return u}:u},function(e,t,r){var n=r(14),o=r(15),i=r(27);e.exports=r(16)?Object.defineProperties:function e(t,r){o(t);var a=i(r),s=a.length,u=0,l;while(s>u)n.f(t,l=a[u++],r[l]);return t}},function(e,t,r){var n=r(19),o=r(84).f,i={}.toString;var a=typeof window=="object"&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[];var s=function(e){try{return o(e)}catch(e){return a.slice()}};e.exports.f=function e(t){return a&&i.call(t)=="[object Window]"?s(t):o(n(t))}},function(e,t,r){var n=r(18),o=r(54),i=r(51)("IE_PROTO"),a=Object.prototype;e.exports=Object.getPrototypeOf||function(e){e=o(e);if(n(e,i))return e[i];if(typeof e.constructor=="function"&&e instanceof e.constructor){return e.constructor.prototype}return e instanceof Object?a:null}},function(e,t,r){var n=r(26),o=r(15);var i=function(e,t){o(e);if(!n(t)&&t!==null)throw TypeError(t+": can't set as prototype!")};e.exports={set:Object.setPrototypeOf||("__proto__"in{}?function(e,t,n){try{n=r(44)(Function.call,r(83).f(Object.prototype,"__proto__").set,2);n(e,[]);t=!(e instanceof Array)}catch(e){t=true}return function e(r,o){i(r,o);if(t)r.__proto__=o;else n(r,o);return r}}({},false):undefined),check:i}},function(e,t,r){var n=r(53),o=r(45);e.exports=function(e){return function(t,r){var i=String(o(t)),a=n(r),s=i.length,u,l;if(a<0||a>=s)return e?"":undefined;u=i.charCodeAt(a);return u<55296||u>56319||a+1===s||(l=i.charCodeAt(a+1))<56320||l>57343?e?i.charAt(a):u:e?i.slice(a,a+2):(u-55296<<10)+(l-56320)+65536}}},function(e,t,r){var n=r(53),o=Math.max,i=Math.min;e.exports=function(e,t){e=n(e);return e<0?o(e+t,0):i(e,t)}},function(e,t,r){var n=r(15),o=r(88);e.exports=r(9).getIterator=function(e){var t=o(e);if(typeof t!="function")throw TypeError(e+" is not iterable!");return n(t.call(e))}},function(e,t,r){var n=r(78),o=r(10)("iterator"),i=r(23);e.exports=r(9).isIterable=function(e){var t=Object(e);return t[o]!==undefined||"@@iterator"in t||i.hasOwnProperty(n(t))}},function(e,t,r){"use strict";var n=r(44),o=r(17),i=r(54),a=r(231),s=r(229),u=r(87),l=r(226),c=r(88);o(o.S+o.F*!r(233)(function(e){Array.from(e)}),"Array",{from:function e(t){var r=i(t),o=typeof this=="function"?this:Array,d=arguments.length,f=d>1?arguments[1]:undefined,p=f!==undefined,h=0,v=c(r),m,_,g,y;if(p)f=n(f,d>2?arguments[2]:undefined,2);if(v!=undefined&&!(o==Array&&s(v))){for(y=v.call(r),_=new o;!(g=y.next()).done;h++){l(_,h,p?a(y,f,[g.value,h],true):g.value)}}else{m=u(r.length);for(_=new o(m);m>h;h++){l(_,h,p?f(r[h],h):r[h])}}_.length=h;return _}})},function(e,t,r){"use strict";var n=r(224),o=r(234),i=r(23),a=r(19);e.exports=r(82)(Array,"Array",function(e,t){this._t=a(e);this._i=0;this._k=t},function(){var e=this._t,t=this._k,r=this._i++;if(!e||r>=e.length){this._t=undefined;return o(1)}if(t=="keys")return o(0,r);if(t=="values")return o(0,e[r]);return o(0,[r,e[r]])},"values");i.Arguments=i.Array;n("keys");n("values");n("entries")},function(e,t,r){var n=r(17);n(n.S+n.F,"Object",{assign:r(237)})},function(e,t,r){var n=r(17);n(n.S,"Object",{create:r(48)})},function(e,t,r){var n=r(17);n(n.S+n.F*!r(16),"Object",{defineProperty:r(14).f})},function(e,t,r){var n=r(17);n(n.S,"Object",{setPrototypeOf:r(241).set})},function(e,t){},function(e,t,r){"use strict";var n=r(13),o=r(18),i=r(16),a=r(17),s=r(86),u=r(236).KEY,l=r(25),c=r(52),d=r(50),f=r(35),p=r(10),h=r(57),v=r(56),m=r(235),_=r(227),g=r(230),y=r(15),b=r(19),x=r(55),E=r(28),C=r(48),w=r(239),S=r(83),T=r(14),R=r(27),M=S.f,O=T.f,k=w.f,P=n.Symbol,D=n.JSON,B=D&&D.stringify,F="prototype",A=p("_hidden"),I=p("toPrimitive"),N={}.propertyIsEnumerable,L=c("symbol-registry"),U=c("symbols"),j=c("op-symbols"),V=Object[F],z=typeof P=="function",W=n.QObject;var H=!W||!W[F]||!W[F].findChild;var G=i&&l(function(){return C(O({},"a",{get:function(){return O(this,"a",{value:7}).a}})).a!=7})?function(e,t,r){var n=M(V,t);if(n)delete V[t];O(e,t,r);if(n&&e!==V)O(V,t,n)}:O;var K=function(e){var t=U[e]=C(P[F]);t._k=e;return t};var q=z&&typeof P.iterator=="symbol"?function(e){return typeof e=="symbol"}:function(e){return e instanceof P};var $=function e(t,r,n){if(t===V)$(j,r,n);y(t);r=x(r,true);y(n);if(o(U,r)){if(!n.enumerable){if(!o(t,A))O(t,A,E(1,{}));t[A][r]=true}else{if(o(t,A)&&t[A][r])t[A][r]=false;n=C(n,{enumerable:E(0,false)})}return G(t,r,n)}return O(t,r,n)};var Y=function e(t,r){y(t);var n=_(r=b(r)),o=0,i=n.length,a;while(i>o)$(t,a=n[o++],r[a]);return t};var X=function e(t,r){return r===undefined?C(t):Y(C(t),r)};var Z=function e(t){var r=N.call(this,t=x(t,true));if(this===V&&o(U,t)&&!o(j,t))return false;return r||!o(this,t)||!o(U,t)||o(this,A)&&this[A][t]?r:true};var J=function e(t,r){t=b(t);r=x(r,true);if(t===V&&o(U,r)&&!o(j,r))return;var n=M(t,r);if(n&&o(U,r)&&!(o(t,A)&&t[A][r]))n.enumerable=true;return n};var Q=function e(t){var r=k(b(t)),n=[],i=0,a;while(r.length>i){if(!o(U,a=r[i++])&&a!=A&&a!=u)n.push(a)}return n};var ee=function e(t){var r=t===V,n=k(r?j:b(t)),i=[],a=0,s;while(n.length>a){if(o(U,s=n[a++])&&(r?o(V,s):true))i.push(U[s])}return i};if(!z){P=function e(){if(this instanceof P)throw TypeError("Symbol is not a constructor!");var t=f(arguments.length>0?arguments[0]:undefined);var r=function(e){if(this===V)r.call(j,e);if(o(this,A)&&o(this[A],t))this[A][t]=false;G(this,t,E(1,e))};if(i&&H)G(V,t,{configurable:true,set:r});return K(t)};s(P[F],"toString",function e(){return this._k});S.f=J;T.f=$;r(84).f=w.f=Q;r(34).f=Z;r(49).f=ee;if(i&&!r(47)){s(V,"propertyIsEnumerable",Z,true)}h.f=function(e){return K(p(e))}}a(a.G+a.W+a.F*!z,{Symbol:P});for(var te="hasInstance,isConcatSpreadable,iterator,match,replace,search,species,split,toPrimitive,toStringTag,unscopables".split(","),re=0;te.length>re;)p(te[re++]);for(var te=R(p.store),re=0;te.length>re;)v(te[re++]);a(a.S+a.F*!z,"Symbol",{for:function(e){return o(L,e+="")?L[e]:L[e]=P(e)},keyFor:function e(t){if(q(t))return m(L,t);throw TypeError(t+" is not a symbol!")},useSetter:function(){H=true},useSimple:function(){H=false}});a(a.S+a.F*!z,"Object",{create:X,defineProperty:$,defineProperties:Y,getOwnPropertyDescriptor:J,getOwnPropertyNames:Q,getOwnPropertySymbols:ee});D&&a(a.S+a.F*(!z||l(function(){var e=P();return B([e])!="[null]"||B({a:e})!="{}"||B(Object(e))!="{}"})),"JSON",{stringify:function e(t){if(t===undefined||q(t))return;var r=[t],n=1,o,i;while(arguments.length>n)r.push(arguments[n++]);o=r[1];if(typeof o=="function")i=o;if(i||!g(o))o=function(e,t){if(i)t=i.call(this,e,t);if(!q(t))return t};r[1]=o;return B.apply(D,r)}});P[F][I]||r(22)(P[F],I,P[F].valueOf);d(P,"Symbol");d(Math,"Math",true);d(n.JSON,"JSON",true)},function(e,t,r){r(56)("asyncIterator")},function(e,t,r){r(56)("observable")},function(e,t,r){(function(e,n){var o;(function(i){var a=typeof t=="object"&&t&&!t.nodeType&&t;var s=typeof e=="object"&&e&&!e.nodeType&&e;var u=typeof n=="object"&&n;if(u.global===u||u.window===u||u.self===u){i=u}var l,c=2147483647,d=36,f=1,p=26,h=38,v=700,m=72,_=128,g="-",y=/^xn--/,b=/[^\x20-\x7E]/,x=/[\x2E\u3002\uFF0E\uFF61]/g,E={overflow:"Overflow: input needs wider integers to process","not-basic":"Illegal input >= 0x80 (not a basic code point)","invalid-input":"Invalid input"},C=d-f,w=Math.floor,S=String.fromCharCode,T;function R(e){throw new RangeError(E[e])}function M(e,t){var r=e.length;var n=[];while(r--){n[r]=t(e[r])}return n}function O(e,t){var r=e.split("@");var n="";if(r.length>1){n=r[0]+"@";e=r[1]}e=e.replace(x,".");var o=e.split(".");var i=M(o,t).join(".");return n+i}function k(e){var t=[],r=0,n=e.length,o,i;while(r<n){o=e.charCodeAt(r++);if(o>=55296&&o<=56319&&r<n){i=e.charCodeAt(r++);if((i&64512)==56320){t.push(((o&1023)<<10)+(i&1023)+65536)}else{t.push(o);r--}}else{t.push(o)}}return t}function P(e){return M(e,function(e){var t="";if(e>65535){e-=65536;t+=S(e>>>10&1023|55296);e=56320|e&1023}t+=S(e);return t}).join("")}function D(e){if(e-48<10){return e-22}if(e-65<26){return e-65}if(e-97<26){return e-97}return d}function B(e,t){return e+22+75*(e<26)-((t!=0)<<5);
}function F(e,t,r){var n=0;e=r?w(e/v):e>>1;e+=w(e/t);for(;e>C*p>>1;n+=d){e=w(e/C)}return w(n+(C+1)*e/(e+h))}function A(e){var t=[],r=e.length,n,o=0,i=_,a=m,s,u,l,h,v,y,b,x,E;s=e.lastIndexOf(g);if(s<0){s=0}for(u=0;u<s;++u){if(e.charCodeAt(u)>=128){R("not-basic")}t.push(e.charCodeAt(u))}for(l=s>0?s+1:0;l<r;){for(h=o,v=1,y=d;;y+=d){if(l>=r){R("invalid-input")}b=D(e.charCodeAt(l++));if(b>=d||b>w((c-o)/v)){R("overflow")}o+=b*v;x=y<=a?f:y>=a+p?p:y-a;if(b<x){break}E=d-x;if(v>w(c/E)){R("overflow")}v*=E}n=t.length+1;a=F(o-h,n,h==0);if(w(o/n)>c-i){R("overflow")}i+=w(o/n);o%=n;t.splice(o++,0,i)}return P(t)}function I(e){var t,r,n,o,i,a,s,u,l,h,v,y=[],b,x,E,C;e=k(e);b=e.length;t=_;r=0;i=m;for(a=0;a<b;++a){v=e[a];if(v<128){y.push(S(v))}}n=o=y.length;if(o){y.push(g)}while(n<b){for(s=c,a=0;a<b;++a){v=e[a];if(v>=t&&v<s){s=v}}x=n+1;if(s-t>w((c-r)/x)){R("overflow")}r+=(s-t)*x;t=s;for(a=0;a<b;++a){v=e[a];if(v<t&&++r>c){R("overflow")}if(v==t){for(u=r,l=d;;l+=d){h=l<=i?f:l>=i+p?p:l-i;if(u<h){break}C=u-h;E=d-h;y.push(S(B(h+C%E,0)));u=w(C/E)}y.push(S(B(u,0)));i=F(r,x,n==o);r=0;++n}}++r;++t}return y.join("")}function N(e){return O(e,function(e){return y.test(e)?A(e.slice(4).toLowerCase()):e})}function L(e){return O(e,function(e){return b.test(e)?"xn--"+I(e):e})}l={version:"1.4.1",ucs2:{decode:k,encode:P},decode:A,encode:I,toASCII:L,toUnicode:N};if(true){!(o=function(){return l}.call(t,r,t,e),o!==undefined&&(e.exports=o))}else if(a&&s){if(e.exports==a){s.exports=l}else{for(T in l){l.hasOwnProperty(T)&&(a[T]=l[T])}}}else{i.punycode=l}})(this)}).call(t,r(262)(e),function(){return this}())},function(e,t){"use strict";function r(e,t){return Object.prototype.hasOwnProperty.call(e,t)}e.exports=function(e,t,o,i){t=t||"&";o=o||"=";var a={};if(typeof e!=="string"||e.length===0){return a}var s=/\+/g;e=e.split(t);var u=1e3;if(i&&typeof i.maxKeys==="number"){u=i.maxKeys}var l=e.length;if(u>0&&l>u){l=u}for(var c=0;c<l;++c){var d=e[c].replace(s,"%20"),f=d.indexOf(o),p,h,v,m;if(f>=0){p=d.substr(0,f);h=d.substr(f+1)}else{p=d;h=""}v=decodeURIComponent(p);m=decodeURIComponent(h);if(!r(a,v)){a[v]=m}else if(n(a[v])){a[v].push(m)}else{a[v]=[a[v],m]}}return a};var n=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"}},function(e,t){"use strict";var r=function(e){switch(typeof e){case"string":return e;case"boolean":return e?"true":"false";case"number":return isFinite(e)?e:"";default:return""}};e.exports=function(e,t,a,s){t=t||"&";a=a||"=";if(e===null){e=undefined}if(typeof e==="object"){return o(i(e),function(i){var s=encodeURIComponent(r(i))+a;if(n(e[i])){return o(e[i],function(e){return s+encodeURIComponent(r(e))}).join(t)}else{return s+encodeURIComponent(r(e[i]))}}).join(t)}if(!s)return"";return encodeURIComponent(r(s))+a+encodeURIComponent(r(e))};var n=Array.isArray||function(e){return Object.prototype.toString.call(e)==="[object Array]"};function o(e,t){if(e.map)return e.map(t);var r=[];for(var n=0;n<e.length;n++){r.push(t(e[n],n))}return r}var i=Object.keys||function(e){var t=[];for(var r in e){if(Object.prototype.hasOwnProperty.call(e,r))t.push(r)}return t}},function(e,t,r){"use strict";t.decode=t.parse=r(257);t.encode=t.stringify=r(258)},function(e,t,r){"use strict";var n=r(256);var o=r(261);t.parse=x;t.resolve=C;t.resolveObject=w;t.format=E;t.Url=i;function i(){this.protocol=null;this.slashes=null;this.auth=null;this.host=null;this.port=null;this.hostname=null;this.hash=null;this.search=null;this.query=null;this.pathname=null;this.path=null;this.href=null}var a=/^([a-z0-9.+-]+:)/i,s=/:[0-9]*$/,u=/^(\/\/?(?!\/)[^\?\s]*)(\?[^\s]*)?$/,l=["<",">",'"',"`"," ","\r","\n","\t"],c=["{","}","|","\\","^","`"].concat(l),d=["'"].concat(c),f=["%","/","?",";","#"].concat(d),p=["/","?","#"],h=255,v=/^[+a-z0-9A-Z_-]{0,63}$/,m=/^([+a-z0-9A-Z_-]{0,63})(.*)$/,_={javascript:true,"javascript:":true},g={javascript:true,"javascript:":true},y={http:true,https:true,ftp:true,gopher:true,file:true,"http:":true,"https:":true,"ftp:":true,"gopher:":true,"file:":true},b=r(259);function x(e,t,r){if(e&&o.isObject(e)&&e instanceof i)return e;var n=new i;n.parse(e,t,r);return n}i.prototype.parse=function(e,t,r){if(!o.isString(e)){throw new TypeError("Parameter 'url' must be a string, not "+typeof e)}var i=e.indexOf("?"),s=i!==-1&&i<e.indexOf("#")?"?":"#",l=e.split(s),c=/\\/g;l[0]=l[0].replace(c,"/");e=l.join(s);var x=e;x=x.trim();if(!r&&e.split("#").length===1){var E=u.exec(x);if(E){this.path=x;this.href=x;this.pathname=E[1];if(E[2]){this.search=E[2];if(t){this.query=b.parse(this.search.substr(1))}else{this.query=this.search.substr(1)}}else if(t){this.search="";this.query={}}return this}}var C=a.exec(x);if(C){C=C[0];var w=C.toLowerCase();this.protocol=w;x=x.substr(C.length)}if(r||C||x.match(/^\/\/[^@\/]+@[^@\/]+/)){var S=x.substr(0,2)==="//";if(S&&!(C&&g[C])){x=x.substr(2);this.slashes=true}}if(!g[C]&&(S||C&&!y[C])){var T=-1;for(var R=0;R<p.length;R++){var M=x.indexOf(p[R]);if(M!==-1&&(T===-1||M<T))T=M}var O,k;if(T===-1){k=x.lastIndexOf("@")}else{k=x.lastIndexOf("@",T)}if(k!==-1){O=x.slice(0,k);x=x.slice(k+1);this.auth=decodeURIComponent(O)}T=-1;for(var R=0;R<f.length;R++){var M=x.indexOf(f[R]);if(M!==-1&&(T===-1||M<T))T=M}if(T===-1)T=x.length;this.host=x.slice(0,T);x=x.slice(T);this.parseHost();this.hostname=this.hostname||"";var P=this.hostname[0]==="["&&this.hostname[this.hostname.length-1]==="]";if(!P){var D=this.hostname.split(/\./);for(var R=0,B=D.length;R<B;R++){var F=D[R];if(!F)continue;if(!F.match(v)){var A="";for(var I=0,N=F.length;I<N;I++){if(F.charCodeAt(I)>127){A+="x"}else{A+=F[I]}}if(!A.match(v)){var L=D.slice(0,R);var U=D.slice(R+1);var j=F.match(m);if(j){L.push(j[1]);U.unshift(j[2])}if(U.length){x="/"+U.join(".")+x}this.hostname=L.join(".");break}}}}if(this.hostname.length>h){this.hostname=""}else{this.hostname=this.hostname.toLowerCase()}if(!P){this.hostname=n.toASCII(this.hostname)}var V=this.port?":"+this.port:"";var z=this.hostname||"";this.host=z+V;this.href+=this.host;if(P){this.hostname=this.hostname.substr(1,this.hostname.length-2);if(x[0]!=="/"){x="/"+x}}}if(!_[w]){for(var R=0,B=d.length;R<B;R++){var W=d[R];if(x.indexOf(W)===-1)continue;var H=encodeURIComponent(W);if(H===W){H=escape(W)}x=x.split(W).join(H)}}var G=x.indexOf("#");if(G!==-1){this.hash=x.substr(G);x=x.slice(0,G)}var K=x.indexOf("?");if(K!==-1){this.search=x.substr(K);this.query=x.substr(K+1);if(t){this.query=b.parse(this.query)}x=x.slice(0,K)}else if(t){this.search="";this.query={}}if(x)this.pathname=x;if(y[w]&&this.hostname&&!this.pathname){this.pathname="/"}if(this.pathname||this.search){var V=this.pathname||"";var q=this.search||"";this.path=V+q}this.href=this.format();return this};function E(e){if(o.isString(e))e=x(e);if(!(e instanceof i))return i.prototype.format.call(e);return e.format()}i.prototype.format=function(){var e=this.auth||"";if(e){e=encodeURIComponent(e);e=e.replace(/%3A/i,":");e+="@"}var t=this.protocol||"",r=this.pathname||"",n=this.hash||"",i=false,a="";if(this.host){i=e+this.host}else if(this.hostname){i=e+(this.hostname.indexOf(":")===-1?this.hostname:"["+this.hostname+"]");if(this.port){i+=":"+this.port}}if(this.query&&o.isObject(this.query)&&Object.keys(this.query).length){a=b.stringify(this.query)}var s=this.search||a&&"?"+a||"";if(t&&t.substr(-1)!==":")t+=":";if(this.slashes||(!t||y[t])&&i!==false){i="//"+(i||"");if(r&&r.charAt(0)!=="/")r="/"+r}else if(!i){i=""}if(n&&n.charAt(0)!=="#")n="#"+n;if(s&&s.charAt(0)!=="?")s="?"+s;r=r.replace(/[?#]/g,function(e){return encodeURIComponent(e)});s=s.replace("#","%23");return t+i+r+s+n};function C(e,t){return x(e,false,true).resolve(t)}i.prototype.resolve=function(e){return this.resolveObject(x(e,false,true)).format()};function w(e,t){if(!e)return t;return x(e,false,true).resolveObject(t)}i.prototype.resolveObject=function(e){if(o.isString(e)){var t=new i;t.parse(e,false,true);e=t}var r=new i;var n=Object.keys(this);for(var a=0;a<n.length;a++){var s=n[a];r[s]=this[s]}r.hash=e.hash;if(e.href===""){r.href=r.format();return r}if(e.slashes&&!e.protocol){var u=Object.keys(e);for(var l=0;l<u.length;l++){var c=u[l];if(c!=="protocol")r[c]=e[c]}if(y[r.protocol]&&r.hostname&&!r.pathname){r.path=r.pathname="/"}r.href=r.format();return r}if(e.protocol&&e.protocol!==r.protocol){if(!y[e.protocol]){var d=Object.keys(e);for(var f=0;f<d.length;f++){var p=d[f];r[p]=e[p]}r.href=r.format();return r}r.protocol=e.protocol;if(!e.host&&!g[e.protocol]){var h=(e.pathname||"").split("/");while(h.length&&!(e.host=h.shift()));if(!e.host)e.host="";if(!e.hostname)e.hostname="";if(h[0]!=="")h.unshift("");if(h.length<2)h.unshift("");r.pathname=h.join("/")}else{r.pathname=e.pathname}r.search=e.search;r.query=e.query;r.host=e.host||"";r.auth=e.auth;r.hostname=e.hostname||e.host;r.port=e.port;if(r.pathname||r.search){var v=r.pathname||"";var m=r.search||"";r.path=v+m}r.slashes=r.slashes||e.slashes;r.href=r.format();return r}var _=r.pathname&&r.pathname.charAt(0)==="/",b=e.host||e.pathname&&e.pathname.charAt(0)==="/",x=b||_||r.host&&e.pathname,E=x,C=r.pathname&&r.pathname.split("/")||[],h=e.pathname&&e.pathname.split("/")||[],w=r.protocol&&!y[r.protocol];if(w){r.hostname="";r.port=null;if(r.host){if(C[0]==="")C[0]=r.host;else C.unshift(r.host)}r.host="";if(e.protocol){e.hostname=null;e.port=null;if(e.host){if(h[0]==="")h[0]=e.host;else h.unshift(e.host)}e.host=null}x=x&&(h[0]===""||C[0]==="")}if(b){r.host=e.host||e.host===""?e.host:r.host;r.hostname=e.hostname||e.hostname===""?e.hostname:r.hostname;r.search=e.search;r.query=e.query;C=h}else if(h.length){if(!C)C=[];C.pop();C=C.concat(h);r.search=e.search;r.query=e.query}else if(!o.isNullOrUndefined(e.search)){if(w){r.hostname=r.host=C.shift();var S=r.host&&r.host.indexOf("@")>0?r.host.split("@"):false;if(S){r.auth=S.shift();r.host=r.hostname=S.shift()}}r.search=e.search;r.query=e.query;if(!o.isNull(r.pathname)||!o.isNull(r.search)){r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")}r.href=r.format();return r}if(!C.length){r.pathname=null;if(r.search){r.path="/"+r.search}else{r.path=null}r.href=r.format();return r}var T=C.slice(-1)[0];var R=(r.host||e.host||C.length>1)&&(T==="."||T==="..")||T==="";var M=0;for(var O=C.length;O>=0;O--){T=C[O];if(T==="."){C.splice(O,1)}else if(T===".."){C.splice(O,1);M++}else if(M){C.splice(O,1);M--}}if(!x&&!E){for(;M--;M){C.unshift("..")}}if(x&&C[0]!==""&&(!C[0]||C[0].charAt(0)!=="/")){C.unshift("")}if(R&&C.join("/").substr(-1)!=="/"){C.push("")}var k=C[0]===""||C[0]&&C[0].charAt(0)==="/";if(w){r.hostname=r.host=k?"":C.length?C.shift():"";var S=r.host&&r.host.indexOf("@")>0?r.host.split("@"):false;if(S){r.auth=S.shift();r.host=r.hostname=S.shift()}}x=x||r.host&&C.length;if(x&&!k){C.unshift("")}if(!C.length){r.pathname=null;r.path=null}else{r.pathname=C.join("/")}if(!o.isNull(r.pathname)||!o.isNull(r.search)){r.path=(r.pathname?r.pathname:"")+(r.search?r.search:"")}r.auth=e.auth||r.auth;r.slashes=r.slashes||e.slashes;r.href=r.format();return r};i.prototype.parseHost=function(){var e=this.host;var t=s.exec(e);if(t){t=t[0];if(t!==":"){this.port=t.substr(1)}e=e.substr(0,e.length-t.length)}if(e)this.hostname=e}},function(e,t){"use strict";e.exports={isString:function(e){return typeof e==="string"},isObject:function(e){return typeof e==="object"&&e!==null},isNull:function(e){return e===null},isNullOrUndefined:function(e){return e==null}}},function(e,t){e.exports=function(e){if(!e.webpackPolyfill){e.deprecate=function(){};e.paths=[];e.children=[];Object.defineProperty(e,"loaded",{enumerable:true,configurable:false,get:function(){return e.l}});Object.defineProperty(e,"id",{enumerable:true,configurable:false,get:function(){return e.i}});e.webpackPolyfill=1}return e}},function(e,t){e.exports=r}])})},1252:function(e,t,r){(function(t){if(true){e.exports=t(r(845))}else if(typeof define==="function"&&define.amd){define(["react"],t)}else{var n;if(typeof window!=="undefined"){n=window}else if(typeof global!=="undefined"){n=global}else if(typeof self!=="undefined"){n=self}else{n=this}n.ReactDOM=t(n.React)}})(function(e){return e.__SECRET_DOM_DO_NOT_USE_OR_YOU_WILL_BE_FIRED})}});